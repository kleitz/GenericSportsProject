

/****** Object:  StoredProcedure [dbo].[usp_GetAllNewsDetailInfo]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllNewsDetailInfo]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllNewsDetailInfo]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionPointsByCompetitionID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionPointsByCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionPointsByCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorListForUserSide]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorListForUserSide]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorListForUserSide]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionResultsByCompetitionID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionResultsByCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionResultsByCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionFixturesByCompetitionID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionFixturesByCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionFixturesByCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetNewsDataByNewsID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetNewsDataByNewsID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetNewsDataByNewsID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubIDAndClubName]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubIDAndClubName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubIDAndClubName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubBySportID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllPlayer]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllPlayer]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllPlayer]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionVideoByCompetitionIDAndVideoType]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionVideoByCompetitionIDAndVideoType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionVideoByCompetitionIDAndVideoType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionSponsorByCompetitionID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionSponsorByCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionSponsorByCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetNewsByCompetitionId]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetNewsByCompetitionId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetNewsByCompetitionId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllClubs]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllClubs]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllClubs]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllTeams]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllTeams]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllTeams]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllCompetition]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllCompetition]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllCompetition]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDetailAllTeamCompetitionGroupByCompetitionId]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDetailAllTeamCompetitionGroupByCompetitionId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDetailAllTeamCompetitionGroupByCompetitionId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamDetailByNotInTeamID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamDetailByNotInTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamDetailByNotInTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamList]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamListByCompetitionId]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamListByCompetitionId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamListByCompetitionId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllLeagueList]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllLeagueList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllLeagueList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionOnlyCup]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionOnlyCup]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionOnlyCup]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionOnlyLeague]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionOnlyLeague]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionOnlyLeague]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteClubSports]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteClubSports]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteClubSports]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportNotAssignByClubId]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportNotAssignByClubId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportNotAssignByClubId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubSportListByClubId]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubSportListByClubId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubSportListByClubId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllCompetitionList]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllCompetitionList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllCompetitionList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllTeamsByUser]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllTeamsByUser]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllTeamsByUser]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonListForCompetitionCupAndLeague]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSeasonListForCompetitionCupAndLeague]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSeasonListForCompetitionCupAndLeague]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportDetailBySportName]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportDetailBySportName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportDetailBySportName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionVideoByCompetitionIDCheck]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionVideoByCompetitionIDCheck]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionVideoByCompetitionIDCheck]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionPhotoByCompetitionID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionPhotoByCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionPhotoByCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubSports]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertClubSports]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertClubSports]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMatchType]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllMatchType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllMatchType]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchType]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateMatchType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateMatchType]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchType]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertMatchType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertMatchType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMatchStatus]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllMatchStatus]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllMatchStatus]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchStatus]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateMatchStatus]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateMatchStatus]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchStatus]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertMatchStatus]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertMatchStatus]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDivision]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateDivision]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateDivision]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDivisionList]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDivisionList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDivisionList]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDivision]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertDivision]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertDivision]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDetailAllTeamList]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDetailAllTeamList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDetailAllTeamList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerSuspendedFromPerformance]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerSuspendedFromPerformance]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerSuspendedFromPerformance]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamPlayerDetailByTeamID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamPlayerDetailByTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamPlayerDetailByTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTeamPlayer]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteTeamPlayer]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteTeamPlayer]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamPlayerListByTeamID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamPlayerListByTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamPlayerListByTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMasterPlayerIDByUserID]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMasterPlayerIDByUserID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMasterPlayerIDByUserID]
GO

/****** Object:  StoredProcedure [dbo].[usp_EditTeamMasterPlayerCoach]    Script Date: 03/02/2016 12:54:51 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_EditTeamMasterPlayerCoach]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_EditTeamMasterPlayerCoach]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayer]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertTeamPlayer]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertTeamPlayer]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPhotoByPlayerID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPhotoByPlayerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPhotoByPlayerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerDetailsBySelectedPlayerID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerDetailsBySelectedPlayerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerDetailsBySelectedPlayerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerList]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerDetailByPlayerID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerDetailByPlayerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerDetailByPlayerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayerHistory]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertTeamPlayerHistory]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertTeamPlayerHistory]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayer1]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertTeamPlayer1]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertTeamPlayer1]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeamPlayer]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateTeamPlayer]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateTeamPlayer]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamA1PlayerByMatchID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamA1PlayerByMatchID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamA1PlayerByMatchID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamAPlayerByMatchID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamAPlayerByMatchID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamAPlayerByMatchID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionPlayerPerfomance]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetitionPlayerPerfomance]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetitionPlayerPerfomance]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayerTransfer]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertTeamPlayerTransfer]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertTeamPlayerTransfer]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchPlayerPerformanceByPlayerId]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteMatchPlayerPerformanceByPlayerId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteMatchPlayerPerformanceByPlayerId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsByNotInTeamID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamsByNotInTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamsByNotInTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamIDByTeamMasterIDandCompetitionID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamIDByTeamMasterIDandCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamIDByTeamMasterIDandCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTransferPlayerToTeamPlayer]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteTransferPlayerToTeamPlayer]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteTransferPlayerToTeamPlayer]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPlayer]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertPlayer]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertPlayer]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMerchandiseType]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateMerchandiseType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateMerchandiseType]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMerchandiseType]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertMerchandiseType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertMerchandiseType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMerchandise]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllMerchandise]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllMerchandise]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMerchandiseByMerchandise]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMerchandiseByMerchandise]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMerchandiseByMerchandise]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMerchandise]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteMerchandise]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteMerchandise]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerAllPositionList]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerAllPositionList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerAllPositionList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportByPlayerID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportByPlayerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportByPlayerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTransferPlayerToOtherTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTransferPlayerToOtherTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTransferPlayerToOtherTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMerchandise]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateMerchandise]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateMerchandise]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMerchandise]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertMerchandise]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertMerchandise]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerNameByPlayerID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerNameByPlayerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerNameByPlayerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMerchandiseType]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteMerchandiseType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteMerchandiseType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMerchandiseType]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllMerchandiseType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllMerchandiseType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMerchandiseTypeByMerchandiseTypeId]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMerchandiseTypeByMerchandiseTypeId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMerchandiseTypeByMerchandiseTypeId]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTransferPlayerToMatchPlayerPerformance]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteTransferPlayerToMatchPlayerPerformance]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteTransferPlayerToMatchPlayerPerformance]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetition]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateCompetition]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateCompetition]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_MatchWisePlayerPerformancePlayerEntryByCompetitionIdAndTeamID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_MatchWisePlayerPerformancePlayerEntryByCompetitionIdAndTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_MatchWisePlayerPerformancePlayerEntryByCompetitionIdAndTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_MatchWisePlayerPerformancePlayerEntry]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_MatchWisePlayerPerformancePlayerEntry]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_MatchWisePlayerPerformancePlayerEntry]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionBySportID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestPlayerID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestPlayerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestPlayerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchResultPlayerPerformance]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateMatchResultPlayerPerformance]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateMatchResultPlayerPerformance]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchResult]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateMatchResult]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateMatchResult]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchResult]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertMatchResult]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertMatchResult]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSuspendedFlag]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSuspendedFlag]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSuspendedFlag]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSuspendedCount]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSuspendedCount]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSuspendedCount]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionPlayerPerfomanceData]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionPlayerPerfomanceData]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionPlayerPerfomanceData]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateIsPlayedForMatch]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateIsPlayedForMatch]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateIsPlayedForMatch]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPlayerCardDetail]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertPlayerCardDetail]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertPlayerCardDetail]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchResult]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteMatchResult]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteMatchResult]
GO

/****** Object:  StoredProcedure [dbo].[usp_getYelloowRed]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_getYelloowRed]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_getYelloowRed]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerGoalByMatchPlayerID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerGoalByMatchPlayerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerGoalByMatchPlayerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCountMatchID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCountMatchID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCountMatchID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamGoalTotalMatchID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamGoalTotalMatchID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamGoalTotalMatchID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchPlayerExists]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMatchPlayerExists]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMatchPlayerExists]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamByCompetitionIdAndMatchID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamByCompetitionIdAndMatchID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamByCompetitionIdAndMatchID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePlayerPerformanceFlag]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdatePlayerPerformanceFlag]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdatePlayerPerformanceFlag]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePlayerPerformance]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdatePlayerPerformance]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdatePlayerPerformance]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSuspendedFlag]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSuspendedFlag]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSuspendedFlag]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionAndTeamDetaibyMatchID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionAndTeamDetaibyMatchID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionAndTeamDetaibyMatchID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetition]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetition]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetition]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMasterTeamsNotInCompetitionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMasterTeamsNotInCompetitionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMasterTeamsNotInCompetitionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchPlayerPerformance]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteMatchPlayerPerformance]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteMatchPlayerPerformance]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchPlayerPerfomance]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertMatchPlayerPerfomance]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertMatchPlayerPerfomance]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionMatchByCompetitionIDAndTeamID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionMatchByCompetitionIDAndTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionMatchByCompetitionIDAndTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchRating]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateMatchRating]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateMatchRating]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchRatingByMatchRatingId]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMatchRatingByMatchRatingId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMatchRatingByMatchRatingId]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchRating]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertMatchRating]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertMatchRating]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsDetailByMatchId]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamsDetailByMatchId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamsDetailByMatchId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMatchRatingByMatchId]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllMatchRatingByMatchId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllMatchRatingByMatchId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionMatchList]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionMatchList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionMatchList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllLocation]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllLocation]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllLocation]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionMatch]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateCompetitionMatch]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateCompetitionMatch]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionMatchDetailByMatchID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionMatchDetailByMatchID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionMatchDetailByMatchID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionMatch]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetitionMatch]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetitionMatch]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDivisionTeamsByUser]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDivisionTeamsByUser]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDivisionTeamsByUser]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchType]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteMatchType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteMatchType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchTypeByMatchTypeId]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMatchTypeByMatchTypeId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMatchTypeByMatchTypeId]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteEvent]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteEvent]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteEvent]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetEventIDAndEventName]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetEventIDAndEventName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetEventIDAndEventName]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillComptitionIDAndCompetitionName]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillComptitionIDAndCompetitionName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillComptitionIDAndCompetitionName]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateLocationName]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateLocationName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateLocationName]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchStatus]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteMatchStatus]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteMatchStatus]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchStatusByMatchStatusId]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMatchStatusByMatchStatusId]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMatchStatusByMatchStatusId]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLocationByID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLocationByID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLocationByID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataEvent]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataEvent]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataEvent]
GO

/****** Object:  StoredProcedure [dbo].[usp_IsEventHasOtherData]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_IsEventHasOtherData]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_IsEventHasOtherData]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCountryByID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCountryByID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCountryByID]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteCompetition]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteCompetition]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteCompetition]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteSponsor]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteSponsor]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteSponsor]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorIDAndSponsorName]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorIDAndSponsorName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorIDAndSponsorName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataSponsor]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataSponsor]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataSponsor]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteLocation]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteLocation]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteLocation]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateLocation]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateLocation]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateLocation]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertLocation]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertLocation]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertLocation]
GO

/****** Object:  StoredProcedure [dbo].[usp_IsSponsorHasOtherData]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_IsSponsorHasOtherData]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_IsSponsorHasOtherData]
GO

/****** Object:  StoredProcedure [dbo].[usp_IsCompetitionHasOtherData]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_IsCompetitionHasOtherData]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_IsCompetitionHasOtherData]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMasterTeamsNotInDivisionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMasterTeamsNotInDivisionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMasterTeamsNotInDivisionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamDetailByTeamID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamDetailByTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamDetailByTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteDivision]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteDivision]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteDivision]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsByDivisionID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamsByDivisionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamsByDivisionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteDivisionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteDivisionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteDivisionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDivisionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateDivisionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateDivisionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDivisionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertDivisionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertDivisionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionList]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionList]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertVideo]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertVideo]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertVideo]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataPicture]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataPicture]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataPicture]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataVideo]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataVideo]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataVideo]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataNews]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataNews]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataNews]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsByCompetitionID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamsByCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamsByCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillTeamIDAndTeamName]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillTeamIDAndTeamName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillTeamIDAndTeamName]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteCompetitionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteCompetitionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteCompetitionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateCompetitionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateCompetitionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionTeam]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetitionTeam]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetitionTeam]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionIDAndCompetitionName]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionIDAndCompetitionName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionIDAndCompetitionName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamIDAndTeamName]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamIDAndTeamName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamIDAndTeamName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetVideoDataByVideoID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetVideoDataByVideoID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetVideoDataByVideoID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateVideoLinks]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateVideoLinks]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateVideoLinks]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateVideo]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateVideo]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateVideo]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetOtherVideoPathByVideoID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetOtherVideoPathByVideoID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetOtherVideoPathByVideoID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestVideoID]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestVideoID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestVideoID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertVideoLinks]    Script Date: 03/02/2016 12:54:52 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertVideoLinks]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertVideoLinks]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePicture]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdatePicture]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdatePicture]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPictureDataByPictureID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPictureDataByPictureID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPictureDataByPictureID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPictureLinks]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertPictureLinks]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertPictureLinks]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePictureLinks]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdatePictureLinks]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdatePictureLinks]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPictureLogoByPictureID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPictureLogoByPictureID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPictureLogoByPictureID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestPictureID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestPictureID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestPictureID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPicture]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertPicture]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertPicture]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateNews]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateNews]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateNews]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertNews]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertNews]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertNews]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillCountryIDAndCountryName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillCountryIDAndCountryName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillCountryIDAndCountryName]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateNewsLinks]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateNewsLinks]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateNewsLinks]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetOtherVideoPathByNewsID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetOtherVideoPathByNewsID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetOtherVideoPathByNewsID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetNewsLogoByNewsID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetNewsLogoByNewsID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetNewsLogoByNewsID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertNewsLinks]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertNewsLinks]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertNewsLinks]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestNewsID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestNewsID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestNewsID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorTypeIDAndSponsorTypeName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorTypeIDAndSponsorTypeName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorTypeIDAndSponsorTypeName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLevelIDAndSponsorLevelName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorLevelIDAndSponsorLevelName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorLevelIDAndSponsorLevelName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorDataBySponsorID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorDataBySponsorID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorDataBySponsorID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetEventDataByEventID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetEventDataByEventID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetEventDataByEventID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerIDAndPlayerNameByTeamID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerIDAndPlayerNameByTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerIDAndPlayerNameByTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerIDAndPlayerName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerIDAndPlayerName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerIDAndPlayerName]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsorSport]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSponsorSport]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSponsorSport]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsor]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSponsor]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSponsor]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLogoBySponsorID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorLogoBySponsorID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorLogoBySponsorID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsorSports]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertSponsorSports]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertSponsorSports]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestSponsorID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestSponsorID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestSponsorID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsor]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertSponsor]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertSponsor]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateEventSport]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateEventSport]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateEventSport]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillClubMemberIDAndClubMemberName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillClubMemberIDAndClubMemberName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillClubMemberIDAndClubMemberName]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillClubOwnerIDAndClubOwnerName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillClubOwnerIDAndClubOwnerName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillClubOwnerIDAndClubOwnerName]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillTeamMemberIDAndTeamMemberName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillTeamMemberIDAndTeamMemberName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillTeamMemberIDAndTeamMemberName]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillClubIDAndClubName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillClubIDAndClubName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillClubIDAndClubName]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertEventSports]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertEventSports]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertEventSports]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestEventID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestEventID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestEventID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertEvent]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertEvent]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertEvent]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberIDAndTeamMemberName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberIDAndTeamMemberName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberIDAndTeamMemberName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberIDAndClubMemberName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMemberIDAndClubMemberName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMemberIDAndClubMemberName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerIDAndClubOwnerName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubOwnerIDAndClubOwnerName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubOwnerIDAndClubOwnerName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMember]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMember]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMember]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMemberList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMemberList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubMember]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateClubMember]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateClubMember]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubMember]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertClubMember]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertClubMember]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberTypeBySportID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMemberTypeBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMemberTypeBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberTypeList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMemberTypeList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMemberTypeList]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubMemberType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertClubMemberType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertClubMemberType]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubMemberType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateClubMemberType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateClubMemberType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerDetailByClubOwnerID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubOwnerDetailByClubOwnerID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubOwnerDetailByClubOwnerID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubOwner]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertClubOwner]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertClubOwner]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubOwnerList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubOwnerList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerbyUserForm]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubOwnerbyUserForm]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubOwnerbyUserForm]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubOwner]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateClubOwner]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateClubOwner]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberTypeBySportID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberTypeBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberTypeBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerTypeBySportID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerTypeBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerTypeBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberTypeDetailByTeamMemberTypeID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberTypeDetailByTeamMemberTypeID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberTypeDetailByTeamMemberTypeID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeamMemberType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateTeamMemberType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateTeamMemberType]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamMemberType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertTeamMemberType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertTeamMemberType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberTypeList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberTypeList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberTypeList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerTypeList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerTypeList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerTypeList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerTypeDetailByPlayerTypeID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerTypeDetailByPlayerTypeID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerTypeDetailByPlayerTypeID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePlayerType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdatePlayerType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdatePlayerType]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPlayerType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertPlayerType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertPlayerType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberDetail]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberDetail]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberDetail]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberDetailByTeamMemberID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberDetailByTeamMemberID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberDetailByTeamMemberID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamMember]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertTeamMember]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertTeamMember]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberListByTeamID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberListByTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberListByTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeamMember]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateTeamMember]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateTeamMember]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamMemberType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamMemberType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllPlayerList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetAllPlayerList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetAllPlayerList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamNameByTeamID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamNameByTeamID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamNameByTeamID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamPlayerType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamPlayerType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamPlayerType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestRegistrationID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestRegistrationID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestRegistrationID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserDetailsByUserID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserDetailsByUserID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserDetailsByUserID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateUser]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateUser]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateUser]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertUser]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertUser]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertUser]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamBySportID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetTeamBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetTeamBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSport]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSport]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSport]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetPlayerType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetPlayerType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserRole]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserRole]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserRole]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertUserRole]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertUserRole]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertUserRole]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserRoleDetailByUserRoleID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserRoleDetailByUserRoleID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserRoleDetailByUserRoleID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserRoleList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserRoleList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserRoleList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateUserRole]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateUserRole]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateUserRole]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateAdminIDForRegistrationForm]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateAdminIDForRegistrationForm]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateAdminIDForRegistrationForm]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonIDAndSeasonName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSeasonIDAndSeasonName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSeasonIDAndSeasonName]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportIDAndSportName]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportIDAndSportName]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportIDAndSportName]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsorLevel]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertSponsorLevel]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertSponsorLevel]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLevelDetailBySponsorLevelID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorLevelDetailBySponsorLevelID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorLevelDetailBySponsorLevelID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLevelList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorLevelList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorLevelList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsorLevel]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSponsorLevel]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSponsorLevel]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorTypeDetailBySponsorTypeID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorTypeDetailBySponsorTypeID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorTypeDetailBySponsorTypeID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsorType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertSponsorType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertSponsorType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorTypeList]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSponsorTypeList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSponsorTypeList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsorType]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSponsorType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSponsorType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserNameByRegistrantionID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserNameByRegistrantionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserNameByRegistrantionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistrationParentDetail]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetRegistrationParentDetail]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetRegistrationParentDetail]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistationParentsDetailsByParentID]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetRegistationParentsDetailsByParentID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetRegistationParentsDetailsByParentID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateRegistrationParents]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateRegistrationParents]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateRegistrationParents]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertRegistrationParents]    Script Date: 03/02/2016 12:54:53 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertRegistrationParents]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertRegistrationParents]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistrationParentsDetails]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetRegistrationParentsDetails]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetRegistrationParentsDetails]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionGroupList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionGroupList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionGroupList]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteCompetitionGroup]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteCompetitionGroup]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteCompetitionGroup]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateEvent]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateEvent]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateEvent]
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteDocReg]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_DeleteDocReg]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_DeleteDocReg]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDocumentList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDocumentList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDocumentList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionFormat]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateCompetitionFormat]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateCompetitionFormat]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionFormat]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetitionFormat]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetitionFormat]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDivisionByDivisionID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDivisionByDivisionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDivisionByDivisionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionFormatDetailByCompetitionFormatID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionFormatDetailByCompetitionFormatID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionFormatDetailByCompetitionFormatID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionFormatList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionFormatList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionFormatList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegDocDetailByRegDocumentID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetRegDocDetailByRegDocumentID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetRegDocDetailByRegDocumentID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDocument]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertDocument]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertDocument]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDocument]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateDocument]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateDocument]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillDropDownDocumentType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillDropDownDocumentType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillDropDownDocumentType]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionLegaue]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateCompetitionLegaue]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateCompetitionLegaue]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionLegaue]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetitionLegaue]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetitionLegaue]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionLeagueDetailByCompetitionLeagueID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionLeagueDetailByCompetitionLeagueID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionLeagueDetailByCompetitionLeagueID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionGroup]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateCompetitionGroup]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateCompetitionGroup]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionGroup]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetitionGroup]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetitionGroup]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistrationIDByUserID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetRegistrationIDByUserID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetRegistrationIDByUserID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDocumentType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertDocumentType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertDocumentType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDocumentTypeByDocumentTypeID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDocumentTypeByDocumentTypeID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDocumentTypeByDocumentTypeID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDocumentTypeList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDocumentTypeList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDocumentTypeList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDocumentType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateDocumentType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateDocumentType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionGroupDetailByCompetitionGroupID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionGroupDetailByCompetitionGroupID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionGroupDetailByCompetitionGroupID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionLeagueList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionLeagueList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionLeagueList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserAndRegistrationDetailByUserID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserAndRegistrationDetailByUserID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserAndRegistrationDetailByUserID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionDetailByCompetitionID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionDetailByCompetitionID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionDetailByCompetitionID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionTypeDetailByCompetitionTypeID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionTypeDetailByCompetitionTypeID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionTypeDetailByCompetitionTypeID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionTypeList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCompetitionTypeList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCompetitionTypeList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateRegistration]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateRegistration]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateRegistration]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateCompetitionType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateCompetitionType]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertCompetitionType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertCompetitionType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserPhotoByUserID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserPhotoByUserID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserPhotoByUserID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestUserID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetLatestUserID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetLatestUserID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertRegistration]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertRegistration]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertRegistration]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCountryList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetCountryList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetCountryList]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserTypeDetailByUserTypeID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserTypeDetailByUserTypeID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserTypeDetailByUserTypeID]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertUserType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertUserType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertUserType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserTypeList]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetUserTypeList]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetUserTypeList]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateUserType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateUserType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateUserType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberTypeDetailByClubMemberTypeID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMemberTypeDetailByClubMemberTypeID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMemberTypeDetailByClubMemberTypeID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberDetailByClubMemberID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMemberDetailByClubMemberID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMemberDetailByClubMemberID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubSportIDByClubID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubSportIDByClubID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubSportIDByClubID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberType]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubMemberType]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubMemberType]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubNameByClubID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubNameByClubID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubNameByClubID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportSmallImageBySportID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportSmallImageBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportSmallImageBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportLogoImageBySportID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportLogoImageBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportLogoImageBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportMainImageBySportID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportMainImageBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportMainImageBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonLogoBySeasonID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSeasonLogoBySeasonID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSeasonLogoBySeasonID]
GO

/****** Object:  StoredProcedure [dbo].[usp_ClubPhoto]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_ClubPhoto]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_ClubPhoto]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubLogo]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubLogo]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubLogo]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubSports]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateClubSports]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateClubSports]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportIDByClubID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportIDByClubID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportIDByClubID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataClub]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataClub]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataClub]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMaxValue]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetMaxValue]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetMaxValue]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubDataByClubID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetClubDataByClubID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetClubDataByClubID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClub]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateClub]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateClub]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClub]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertClub]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertClub]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillSportDropdown]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillSportDropdown]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillSportDropdown]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataSeason]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataSeason]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataSeason]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonDataBySeasonID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSeasonDataBySeasonID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSeasonDataBySeasonID]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSeason]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSeason]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSeason]
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSport]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_UpdateSport]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_UpdateSport]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSeason]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertSeason]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertSeason]
GO

/****** Object:  StoredProcedure [dbo].[usp_FillCountryDropdown]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_FillCountryDropdown]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_FillCountryDropdown]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportDetailBySportID]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetSportDetailBySportID]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetSportDetailBySportID]
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataSport]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_GetDataSport]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_GetDataSport]
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSport]    Script Date: 03/02/2016 12:54:54 ******/
IF  EXISTS (SELECT * FROM sys.objects WHERE object_id = OBJECT_ID(N'[dbo].[usp_InsertSport]') AND type in (N'P', N'PC'))
DROP PROCEDURE [dbo].[usp_InsertSport]
GO


/****** Object:  StoredProcedure [dbo].[usp_GetAllNewsDetailInfo]    Script Date: 03/02/2016 12:54:55 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROCEDURE [dbo].[usp_GetAllNewsDetailInfo]            

   @SportID int    
AS               
       
 SELECT n.*,nl.*,DATENAME(MONTH, n.CreatedDate)+ ' ' + RIGHT('0' + DATENAME(DAY, n.CreatedDate), 2) + ', ' + 
 DATENAME(YEAR, n.CreatedDate) AS CreatedOnDateChange       
 FROM tblNews n Inner Join tblNewsLinks nl on n.NewsId = nl.NewsId
 where nl.SportId = @SportID
  and nl.TeamId = 0 and nl.Competitionid = 0    
 order by n.CreatedDate desc                   
      
      
      
      
          
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionPointsByCompetitionID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

--Exec usp_GetCompetitionPointsByCompetitionID 35           
            
CREATE PROC [dbo].[usp_GetCompetitionPointsByCompetitionID]     
    
 @COMPID INT                  
AS                   
            
--DECLARE @COMPID INT                                    
--SET @COMPID = 35                             
            
  IF OBJECT_ID('tempdb..#TempStandings') IS NOT NULL                  
            
        DROP TABLE #TempStandings;                              
                  
  IF OBJECT_ID('tempdb..#Matches') IS NOT NULL                  
            
        DROP TABLE #Matches;                              
            
  IF OBJECT_ID('tempdb..#MatchesResults') IS NOT NULL                  
            
        DROP TABLE #MatchesResults;                              
                 
  IF OBJECT_ID('tempdb..#UpdatedMatchStanding') IS NOT NULL                  
            
        DROP TABLE #UpdatedMatchStanding;                              
            
  IF OBJECT_ID('tempdb..#ts') IS NOT NULL                  
            
        DROP TABLE #ts;                              
            
    CREATE TABLE #TempStandings                  
            
        (                  
            
          CompId INT ,                  
            
          TeamId INT ,                  
            
          MTeamId INT ,                  
            
          GroupID INT ,            
            
          NSPenaltyPoint INT ,                  
            
          Win INT ,                  
            
          Loss INT ,                  
            
          Played INT ,                  
            
          Draw INT ,                  
            
          GF INT ,                  
            
          GA INT                  
            
        );                              
              
    SELECT  RowNum = ROW_NUMBER() OVER ( ORDER BY t.TeamID ) ,                  
            
            t.*,ct.CompetitionGroupId    
    INTO    #Matches                  
            
    FROM    tblTeam t                 
    Inner Join tblCompetitionTeams ct on ct.TeamId = t.TeamId    
            
    WHERE   ct.CompetitionId = @COMPID                  
            
            AND (t.IsArchive = 0 or t.IsArchive Is Null)                  
            
--CompetitionGroupId in(select CompetitionGroupID from tblCompetitionGroup where CompetitionID = @COMPID)                              
            
        --select * from #Matches                              
            
    DECLARE @MaxRownum INT;                              
            
    SET @MaxRownum = ( SELECT   MAX(RowNum)                  
            
                       FROM     #Matches                  
            
                     );                              
            
    DECLARE @Iter INT;                              
            
    SET @Iter = ( SELECT    MIN(RowNum)                  
            
                  FROM      #Matches                  
            
                );                              
            
            
    WHILE @Iter <= @MaxRownum                  
            
        BEGIN                              
            
            DECLARE @TeamID INT;                              
            
            DECLARE @MTeamID INT;                              
            
            DECLARE @GID INT;                              
            
            DECLARE @TeamName NVARCHAR(100);                              
            DECLARE @TeamLogo NVARCHAR(250);                              
            
--Declare @GroupName nvarchar(100)                              
            
            SELECT  @TeamID = TeamID ,                  
            
                    @MTeamID = TeamID ,                  
            
                    @GID = CompetitionGroupId ,                  
            
              @TeamName = TeamName ,                  
            
                    @TeamLogo = TeamLogoFile    
            
            FROM    #Matches                  
  
            WHERE   RowNum = @Iter;                              
            
                  
            
            INSERT  INTO #TempStandings                  
            
                    SELECT  @COMPID ,                  
            
                   @TeamID ,                  
            
       @MTeamID ,                  
            
                            @GID ,            
            
                            ( SELECT   ISNULL(SUM(Mr.NoShowPanltyPoint), 0)  AS NSPenaltyPoint                
            
                              FROM      tblMatchResult AS Mr                
        
                       INNER JOIN tblMatch AS M ON Mr.MatchID = M.MatchID                
            
                              WHERE     Mr.LosingTeam = @TeamID                
                                        AND M.MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND M.MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName = 'Played')
            
                            ) AS NSP ,            
            
                                       
            
                            ( SELECT    COUNT(MatchResultID) AS Win                  
            
                              FROM      tblMatchResult AS Mr                  
            
                                        INNER JOIN tblMatch AS M ON Mr.MatchID = M.MatchID                  
            
                              WHERE     Mr.WinningTeam = @TeamID               
                                        AND M.MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND M.MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName = 'Played')
            
                            ) AS W ,                  
            
                            ( SELECT    COUNT(DISTINCT M.MatchID) AS Lost                  
            
                              FROM      tblMatchResult AS Mr                  
            
                                        INNER JOIN tblMatch AS M ON Mr.MatchID = M.MatchID                  
            
                              WHERE     Mr.LosingTeam = @TeamID                
                                        AND M.MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND M.MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName in ('Played','Cancelled'))
            
                            ) AS L ,                  
            
                            ( SELECT    COUNT(DISTINCT M.MatchID) AS Played                  
            
                              FROM      tblMatchResult AS Mr                  
            
                                        INNER JOIN tblMatch AS M ON Mr.MatchID = M.MatchID                  
            
                              WHERE     
                              M.MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                              AND M.MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName in ('Played','Cancelled'))
            
                                        AND ( M.TeamAID = @TeamID                  
            
                                              OR M.TeamBID = @TeamID                  
            
                                            )                  
            
                            ) AS P ,                  
            
                           ( SELECT    COUNT(MatchResultID) AS Draw                  
            
                              FROM      tblMatchResult AS Mr                  
            
                                        INNER JOIN tblMatch AS M ON Mr.MatchID = M.MatchID                  
            
                              WHERE     ( M.TeamAID = @TeamID                  
            
                                          OR M.TeamBID = @TeamID                  
            
                                        )                  
            
                                        AND Mr.DrawTeam = 1                  
            
                                        AND M.MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND M.MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName = 'Played')
            
                            ) AS D ,                  
            
                            ( SELECT    ISNULL(SUM(GoalFor), 0) AS GF                  
            
                              FROM      ( SELECT    ISNULL(TeamATotal, 0) AS GoalFor     
            
                                          FROM      tblMatchResult                  
            
                                          WHERE     MatchID IN (                  
            
                                                    SELECT  MatchID                  
            
                                                    FROM    tblMatch                  
            
                            WHERE   TeamAID = @TeamID                  
            
                                        AND MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName = 'Played'))                  
            
                                          UNION ALL                  
            
                                          SELECT    ISNULL(TeamBTotal, 0) AS GoalFor                  
            
                                          FROM      tblMatchResult                  
            
                                          WHERE     MatchID IN (                  
            
                                                    SELECT  MatchID                  
            
                                                    FROM    tblMatch                  
            
                                                    WHERE   TeamBID = @TeamID                  
            
                                        AND MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName = 'Played'))                  
            
                                        ) a                  
            
                            ) AS GF ,                  
            
                            ( SELECT    ISNULL(SUM(GoalAgainst), 0) AS GA                  
            
                            FROM      ( SELECT    ISNULL(TeamBTotal, 0) AS GoalAgainst                  
            
                                          FROM      tblMatchResult                  
            
                                          WHERE     MatchID IN (                  
            
                                                    SELECT  MatchID                  
            
                                                    FROM    tblMatch                  
            
                                                    WHERE   TeamAID = @TeamID                  
            
                                        AND MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName = 'Played'))                  
            
                                          UNION ALL                  
            
                                          SELECT    ISNULL(TeamATotal, 0) AS GoalAgainst                  
            
                                          FROM      tblMatchResult                  
            
                                          WHERE     MatchID IN (                  
            
                                                    SELECT  MatchID                  
            
                                                    FROM    tblMatch                  
            
                                                    WHERE   TeamBID = @TeamID                  
            
                                        AND MatchTypeId in (Select MatchTypeId from tblMatchType where MatchTypeName = 'Group Stage')
                                        AND MatchStatusId in (Select MatchStatusId from tblMatchStatus where MatchStatusName = 'Played'))                  
            
                                        ) b                  
            
                            ) AS GA;                              
            
                  
            
                  
            
                  
            
            SET @Iter = @Iter + 1;                              
            
                  
            
                  
            
                  
            
        END;                              
            
                  
            
                  
            
                  
            
--select * from #TempStandings                              
            
                  
            
                  
            
                  
            
    SELECT  0 AS RowID ,                  
     
            TMas.TeamName ,                  
            
            ( TMas.TeamLogoFile ) AS TeamLogo ,                  
            
            ISNULL(( ( ts.Win * cp.WinPoint ) + ( ts.Loss * cp.LossPoint )                  
            
                     + ( ts.Draw * cp.DrawPoint ) - ts.NSPenaltyPoint ), 0) AS Pts ,                  
            
 ISNULL(( GF - GA ), 0) AS GD ,                  
            
            ts.* ,                  
            
            ISNULL(tg.CompetitionGroupName, '') AS CompetitionGroupName ,                  
            
            ISNULL(tg.CompetitionGroupID, 0) AS CompetitionGroupID                  
            
    INTO    #MatchesResults                  
            
    FROM    #TempStandings ts                  
            
            LEFT OUTER JOIN tblCompetition cp ON ts.CompId = cp.CompetitionId                  
            
            LEFT OUTER JOIN tblCompetitionGroup AS tg ON ts.GroupID = tg.CompetitionGroupID                  
            
            LEFT OUTER JOIN tblTeam TMas ON TMas.TeamID = ts.TeamID;                              
            
                  
            
                  
            
                  
            
	--Select * from #MatchesResults                              
            
                  
            
                  
            
                  
            IF EXISTS ( SELECT  COUNT(Pts)                  
            
                FROM    #MatchesResults                  
            
                HAVING  MAX(Pts) > 0 )                  
            
        BEGIN                              
            
                  
            
                  
            
                  
            
            SELECT  DENSE_RANK() OVER ( PARTITION BY GroupID ORDER BY Pts DESC ) AS TeamRank ,                  
            
                    *                  
            
            INTO    #UpdatedMatchStanding                  
            
            FROM    #MatchesResults                  
            
            ORDER BY GroupID ,                  
            
                    TeamRank ,                  
            
             GD DESC ,                  
            
                    GF DESC;                              
            
                  
            
                  
            
                  
            
            DECLARE @counter INT;                              
            
                  
            
                  
            
                  
            
            SET @counter = 0;                              
            
                  
            
                  
            
                  
            
            UPDATE  #UpdatedMatchStanding                  
            
            SET     @counter = RowID = @counter + 1                              
            
                  
            
                  
            
                  
            
--SELECT * FROM #UpdatedMatchStanding                              
            
                  
            
                  
            
                  
            
--SELECT distinct t1.RowID, t1.TeamRank, t1.TeamId, t1.CompetitionGroupID FROM #UpdatedMatchStanding t1                              
            
                  
            
                  
            
                  
            
-- JOIN #UpdatedMatchStanding t2 ON t1.TeamRank = t2.TeamRank AND t1.TeamId != t2.TeamId and t1.CompetitionGroupID = t2.CompetitionGroupID                              
            
                  
            
                  
            
                  
            
;                  
            
            WITH    tieresult_cte                  
            
                      AS ( SELECT DISTINCT                  
            
                                    t1.RowID ,                  
            
                                    t1.TeamRank ,                  
            
                                    t1.TeamId ,                  
            
                                    t1.CompetitionGroupID                  
            
                           FROM     #UpdatedMatchStanding t1                  
            
                                     JOIN #UpdatedMatchStanding t2 ON t1.TeamRank = t2.TeamRank                  
            
                                                              AND t1.TeamId != t2.TeamId                  
            
                                                              AND t1.CompetitionGroupID = t2.CompetitionGroupID                  
            
                                   
            
                         ),                  
            
                    h2hresult_count                  
            
                      AS ( SELECT   WinningTeam ,             
            
                                    SUM(WinCount) AS WinCount ,                  
            
                                    GID                  
            
                           FROM     ( SELECT    Mr.WinningTeam ,                  
            
                                                SUM(Mr.WinningTeam) AS WinCount ,                  
            
                                                t1.CompetitionGroupID AS GID                  
            
                                      FROM      tblMatchResult AS Mr                  
            
                                                INNER JOIN tblMatch AS M ON Mr.MatchID = M.MatchID                  
            
              AND M.MatchTypeId = 0 and m.MatchStatusId=1                  
            
                                                INNER JOIN tieresult_cte t1 ON t1.TeamId = M.TeamAID                  
            
OR t1.TeamId = M.TeamBID                   
            
                                                              --AND M.TeamAID IN (                
            
                                      --SELECT                  
            
                                                              --TeamId                  
            
                                                              --FROM                  
            
                                                              --tieresult_cte )                  
            
                                                              --AND M.TeamBID IN (                  
            
                                                              --SELECT                  
            
                --TeamId                  
            
                                                              --FROM                  
            
                                                              --tieresult_cte )                          
            
                  
            
                  
            
                  
            
--INNER JOIN tieresult_cte t1 ON t1.TeamId = M.TeamAID                              
            
                  
            
                  
            
                  
            
--INNER JOIN tieresult_cte t2 ON t2.TeamId = M.TeamBID                              
            
                                      GROUP BY  Mr.WinningTeam ,                  
            
                                                t1.CompetitionGroupID                      
                                      UNION                   
            
                                      SELECT    Mr.LosingTeam ,                  
            
     0 AS WinCount ,                  
            
                                                t1.CompetitionGroupID AS GID                  
            
                                      FROM      tblMatchResult AS Mr                  
            
                                                INNER JOIN tblMatch AS M ON Mr.MatchID = M.MatchID                  
            
                           AND M.MatchTypeId = 0 and MatchStatusId = 1                  
            
                                                INNER JOIN tieresult_cte t1 ON t1.TeamId = M.TeamAID                  
            
                                                              OR t1.TeamId = M.TeamBID                  
            
                                                --              AND M.TeamAID IN (                  
            
                                                --              SELECT                  
            
                                                --              TeamId                  
            
                                                --       FROM                  
            
                                                --              tieresult_cte )                  
            
                                                --              AND M.TeamBID IN (                  
            
                                                --              SELECT                  
            
                                          --              TeamId                  
            
                                                --              FROM                  
            
                                                --              tieresult_cte )                            
            
                  
            
                  
            
                  
            
--INNER JOIN tieresult_cte t1 ON t1.TeamId = M.TeamAID                              
            
                  
            
                  
            
                  
            
--INNER JOIN tieresult_cte t2 ON t2.TeamId = M.TeamBID                              
            
                                      GROUP BY  Mr.LosingTeam ,                  
            
                                                t1.CompetitionGroupID                  
            
                                    ) a                  
            
                           GROUP BY WinningTeam ,                  
            
                                    GID                  
            
                         )                  
            
                --select DENSE_RANK() over (PARTITION BY GID order by GID, WinCount DESC) as RID,* from h2hresult_count h1                              
            
                  
            
         
            
                  
            
SELECT  DENSE_RANK() OVER ( PARTITION BY GID ORDER BY GID, WinCount DESC ) AS RID ,                  
            
        ts.*                  
            
INTO    #ts             
            
FROM    h2hresult_count h1                  
            
        RIGHT OUTER JOIN #UpdatedMatchStanding ts ON ts.TeamId = h1.WinningTeam                   
            
ORDER BY GID ,                  
            
        WinCount desc;                              
            
                  
            
                  
            
                  
            
--select * from #ts                              
            
                  
            
                  
            
                  
            
            SELECT  ( DENSE_RANK() OVER ( PARTITION BY GroupID ORDER BY Pts DESC, RID , GD DESC, GF DESC ) ) AS TeamRank ,                  
            
                    TeamName ,                  
            
                    TeamLogo ,                  
            
                    Pts ,                  
            
                    GD ,                  
            
                    CompId ,                  
            
                    MTeamId AS TeamId ,            
                              
                    TeamId as CTeamID,                
            
                    GroupID ,                  
            
                    Win ,                  
            
                    Loss ,                  
            
                    Played ,                  
            
   Draw ,                  
            
                    GF ,                  
            
                    GA ,                  
            
                    CompetitionGroupName ,                  
            
                    CompetitionGroupID                  
            
            FROM    #ts                  
            
            ORDER BY GroupID ,                  
            
                    TeamRank ,                  
            
                    GD DESC ,                  
            
                    GF DESC;                              
            
                  
            
                  
            
                  
            
        END;                              
            
                  
            
                  
            
                  
            
    ELSE                  
            
        BEGIN                              
            
                  
            
            SELECT  0 AS TeamRank ,                  
            
                    TeamName ,                  
            
                    TeamLogo ,                  
            
                    Pts ,                  
            
                    GD ,                  
            
                    CompId ,                  
            
                    MTeamId AS TeamId ,                  
                   
     TeamId  AS CTeamID,        
             
                    GroupID ,                  
            
                    Win ,                  
            
                    Loss ,                  
            
                    Played ,                  
            
                    Draw ,                  
            
                    GF ,                  
            
                    GA ,                  
            
                    CompetitionGroupName ,                  
            
                    CompetitionGroupID                  
            
            FROM    #MatchesResults                  
            
            ORDER BY GroupID ,                  
            
                    TeamName;                              
            
                  
            
        END;                              
            
                  
            
                  
            
                  
            
    IF OBJECT_ID('tempdb..#TempStandings') IS NOT NULL                  
            
        DROP TABLE #TempStandings;                              
            
                  
            
                  
            
                  
            
    IF OBJECT_ID('tempdb..#Matches') IS NOT NULL                  
            
        DROP TABLE #Matches;                              
            
                  
            
                  
            
                  
            
    IF OBJECT_ID('tempdb..#MatchesResults') IS NOT NULL                  
            
        DROP TABLE #MatchesResults;                              
            
                  
            
                  
            
                  
            
    IF OBJECT_ID('tempdb..#UpdatedMatchStanding') IS NOT NULL                  
            
        DROP TABLE #UpdatedMatchStanding;                              
            
                  
            
                  
            
                  
            
    IF OBJECT_ID('tempdb..#ts') IS NOT NULL                  
            
        DROP TABLE #ts;    
            
            
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorListForUserSide]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_GetSponsorListForUserSide]

as

Select * from tblSponsor where ActiveFlagId =1 and ShowFlagId =1 and 
(IsArchive=0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionResultsByCompetitionID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

--exec usp_GetCompetitionResultsByCompetitionID 35
CREATE Proc [dbo].[usp_GetCompetitionResultsByCompetitionID]  
                        
 @CompetitionID int          
                 
as     
    
    
SELECT  ma.MatchID, co.CompetitionName AS CompetitionName, co.CompetitionId AS CompetitionID,               
 lo.Loc_LocationName AS LocationName, ma.StartDateTime as StartDate, ma.EndDateTime as EndDate,               
 tmaA.TeamID as TeamAID, tmaA.TeamName AS TeamAName, tmaA.TeamLogoFile AS TeamALogo,               
 tmaB.TeamID as TeamBID, tmaB.TeamName AS TeamBName, tmaB.TeamLogoFile AS TeamBLogo,               
 mar.TeamATotal AS TeamAScore, mar.TeamBTotal AS TeamBScore, ma.MatchTypeId,               
 ISNULL(mar.IsNoShow, 0) AS IsNoShow, ISNULL(mar.Ispanlty, 0) AS Ispanlty,               
 ISNULL(mar.TeamApanlty, 0) AS TeamApenalty , ISNULL(mar.TeamBpanlty, 0) AS TeamBpenalty,               
 ISNULL(mar.WinningTeam, 0) AS WinningTeam, ISNULL(mar.LosingTeam, 0) AS LosingTeam,         
 ISNULL(mar.DrawTeam, 0) AS DrawTeam, ISNULL(winTeam.TeamName, '') AS WinningTeamName,         
 ISNULL(lTeam.TeamName, '') AS LosingTeamName, ISNULL(dTeam.TeamName,'') AS DrawTeamName,         
 mar.MatchResultId, mar.TeamApanlty, mar.TeamBpanlty        
FROM  tblMatch AS ma               
 INNER JOIN tblCompetitionTeams AS tmA ON ma.TeamAID = tmA.TeamID               
 inner join tblTeam tmaA on tmA.TeamId = tmaA.TeamID          
 INNER JOIN tblCompetitionTeams AS tmB ON ma.TeamBID = tmB.TeamID               
 inner join tblTeam tmaB on tmB.TeamId = tmaB.TeamID          
 INNER JOIN tblMatchResult AS mar ON ma.MatchID = mar.MatchID               
 INNER JOIN tblCompetition AS co ON ma.CompetitionID = co.CompetitionId  
 INNER JOIN tblLocation AS lo ON ma.LocationID = lo.Loc_LocationID               
 LEFT OUTER JOIN tblTeam AS winTeam ON mar.WinningTeam = winTeam.TeamID               
 LEFT OUTER JOIN tblTeam AS lTeam ON mar.LosingTeam = lTeam.TeamID               
 LEFT OUTER JOIN tblTeam AS dTeam ON mar.DrawTeam = dTeam.TeamID              
 where co.CompetitionId = @CompetitionID And tmA.CompetitionId = @CompetitionID And tmB.CompetitionId = @CompetitionID  AND ma.IsFinalized = 1      
 order by ma.StartDateTime 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionFixturesByCompetitionID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_GetCompetitionFixturesByCompetitionID]                        
  
 @CompetitionID int                        
 
as     
    
    
SELECT  Match.MatchID, Competition.CompetitionName, Competition.CompetitionId AS CompetitionID,                         
 Location.Loc_LocationName AS LocationName,                         
 Match.StartDateTime as StartDate , Match.EndDateTime as EndDate,                      
 tmaA.TeamID AS TeamAID, tmaA.TeamName AS TeamAName, tmaA.TeamLogoFile as TeamALogo,                       
 tmaB.TeamID AS TeamBID, tmaB.TeamName AS TeamBName, tmaB.TeamLogoFile as TeamBLogo,                    
 0 as TeamAScore,0 as TeamBScore ,Match.MatchTypeId,              
 0 as IsNoShow, 0 as Ispanlty, 0 as TeamApenalty, 0 as TeamBpenalty,              
 0 as WinningTeam, 0 as LosingTeam, 0 as DrawTeam,              
 '' as WinningTeamName, '' as  LosingTeamName, '' as DrawTeamName , 0 as MatchResultId, 0 as TeamApenalty, 0 as TeamBpenalty        
 FROM  tblCompetitionTeams TeamA                         
 INNER JOIN tblTeam tmaA on TeamA.TeamId = tmaA.TeamId          
 INNER JOIN tblLocation Location                         
 INNER JOIN tblMatch Match ON Location.Loc_LocationID = Match.LocationID                         
 INNER JOIN tblCompetition Competition ON Competition.CompetitionId = Match.CompetitionID ON Match.TeamAID = TeamA.TeamID                         
 INNER JOIN tblCompetitionTeams AS TeamB ON TeamB.TeamID = Match.TeamBID                
 inner join tblTeam tmaB on TeamB.TeamID = tmaB.TeamID                  
 Where 1=1                   
 --and CAST(StartDate as DATE) >= CAST(GETDATE() as DATE)                   
 and Competition.CompetitionId = @CompetitionID And TeamA.CompetitionId = @CompetitionID And TeamB.CompetitionId = @CompetitionID                     
    AND Match.MatchID NOT IN (SELECT MatchID FROM tblMatchResult) AND Match.IsFinalized = 1   
         
GO

/****** Object:  StoredProcedure [dbo].[usp_GetNewsDataByNewsID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetNewsDataByNewsID]          
          
 @NewsID int          
           
AS          
           
 SELECT n.*,nl.*,
 DATENAME(MONTH, n.CreatedDate)+ ' ' + RIGHT('0' + DATENAME(DAY,n.CreatedDate), 2) + ', ' + DATENAME(YEAR,n.CreatedDate) AS CreatedOnDateChange 
 FROM tblNews n INNER JOIN tblNewsLinks AS nl ON nl.NewsId = n.NewsId
 WHERE n.NewsId = @NewsID
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubIDAndClubName]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubIDAndClubName]  
  
	@SportID int
	
AS  
  
 SELECT cl.ClubId, cl.ClubName 
 FROM tblClub AS cl
 INNER JOIN tblClubSports AS cs ON cl.ClubId = cs.ClubId
 WHERE cs.SportId = @SportID and (cs.IsArchive=0 or cs.IsArchive is null)
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubBySportID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubBySportID]

	@SportID int
	
AS

	SELECT cl.ClubId, cl.ClubName FROM tblClub AS cl
	INNER JOIN tblClubSports AS cs ON cl.ClubId = cs.ClubId
	WHERE cs.SportId = @SportID and (cs.IsArchive =0 or cs.IsArchive is null)
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllPlayer]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE proc [dbo].[usp_GetAllPlayer]

as 

Select r.RegistrationId,u.FirstName +' '+ u.LastName AS PlayerName from tblTeamPlayer tp join tblRegistration r on tp.RegistrationID = r.RegistrationId join tblUsers u on r.UserId = u.UserId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionVideoByCompetitionIDAndVideoType]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionVideoByCompetitionIDAndVideoType]  

 @CompetitionID int,
 @VideoType int
 
AS  
  
 select vl.*,v.* from tblVideos v   
 Inner Join tblVideoLinks vl on v.VideoId = vl.VideoId
 join tblCompetition co on co.CompetitionId = vl.CompetitionId
 where co.CompetitionId = @CompetitionID and v.VideoType = @VideoType
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionSponsorByCompetitionID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionSponsorByCompetitionID]  

 @CompetitionID int  
 
AS  
  
 SELECT s.*,rs.*  FROM tblSponsor s
 Inner Join tblRefSportsSponsor rs ON rs.SponsorID = s.SponsorId 
 WHERE rs.CompetitionId = @CompetitionID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetNewsByCompetitionId]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetNewsByCompetitionId]        
  
@CompetitionId int,        
@PortalId int         
  
AS         
  
  
 SELECT n.*,nl.*,DATENAME(MONTH, n.CreatedDate)+ ' ' + RIGHT('0' + DATENAME(DAY, n.CreatedDate), 2) + ', ' + DATENAME(YEAR, n.CreatedDate)   
 AS CreatedOnDateChange     
 FROM tblNewsLinks nl  
 Inner Join tblNews n on n.NewsId = nl.NewsId  
 WHERE nl.CompetitionId = @CompetitionId 
 AND n.PortalId = @PortalId   
 AND (n.IsArchive = 0 or n.IsArchive Is Null)  
   
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllClubs]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[usp_GetAllClubs] 

as 

Select * from tblClub where (IsArchive =0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllTeams]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[usp_GetAllTeams] 

as 

Select * from tblTeam where (IsArchive =0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllCompetition]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[usp_GetAllCompetition] 

as 

Select * from tblCompetition where (IsArchive =0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDetailAllTeamCompetitionGroupByCompetitionId]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


--exec usp_GetDetailAllTeamCompetitionGroupByCompetitionId 35
CREATE Proc [dbo].[usp_GetDetailAllTeamCompetitionGroupByCompetitionId]            
  
 @CompetitionID int            
   
AS  
    
Select tm.TeamID,tm.TeamLogoFile as TeamLogo,tm.TeamName,co.CompetitionId,CompetitionName,CompetitionGroupName             
from tblCompetitionTeams ct Inner join tblTeam tm on tm.TeamID = ct.TeamId  
join tblCompetition co             
on co.CompetitionId = ct.CompetitionId  
    
left join tblCompetitionGroup cg             
    
on cg.CompetitionID = co.CompetitionId and cg.CompetitionGroupID = ct.CompetitionGroupId             
    
where co.CompetitionId = @CompetitionID        
    
and (co.IsArchive = 0 or co.IsArchive Is Null)  
and (tm.IsArchive = 0 or tm.IsArchive Is Null)  
    
order by co.CompetitionId,cg.CompetitionGroupID,tm.TeamName    
       
    
       
    
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamDetailByNotInTeamID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


  
CREATE PROC [dbo].[usp_GetTeamDetailByNotInTeamID]      
        
      @TeamId int,  
      @CompetitionID int
        
AS        
      
 --SELECT t.*,s.SportName,c.ClubName,dt.DivisionId FROM tblTeam t   
 --Inner join tblSport s on s.SportID = t.SportId  
 --Inner Join tblClub c on c.ClubId = t.ClubId  
 --Inner Join tblDivisionTeam dt on dt.TeamId = t.TeamId
 --Where t.TeamId not in(@TeamId)
 SELECT t.*,s.SportName,c.ClubName,d.*,dt.* FROM tblTeam t  
 Inner join tblCompetitionTeams ct on t.TeamId = ct.TeamId
 Inner join tblSport s on s.SportID = t.SportId  
 Inner Join tblClub c on c.ClubId = t.ClubId  
 Inner Join tblDivisionTeam dt on dt.TeamId = t.TeamId
 Inner Join tblDivision d on d.DivisionId = dt.DivisionId
 Where (t.IsArchive = 0 Or t.IsArchive is null) and ct.CompetitionId =@CompetitionID and  t.TeamId not in(@TeamId)

GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamList]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROC [dbo].[usp_GetTeamList]      
        
        
AS        
      
 SELECT t.*,s.SportName,c.ClubName,d.*,dt.* FROM tblTeam t   
 Inner join tblSport s on s.SportID = t.SportId  
 Inner Join tblClub c on c.ClubId = t.ClubId  
 Inner Join tblDivisionTeam dt on dt.TeamId = t.TeamId
 Inner Join tblDivision d on d.DivisionId = dt.DivisionId
  Where (t.IsArchive = 0 Or t.IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamListByCompetitionId]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CReate PROC [dbo].[usp_GetTeamListByCompetitionId]      

@CompetitionID int 
        
AS        
      
 SELECT t.*,s.SportName,c.ClubName,d.*,dt.* FROM tblTeam t  
 Inner join tblCompetitionTeams ct on t.TeamId = ct.TeamId
 Inner join tblSport s on s.SportID = t.SportId  
 Inner Join tblClub c on c.ClubId = t.ClubId  
 Inner Join tblDivisionTeam dt on dt.TeamId = t.TeamId
 Inner Join tblDivision d on d.DivisionId = dt.DivisionId
 Where (t.IsArchive = 0 Or t.IsArchive is null) and ct.CompetitionId =@CompetitionID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllLeagueList]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

          
CREATE PROC [dbo].[usp_GetAllLeagueList]        
                              
 @CompetitionID int,              
 @Sport_ID int,        
 @SeasonID int                  
   
 AS  
                
Declare @TopLastSeasonId int           
set @TopLastSeasonId = (Select top 1 se.SeasonId FROM tblSeason AS se        
inner join tblCompetition as co on co.SeasonID = se.SeasonId        
inner join tblCompetitionTeams as ct on ct.CompetitionId = co.CompetitionId  
WHERE co.SportID = @Sport_ID AND (co.IsArchive = 0 or co.IsArchive Is Null)  
GROUP BY se.SeasonId, se.SeasonName            
ORDER BY SeasonID DESC )        
           
IF @CompetitionID = 0                    
BEGIN                    
                
 IF @CompetitionID = 0 AND @SeasonID = 0        
 BEGIN        
          
  SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,  
  convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,                          
  Count(ct.TeamId) AS TotalTeam,   
  (SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId) AS TotalGroup,                              
  (SELECT SponsorLogoFile FROM tblSponsor           
  WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor           
  WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                              
  FROM tblCompetition co                           
  join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId  
  WHERE co.SportID = @Sport_ID AND co.SeasonID = @TopLastSeasonId   
  AND co.CompetitionTypeId in (Select CompetitionTypeId From tblCompetitionType where LOWER(CompetitionTypeName) = 'league')           
  AND (co.IsArchive = 0 or co.IsArchive Is Null)  
  GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,          
  co.CompetitionDesc,co.CompetitionLogoFile  
  ORDER BY co.CompetitionName ASC          
            
   END        
   ELSE        
   BEGIN        
            
  SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,  
  convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,                          
  Count(ct.TeamId ) AS TotalTeam,   
  (SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId ) AS TotalGroup,                              
  (SELECT SponsorLogoFile FROM tblSponsor           
  WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor           
  WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                              
  FROM tblCompetition co                           
  join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId  
  WHERE co.SportID = @Sport_ID AND co.SeasonID = @SeasonID   
  AND co.CompetitionTypeId in (Select CompetitionTypeId From tblCompetitionType where LOWER(CompetitionTypeName) = 'league')           
  AND (co.IsArchive =0 or co.IsArchive Is Null)  
  GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,          
  co.CompetitionDesc,co.CompetitionLogoFile  
  ORDER BY co.CompetitionName ASC          
      END                        
                        
END                    
ELSE                   
BEGIN                    
                       
                       
  IF @SeasonID = 0        
  BEGIN        
          
 SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,  
 convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,                          
 Count(ct.TeamId) AS TotalTeam,   
 (SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId) AS TotalGroup,                              
 (SELECT SponsorLogoFile FROM tblSponsor           
 WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor  
 WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                              
 FROM tblCompetition co                           
 join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId  
 WHERE co.CompetitionId = @CompetitionID AND co.SportID = @Sport_ID   
 AND co.CompetitionTypeId in (Select CompetitionTypeId From tblCompetitionType where LOWER(CompetitionTypeName) = 'league')           
 AND (co.IsArchive = 0 or co.IsArchive Is Null)  
 GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,          
 co.CompetitionDesc,co.CompetitionLogoFile  
 ORDER BY co.CompetitionName ASC          
            
   END        
   ELSE        
   BEGIN             
   SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,  
 convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,                          
 Count(ct.TeamId) AS TotalTeam,   
 (SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId) AS TotalGroup,                              
 (SELECT SponsorLogoFile FROM tblSponsor           
 WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor  
 WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                              
 FROM tblCompetition co                           
 join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId  
   WHERE co.CompetitionId = @CompetitionID AND co.SportID = @Sport_ID  
   AND co.SeasonID = @SeasonID          
   AND co.CompetitionTypeId in (Select CompetitionTypeId From tblCompetitionType where LOWER(CompetitionTypeName) = 'league')           
   AND (co.IsArchive = 0 or co.IsArchive Is Null)  
   GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,co.CompetitionDesc,co.CompetitionLogoFile  
   ORDER BY co.CompetitionName asc          
   END                 
                    
        
 END 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionOnlyCup]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
-- EXEC usp_GetCompetitionOnlyCup 1,5            
CREATE PROC [dbo].[usp_GetCompetitionOnlyCup]          
          
 @Sport_ID int,        
 @SeasonID int          
          
AS           
          
 declare @TopLatestSeasonId int         
 set @TopLatestSeasonId = (select top 1 se.SeasonId FROM tblSeason AS se      
 inner join tblCompetition as co on co.SeasonID = se.SeasonId      
 inner join tblCompetitionTeams as ct on ct.CompetitionId = co.CompetitionId  
 WHERE co.SportID = @Sport_ID AND (se.IsArchive = 0 or se.IsArchive IS null)  
 GROUP BY se.SeasonId, se.SeasonName          
 ORDER BY SeasonID DESC)      
        
IF @SeasonID = 0      
BEGIN      
 SELECT CompetitionId AS CompetitionID,CompetitionName           
 FROM tblCompetition   
 WHERE SportID = @Sport_ID  
   AND SeasonID = @TopLatestSeasonId  
   AND CompetitionTypeId in (Select CompetitionTypeId from tblCompetitionType where CompetitionTypeName = 'Cup')  
   AND (IsArchive = 0 or IsArchive = Null)  
 ORDER BY CompetitionName           
END      
ELSE      
BEGIN          
 SELECT CompetitionId AS CompetitionID,CompetitionName           
 FROM tblCompetition         
 WHERE SportID = @Sport_ID         
   AND SeasonID = @SeasonID        
   AND CompetitionTypeId in (Select CompetitionTypeId from tblCompetitionType where CompetitionTypeName = 'Cup')  
   AND (IsArchive = 0 or IsArchive = Null)  
 ORDER BY CompetitionName           
END
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionOnlyLeague]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
        
--exec usp_GetCompetitionOnlyLeague 1,5           
CREATE PROC [dbo].[usp_GetCompetitionOnlyLeague]            
          
 @Sport_ID int,          
 @SeasonID int      
          
AS             
        
 declare @TopLatestSeasonId int         
 set @TopLatestSeasonId = (select top 1 se.SeasonId FROM tblSeason AS se      
 inner join tblCompetition as co on co.SeasonID = se.SeasonId      
 inner join tblCompetitionTeams as ct on ct.CompetitionId = co.CompetitionId  
 WHERE co.SportID = @Sport_ID AND (se.IsArchive = 0 or se.IsArchive Is null)  
 GROUP BY se.SeasonId, se.SeasonName          
 ORDER BY SeasonID DESC)      
        
IF @SeasonID = 0      
BEGIN      
 SELECT CompetitionId AS CompetitionID,CompetitionName           
 FROM tblCompetition   
 WHERE SportID = @Sport_ID  
   AND SeasonID = @TopLatestSeasonId  
   AND CompetitionTypeId in (Select CompetitionTypeId from tblCompetitionType where CompetitionTypeName = 'League')  
   AND (IsArchive = 0 or IsArchive Is Null)  
 ORDER BY CompetitionName           
END      
ELSE      
BEGIN          
 SELECT CompetitionId AS CompetitionID,CompetitionName           
 FROM tblCompetition         
 WHERE SportID = @Sport_ID         
   AND SeasonID = @SeasonID        
   AND CompetitionTypeId in (Select CompetitionTypeId from tblCompetitionType where CompetitionTypeName = 'League')  
   AND (IsArchive = 0 or IsArchive Is Null)  
 ORDER BY CompetitionName           
END
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteClubSports]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[usp_DeleteClubSports]  
  
@CLubSportID int
  
  
AS     
    
 --Delete from tblClubSports
 
 --Where ClubSportsId = @CLubSportID
 
 
 Update tblClubSports set IsArchive =1 , ModifiedDate =GETDATE() where ClubSportsId = @CLubSportID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportNotAssignByClubId]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_GetSportNotAssignByClubId]

@ClubID int
As

Select * from tblSport s where SportID not in (select SportId from tblClubSports where ClubId =@ClubID and (IsArchive=0 or IsArchive is null))

GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubSportListByClubId]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE Proc [dbo].[usp_GetClubSportListByClubId]  
  
@ClubID int  
As  
  
select * from tblClub c join  tblClubSports Cp  on c.ClubId = cp.ClubId Left Join tblSport s on cp.SportId = s.SportID where cp.ClubId= @ClubID and (cp.IsArchive =0 or cp.IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllCompetitionList]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



--EXEC usp_GetAllCompetitionList 0,1,0          
CREATE PROC [dbo].[usp_GetAllCompetitionList]                              
         
 @CompetitionID int,                  
 @Sport_ID int,            
 @SeasonID int        
         
AS                        
                     
 
 declare @TopLastSeasonId int         
 set @TopLastSeasonId = (select top 1 se.SeasonId FROM tblSeason AS se      
 inner join tblCompetition as co on co.SeasonID = se.SeasonId      
 inner join tblCompetitionTeams as ct on ct.CompetitionId = co.CompetitionId
 WHERE co.SportID = @Sport_ID AND (se.IsArchive = 0 or se.IsArchive Is Null)
 GROUP BY se.SeasonId, se.SeasonName          
 ORDER BY SeasonID DESC )      
                     
 IF @CompetitionID = 0                    
 Begin                    
                    
	IF @CompetitionID = 0 AND @SeasonID = 0      
	BEGIN      
        
			SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,                              
			convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,                        
			Count(ct.TeamId) AS TotalTeam, 
			(SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId ) AS TotalGroup,                            
			(SELECT SponsorLogoFile FROM tblSponsor         
			WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor         
			WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                            
			FROM tblCompetition co                         
			join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId
			WHERE co.SportID = @Sport_ID AND co.SeasonID = @TopLastSeasonId 
			AND co.CompetitionTypeId in
			(Select CompetitionTypeId from tblCompetitionType where LOWER(CompetitionTypeName) = 'cup')          
			AND (co.IsArchive = 0 or co.IsArchive Is Null)
			GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,        
			co.CompetitionDesc,co.CompetitionLogoFile
			ORDER BY co.CompetitionName ASC        
   END      
   ELSE      
   BEGIN      
          
			SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,                              
			convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,                        
			Count(ct.TeamId) AS TotalTeam, 
			(SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId ) AS TotalGroup,                            
			(SELECT SponsorLogoFile FROM tblSponsor         
			WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor         
			WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                            
			FROM tblCompetition co                         
			join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId
			WHERE co.SportID = @Sport_ID AND co.SeasonID = @SeasonID 
			AND co.CompetitionTypeId in
			(Select CompetitionTypeId from tblCompetitionType where LOWER(CompetitionTypeName) = 'cup')          
			AND (co.IsArchive = 0 or co.IsArchive Is Null)
			GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,        
			co.CompetitionDesc,co.CompetitionLogoFile
			ORDER BY co.CompetitionName ASC   
         
  END                
  END                    
  ELSE                    
  BEGIN               
      
  IF @SeasonID = 0      
  BEGIN      
			SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,                              
			convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,
			Count(ct.TeamId) AS TotalTeam,
			(SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId) AS TotalGroup,                            
			(SELECT SponsorLogoFile FROM tblSponsor         
			WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor
			WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                            
			FROM tblCompetition co                         
			join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId              
			WHERE co.CompetitionId = @CompetitionID AND co.SportID = @Sport_ID
			AND co.CompetitionTypeId in
			(Select CompetitionTypeId from tblCompetitionType where LOWER(CompetitionTypeName) = 'cup')   
			AND (co.IsArchive = 0 or co.IsArchive Is Null)
			GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,        
			co.CompetitionDesc,co.CompetitionLogoFile
			ORDER BY co.CompetitionName ASC        
   END      
   ELSE 
   BEGIN 
             
		SELECT co.CompetitionId,co.CompetitionName,co.CompetitionDesc,convert(varchar(10),co.StartDate,101) AS StartDate,
		Convert(varchar(10),co.EndDate,101) AS EndDate, co.CompetitionLogoFile,                        
		Count(ct.TeamID) AS TotalTeam,
		(SELECT COUNT(*) FROM tblCompetitionGroup  WHERE CompetitionID = co.CompetitionId) AS TotalGroup,                            
		(SELECT SponsorLogoFile FROM tblSponsor WHERE SponsorID IN(SELECT TOP 1 SponsorID FROM tblRefSportsSponsor 
		WHERE CompetitionID = co.CompetitionId)) AS SponsorLogo                            
		FROM tblCompetition co                         
		join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId
		where co.CompetitionId = @CompetitionID         
		and co.SportID = @Sport_ID
		AND co.SeasonID = @SeasonID        
		AND co.CompetitionTypeId in
		(Select CompetitionTypeId from tblCompetitionType where LOWER(CompetitionTypeName) = 'cup')   
		AND (co.IsArchive = 0 or co.IsArchive Is Null)                    
		GROUP BY co.CompetitionId,co.CompetitionName,co.StartDate,co.EndDate,co.CompetitionDesc,co.CompetitionLogoFile
		ORDER BY co.CompetitionName asc        
		END                     
		
  END 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllTeamsByUser]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  -- exec usp_GetAllTeamsByUser 'host',29,0,0  
      
CREATE PROCEDURE [dbo].[usp_GetAllTeamsByUser]        
                                    
     @current_user varchar(100),      
     @CompetitionId int,      
     @CompetitionGroupId int,      
     @TeamId int      
                                            
AS                                           
   DECLARE @query nvarchar(MAX)                                        
                              
                               
 SET @query =         
       
 'Select ct.CompetitionTeamId,         
  t.TeamId,ct.CompetitionId,cp.CompetitionName,cg.CompetitionGroupName,                        
  t.TeamName,t.TeamLogoFile,t.TeamPhotoFile,      
  (cp.CompetitionName + ''>>'' +     t.TeamName)                              
 as TeamFullName                                             
 from tblCompetitionTeams ct join tblCompetition Cp                                             
 on ct.CompetitionId = cp.CompetitionId      
 left join tblCompetitionGroup cg                                          
 on cg.CompetitionGroupID = ct.CompetitionGroupId      
 inner join tblTeam t on t.TeamId = ct.TeamId      
 Where (t.IsArchive =0 or t.IsArchive is null)      
 And (Cp.IsArchive =0 or Cp.IsArchive is null)'      
                   
      
IF @TeamId !=0      
BEGIN      
 SET @query = @query + ' And t.TeamId =' + CONVERT(nvarchar(MAX),@TeamId)      
END      
      
IF @CompetitionId != 0      
BEGIN      
 SET @query = @query + ' And ct.CompetitionId = ' + CONVERT(nvarchar(MAX),@CompetitionId)      
END      
      
IF @CompetitionGroupId != 0      
BEGIN      
 SET @query = @query + ' And ct.CompetitionGroupId = ' + CONVERT(nvarchar(MAX),@CompetitionGroupId)      
END      
                              
SET @query = @query + ' order by TeamFullName ASC'                            
                                
execute sp_executesql @query                                        
                              
print @query                                        
      
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonListForCompetitionCupAndLeague]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

--EXEC usp_GetSeasonListForCompetitionCupAndLeague 1          
CREATE PROC [dbo].[usp_GetSeasonListForCompetitionCupAndLeague]          
  
 @Sport_ID int          
   
AS          
          
 SELECT se.SeasonId AS SeasonID, se.SeasonName AS SeasonName           
 FROM tblSeason AS se        
 inner join tblCompetition as co on co.SeasonID = se.SeasonId        
 inner join tblCompetitionTeams ct on ct.CompetitionId = co.CompetitionId  
 WHERE co.SportId = @Sport_ID AND (se.IsArchive = 0 or se.IsArchive IS NULL)
 GROUP BY se.SeasonId, se.SeasonName            
 ORDER BY se.SeasonID DESC   
 
 
   
   
   
   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportDetailBySportName]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

--EXEC usp_GetSportDetailBySportName  
CREATE PROC [dbo].[usp_GetSportDetailBySportName]  
          
 @Sport_Name nvarchar(100)          
           
AS          
          
 Select * from tblSport where SportName = @Sport_Name
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionVideoByCompetitionIDCheck]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_GetCompetitionVideoByCompetitionIDCheck]    

 @CompetitionID int    
 
AS
    
 select v.VideoYouTubeFile as VideoPath,v.VideoTitle as Title,'' from tblVideoLinks vl
 Inner Join tblVideos v on v.VideoId = vl.VideoId
 join tblCompetition co on co.CompetitionId = vl.CompetitionId
 where co.CompetitionId = @CompetitionID and v.VideoType = 1  
   
 union   
   
   
 select '',v.VideoTitle as Title,v.VideoOtherFile as OtherVideoPath from tblVideoLinks vl
 Inner Join tblVideos v on v.VideoId = vl.VideoId
 join tblCompetition co on co.CompetitionId = vl.CompetitionId
 where co.CompetitionId = @CompetitionID and v.VideoType = 2  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionPhotoByCompetitionID]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionPhotoByCompetitionID]  

 @CompetitionID int  
 
AS  
  
 SELECT p.PictureFile AS CompGalleryPath,p.PictureTitle
 FROM tblPictureLinks pl   
 Inner Join tblPictures p on p.PictureId = pl.PictureId
 JOIN tblCompetition co ON co.CompetitionId = pl.CompetitionId
 WHERE co.CompetitionId = @CompetitionID 
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubSports]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertClubSports]

	@ClubId int,
	@SportId int,
	@PortalId int,
	@CreatedBy nvarchar(100)
	
AS

	INSERT INTO tblClubSports(ClubId,SportId,PortalID,CreatedById) Values (@ClubId,@SportId,@PortalId,@CreatedBy)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMatchType]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE proc [dbo].[usp_GetAllMatchType]      

 
    
AS      
      
 Select * from tblMatchType mt left JOIN tblSport AS so ON mt.SportID = so.SportID where (mt.IsArchive =0 or mt.IsArchive is null)
     

GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchType]    Script Date: 03/02/2016 12:54:56 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE proc [dbo].[usp_UpdateMatchType]  
@SportID int,        
  @MatchTypeId int,
  @MatchTypeName varchar(50),
 @MatchTypeDescription varchar(300),
 @ModifiedById varchar(100)     
      
AS        
        
 Update tblMatchType set  
 MatchTypeName = @MatchTypeName,  
 MatchDesc = @MatchTypeDescription,
 ModifiedById = @ModifiedById, 
 SportId = @SportID, 
 ModifiedDate = GETDATE()  
   
 Where MatchTypeId = @MatchTypeId  
   

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchType]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE proc [dbo].[usp_InsertMatchType]      
@SportID int,  
 @MatchTypeName varchar(50),
 @MatchTypeDescription varchar(300),
  @PortalId Int,
 @CreatedById varchar(100)      
 
    
AS      
      
 insert into tblMatchType    
 (SportId,MatchTypeName,
 MatchDesc,
 PortalId,
 CreatedById)       
     values(@SportID,@MatchTypeName,@MatchTypeDescription,
     @PortalId,    
     @CreatedById) 

GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMatchStatus]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_GetAllMatchStatus]      

 
    
AS      
      
 Select * from tblMatchStatus ms  left JOIN tblSport AS so ON ms.SportID = so.SportID
 
     
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchStatus]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_UpdateMatchStatus]        
  
 @MatchStatusId int,  
 @MatchStatusName varchar(50),
 @SportID int,  
 @ModifiedById varchar(100)     
      
AS        
        
 Update tblMatchStatus set  
 MatchStatusName = @MatchStatusName,  
 ModifiedById = @ModifiedById,
 SportId= @SportID,  
 ModifiedDate = GETDATE()  
   
 Where MatchStatusId = @MatchStatusId  
   
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchStatus]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_InsertMatchStatus]      
@SportID int,
 @MatchStatusName varchar(50),
 @CreatedById varchar(100),      
 @ModifiedById varchar(100)   
    
AS      
      
 insert into tblMatchStatus      
 (SportId,MatchStatusName,
 CreatedById,    
 ModifiedById)       
     values(@SportID,@MatchStatusName,
     @CreatedById,    
     @ModifiedById) 
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDivision]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROC [dbo].[usp_UpdateDivision]  
  
@DivisionId int,  
 
@DivisionName varchar(100),  
@DivisionAbbr varchar(5),  
@DivisionDesc varchar(200),  
@DivisionLogoName varchar(200),  
@DivisionLogoFile varchar(200),  
@DivisionLevel int,  
@TotalNumofTeams int,  
@PromotedNum int,  
@DemotedNum int,  
@IsArchive int,
@PortalID int,  
@ModifiedById varchar(100)  
    
AS     
    
Update tblDivision set  
 
DivisionName = @DivisionName,  
DivisionAbbr = @DivisionAbbr,  
DivisionDesc = @DivisionDesc,  
DivisionLogoName = @DivisionLogoName,  
DivisionLogoFile = @DivisionLogoFile,  
DivisionLevel = @DivisionLevel,  
TotalNumofTeams =@TotalNumofTeams,  
PromotedNum = @PromotedNum,  
DemotedNum = @DemotedNum,  
IsArchive = @IsArchive,
PortalID = @PortalID,  
ModifiedById = @ModifiedById,  
ModifiedDate = GETDATE() Where DivisionId = @DivisionId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDivisionList]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDivisionList]      
      
AS          
        
 Select d.* from tblDivision d    
 --inner join tblSeason s on s.SeasonID = d.SeasonId    
 where (d.IsArchive = 0 or d.IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDivision]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
  
CREATE PROC [dbo].[usp_InsertDivision]  
  
--@SeasonId int,  
@DivisionName varchar(100),  
@DivisionAbbr varchar(5),  
@DivisionDesc varchar(200),  
@DivisionLogoName varchar(200),  
@DivisionLogoFile varchar(200),  
@DivisionLevel int,  
@TotalNumofTeams int,  
@PromotedNum int,  
@DemotedNum int, 
@IsArchive int, 
@PortalID int,  
@CreatedById varchar(100),  
@ModifiedById varchar(100)  
  
AS     
    
 INSERT INTO tblDivision  
 (  
DivisionName,  
DivisionAbbr,  
DivisionDesc,  
DivisionLogoName,  
DivisionLogoFile,  
DivisionLevel,  
TotalNumofTeams,  
PromotedNum,  
DemotedNum,  
IsArchive,
PortalID,  
CreatedById,  
ModifiedById)   
    
 VALUES   
   
( --(@SeasonId,  
@DivisionName,  
@DivisionAbbr,  
@DivisionDesc,  
@DivisionLogoName,  
@DivisionLogoFile,  
@DivisionLevel,  
@TotalNumofTeams,  
@PromotedNum,  
@DemotedNum,  
@IsArchive,
@PortalID,  
@CreatedById,  
@ModifiedById)  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDetailAllTeamList]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

--EXEC usp_GetDetailAllTeamList 5  
  
CREATE PROC [dbo].[usp_GetDetailAllTeamList]    
  
	
AS       
  
 SELECT DISTINCT TeamID,TeamLogoFile,TeamName, ISNULL(TeamAbbr, SUBSTRING(TeamName, 1, 3)) AS TeamAbbr               
 FROM tblTeam      
 WHERE IsArchive = 0 OR IsArchive is null 
 ORDER BY TeamName     
  
  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerSuspendedFromPerformance]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerSuspendedFromPerformance]  
  
 @CompetitionID int,  
 @MatchID int,  
 @PlayerID int  
   
AS  
  
 SELECT Yellow,Red,PlayerSuspended   
 FROM tblMatchPlayerPerfomance   
 WHERE CompetitionID = @CompetitionID AND MatchID = @MatchID AND PlayerID = @PlayerID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamPlayerDetailByTeamID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO





CREATE proc [dbo].[usp_GetTeamPlayerDetailByTeamID]      


 @TeamID Int
    
 
    
AS      
 
		Select * from tblTeamPlayer p 
			Inner join tblRegistration R on p.RegistrationId= r.RegistrationId 
			Inner join tblUsers u on r.UserId = u.UserId 
			Where p.TeamId =@TeamID
     


GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTeamPlayer]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteTeamPlayer]    
    
 @PlayerID int    
   
AS    
    
-- update tblPlayer set IsArchive = 1 where PlayerId =@PlayerID
delete tblTeamPlayer where TeamPlayerID = @PlayerID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamPlayerListByTeamID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamPlayerListByTeamID]    
     
 @TeamID int    
     
AS    
 --SELECT pl.PlayerId,pt.PlayerTypeName,us.FirstName +' '+us.LastName AS PlayerName,    
 --  pl.PlayerJerseyNo,pl.PlayerJerseyName,pl.PlayerFamousName,re.RegistrationId     
 --FROM tblUsers AS us    
 --INNER JOIN tblRegistration AS re ON us.UserId = re.UserId    
 --INNER JOIN tblTeamPlayer AS tpl ON tpl.RegistrationId = re.RegistrationId    
 --INNER JOIN tblPlayerType AS pt ON tpl.PlayerTypeID = pt.PlayerTypeID    
 --WHERE tpl.TeamId = @TeamID 
 
 Select  r.RegistrationId, pt.PlayerTypeName,u.FirstName +' '+u.LastName AS PlayerName, tph.PlayerJerseyNo,tph.PlayerJerseyName,tph.PlayerFamousName 
			from tblUsers u join 
			tblRegistration r on u.UserId = r.UserId join 
			tblTeamPlayer tp on tp.RegistrationID = r.RegistrationId join 
			tblTeamPlayerHistory tph on tph.TeamPlayerId = tp.TeamPlayerID join
			tblPlayerType pt on pt.PlayerTypeID = tp.PlayerTypeID 
			where tp.TeamID = @TeamID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMasterPlayerIDByUserID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetMasterPlayerIDByUserID]  
  
	@PlayerID int  
 
AS  
  
 --SELECT PlayerID   
 --FROM tblPlayer   
 --WHERE PlayerId = @PlayerID 
 
 Select * From tblTeamPlayer where RegistrationID = @PlayerID
GO

/****** Object:  StoredProcedure [dbo].[usp_EditTeamMasterPlayerCoach]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_EditTeamMasterPlayerCoach]  
  
	@PlayerID int  
 
AS  
  
 SELECT *,pt.PlayerTypeName AS PlayerPosition FROM tblTeamPlayer AS pl
 INNER JOIN tblTeamPlayerHistory AS pth ON pl.TeamPlayerID = pth.TeamPlayerId   
 INNER JOIN tblPlayerType AS pt ON pl.PlayerTypeID = pt.PlayerTypeID   
 WHERE pl.RegistrationID = @PlayerID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayer]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertTeamPlayer]  
  
@TeamId int,  
@RegistrationId int,  
@PlayerJerseyNo int,  
@PlayerJerseyName nvarchar(100),  
@PlayerFamousName nvarchar(100),  
@CreatedById nvarchar(100),  
@ModifiedById nvarchar(100),  
@PlayerTypeId int,  
@PortalID int,
@PlayerPhoto nvarchar(100)
  
AS  
  
Insert Into tblTeamPlayer(RegistrationID,
TeamID,
PlayerTypeID,
CreatedById,
PortalID,
CreatedDate)Values(
@RegistrationId,
@TeamID,
@PlayerTypeID,
@CreatedById,
@PortalID,
GETDATE())





INSERT INTO [tblTeamPlayerHistory] (
				[TeamPlayerId],
				TeamId,
				RegistrationId,
				PlayerJerseyNo,
				PlayerJerseyName,
				PlayerFamousName,
				CreatedById,
				ModifiedById,
				PlayerTypeId,
				PortalId,
				playerphoto)  
				VALUES ((select SCOPE_IDENTITY()),
				@TeamId,
				@RegistrationId,
				@PlayerJerseyNo,
				@PlayerJerseyName,
				@PlayerFamousName,
				@CreatedById,
				@ModifiedById,
				@PlayerTypeId,
				@PortalID,
				@PlayerPhoto)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPhotoByPlayerID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROC [dbo].[usp_GetPhotoByPlayerID] 

 @PlayerID int    
     
AS    
    
 select u.UserPhotoFile as PlayerPhoto from tblUsers u 
	join tblRegistration r on u.UserId = r.UserId 
	join tblTeamPlayer tp on r.RegistrationId= tp.RegistrationId 
	join tblTeamPlayerHistory tph on tph.TeamPlayerId =tph.TeamPlayerId
	where tp.RegistrationID =@PlayerID 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerDetailsBySelectedPlayerID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

--EXEC usp_GetPlayerDetailsBySelectedPlayerID 454     
CREATE PROC [dbo].[usp_GetPlayerDetailsBySelectedPlayerID]      
      
 @PlayerID int      
       
AS      
      
 SELECT tm.TeamID AS TeamID,tm.TeamName AS TeamName,tmpc.RegistrationID ,      
		pt.PlayerTypeName AS PlayerPostition,  
		tph.PlayerJerseyNo AS JerseyNo         
 FROM tblTeam as tm      
		--INNER JOIN tblPlayer AS tmpc ON tmpc.TeamId = tm.TeamID  
		INNER Join tblTeamPlayer tmpc on tmpc.TeamID = tm.TeamId
		INNER Join tblTeamPlayerHistory tph on tph.TeamPlayerId = tmpc.TeamPlayerID
		INNER JOIN tblPlayerType AS pt ON pt.PlayerTypeID = tmpc.PlayerTypeID
 WHERE tmpc.RegistrationID = @PlayerID      
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerList]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerList]    
    
AS    
    
 SELECT us.UserId,us.FirstName + ' '+ us.LastName AS PlayerName,re.RegistrationId   
 FROM tblUsers AS us    
 INNER JOIN tblRegistration AS re ON us.UserId = re.UserId    
 --INNER JOIN tblPlayer AS pl ON pl.RegistrationId != re.RegistrationId  
 WHERE re.RegistrationId NOT IN (select RegistrationId from tblTeamPlayer )  
 GROUP BY us.UserId,us.FirstName,us.LastName,re.RegistrationId 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerDetailByPlayerID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerDetailByPlayerID]

	@RegistrationID int
	
AS

	--SELECT * FROM tblPlayer WHERE PlayerId = @PlayerID
	
	SELECT * FROM tblTeamPlayer tp
		Join tblTeamPlayerHistory tph on tp.TeamPlayerID = tph.TeamPlayerID WHERE tp.RegistrationID = @RegistrationID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayerHistory]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

Create PROC [dbo].[usp_InsertTeamPlayerHistory]  
@TeamPlayerId int, 
@TeamId int,  
@RegistrationId int,  
@PlayerJerseyNo int,  
@PlayerJerseyName nvarchar(100),  
@PlayerFamousName nvarchar(100),  
@CreatedById nvarchar(100),  
@ModifiedById nvarchar(100),  
@PlayerTypeId int,  
@PortalID int,
@PlayerPhoto nvarchar(100)
  
AS  
  
 INSERT INTO [tblTeamPlayerHistory] (
				[TeamPlayerId],
				TeamId,
				RegistrationId,
				PlayerJerseyNo,
				PlayerJerseyName,
				PlayerFamousName,
				CreatedById,
				ModifiedById,
				PlayerTypeId,
				PortalId,
				playerphoto)  
				VALUES (@TeamPlayerId,
				@TeamId,
				@RegistrationId,
				@PlayerJerseyNo,
				@PlayerJerseyName,
				@PlayerFamousName,
				@CreatedById,
				@ModifiedById,
				@PlayerTypeId,
				@PortalID,
				@PlayerPhoto)
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayer1]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_InsertTeamPlayer1] 
@RegistartionID Int,
@TeamID Int,
@PlayerTypeID Int,
@CreatedBy nvarchar(100),
@PortalID Int

As

Insert Into tblTeamPlayer(RegistrationID,
TeamID,
PlayerTypeID,
CreatedById,
PortalID,
CreatedDate)Values(
@RegistartionID,
@TeamID,
@PlayerTypeID,
@CreatedBy,
@PortalID,
GETDATE())

select SCOPE_IDENTITY()
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeamPlayer]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateTeamPlayer]  
  
@PlayerID int,  
@TeamId int,  
@RegistrationId int,  
@PlayerJerseyNo int,  
@PlayerJerseyName nvarchar(100),  
@PlayerFamousName nvarchar(100),  
@ModifiedById nvarchar(100),  
@PlayerTypeId int,  
@PortalID int  ,
@PlayerPhoto nvarchar(300)  
  
AS  
  
 UPDATE tblPlayer SET TeamId = @TeamId,  
      RegistrationId = @RegistrationId,  
      PlayerJerseyNo = @PlayerJerseyNo,  
      PlayerJerseyName = @PlayerJerseyName,  
      PlayerFamousName = @PlayerFamousName,  
      ModifiedById = @ModifiedById,  
      ModifiedDate = GETDATE(),  
      PlayerTypeId = @PlayerTypeId,  
      PortalId = @PortalID ,
      playerphoto =@PlayerPhoto 
      WHERE PlayerID = @PlayerID  
 
UPDATE tblTeamPlayer SET TeamId = @TeamId,  
      RegistrationId = @RegistrationId, 
      ModifiedById = @ModifiedById,  
      ModifiedDate = GETDATE(),  
      PlayerTypeId = @PlayerTypeId,  
      PortalId = @PortalID 
      WHERE RegistrationID = @PlayerID  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamA1PlayerByMatchID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[usp_GetTeamA1PlayerByMatchID]  
    @MatchID   Int ,  
    @TeamAID   Int     
AS  
  
 select (u.FirstName+' '+u.LastName) as PlayerName,r.RegistrationId as User_RegID ,Mp.TeamID as TeamAID,mP.IsPlayed as Flag,* from tblMatchPlayerPerfomance mP   
--join tblPlayer p on mP.PlayerID = p.PlayerId   
join tblRegistration R on mp.PlayerID = r.RegistrationId   
join tblUsers U on r.UserId = u.UserId where MatchID =@MatchID and mp.IsPlayed = 0 and mp.TeamID= @TeamAID  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamAPlayerByMatchID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[usp_GetTeamAPlayerByMatchID]  
    @MatchID   Int ,  
    @TeamAID   Int     
AS  
  
select (u.FirstName+' '+u.LastName) as PlayerName,r.RegistrationId as User_RegID ,Mp.TeamID as TeamAID,mP.IsPlayed as Flag,* from tblMatchPlayerPerfomance mP   
--left join tblPlayer p on mP.PlayerID = p.PlayerId   
join tblRegistration R on mp.PlayerID = r.RegistrationId   
join tblUsers U on r.UserId = u.UserId where MatchID =@MatchID and mp.IsPlayed = 1 and mp.TeamID= @TeamAID  
  
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionPlayerPerfomance]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROCEDURE [dbo].[usp_InsertCompetitionPlayerPerfomance]  
 @CompetitionID int,  
 @PlayerID int,  
 @NoOfRedCard int,  
 @NoOfYellowCard int,  
 @NoOfRedCardThroughYellowCard int,  
 @Suspended int,  
 @PortalID int,  
 @CreatedBy nvarchar(255),  
 @ModifyBy nvarchar(255)  
  
AS  
 insert into tblCompetitionPlayerPerfomance   
  (CompetitionID,  
 PlayerID,  
 NoOfRedCard,  
 NoOfYellowCard,  
 NoOfRedCardThroughYellowCard,  
 Suspended,  
 PortalID,  
 CreatedBy,  
 ModifyBy)   
  values  
  (@CompetitionID,  
 @PlayerID,  
 @NoOfRedCard,  
 @NoOfYellowCard,  
 @NoOfRedCardThroughYellowCard,  
 @Suspended,  
 @PortalID,  
 @CreatedBy,  
 @ModifyBy)  
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamPlayerTransfer]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertTeamPlayerTransfer]        
    
    @PlayerID int,    
 @TeamOutID int,    
 @TeamOutName nvarchar(50),    
 @TeamInID int,    
 @TeamInName nvarchar(50),    
 @PortalID int,    
 @CreatedBy nvarchar(50),    
 @ModifyBy nvarchar(50),  
 @PlayerPosition nvarchar(50)    
       
AS        
      
 INSERT INTO tblPlayerTransfer (PlayerID,TeamOutID,TeamOutName,TeamInID,TeamInName,PortalID,CreatedBy,    
        ModifyBy,PlayerPosition)         
     VALUES (@PlayerID,@TeamOutID,@TeamOutName,@TeamInID,@TeamInName,@PortalID,@CreatedBy,@ModifyBy,    
        @PlayerPosition)        
      
SELECT SCOPE_IDENTITY() 
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchPlayerPerformanceByPlayerId]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteMatchPlayerPerformanceByPlayerId] 

 @PlayerID int    
     
AS    
    
 DELETE FROM tblMatchPlayerPerfomance     
 WHERE PlayerID = @PlayerID   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsByNotInTeamID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[usp_GetTeamsByNotInTeamID] 

@TeamId int 

As

Select * from tblTeam where TeamId not in (@TeamId) and (IsArchive =0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamIDByTeamMasterIDandCompetitionID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamIDByTeamMasterIDandCompetitionID]  
 
	@TeamID int,  
	@CompetitionID int  
	
AS  
  
  
select * from tblTeam AS tm 
inner join tblCompetitionTeams As ct ON tm.TeamId = ct.TeamId
where tm.TeamId = @TeamID And ct.CompetitionId = @CompetitionID

GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTransferPlayerToTeamPlayer]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_DeleteTransferPlayerToTeamPlayer]
  
	@PlayerID int              
	
AS              
              
              
UPDATE tblPlayer SET IsArchive = 1 
WHERE PlayerID = @PlayerID    
              
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPlayer]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertPlayer]  
  
@TeamId int,  
@RegistrationId int,  
@PlayerJerseyNo int,  
@PlayerJerseyName nvarchar(100),  
@PlayerFamousName nvarchar(100),  
@PortalID int,  
@CreatedById nvarchar(100),  
@ModifiedById nvarchar(100),  
@PlayerTypeId int,
@PlayerPhoto nvarchar(100)  
  
AS  
  
 INSERT INTO tblPlayer (TeamId,RegistrationId,PlayerJerseyNo,PlayerJerseyName,PlayerFamousName,  
         PortalID,CreatedById,ModifiedById,PlayerTypeId,PlayerPhoto)  
          VALUES (@TeamId,@RegistrationId,@PlayerJerseyNo,@PlayerJerseyName,@PlayerFamousName,  
         @PortalID,@CreatedById,@ModifiedById,@PlayerTypeId,@PlayerPhoto)  
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMerchandiseType]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_UpdateMerchandiseType]  
  
@MerchandiseTypeId int,  
@MerchandiseType nvarchar (300),  
@MerchandiseDesc nvarchar (300),
@SportId int,  
@PortalId int,  
@ModifiedById nvarchar (100)  
As  
  
 Update tblmerchandisetype set   
  MerchandiseType =@MerchandiseType,  
  MerchandiseDesc=@MerchandiseDesc,
  sportid=@SportId,  
  Portalid=@PortalId,  
  modifiedbyid=@ModifiedById ,  
  modifiedDate = getdate()where merchandisetypeid = @merchandisetypeid  
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMerchandiseType]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_InsertMerchandiseType]  
  
@MerchandiseType nvarchar (300),  
@MerchandiseDesc nvarchar (300),
@SportId int ,  
@PortalId int,  
@CreatedById nvarchar (100)  
As  
  
insert into tblmerchandiseType(MerchandiseType,  
MerchandiseDesc,SportId, Portalid, createdbyid) values(@MerchandiseType,@MerchandiseDesc,@SportId,@PortalId,@CreatedById)  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMerchandise]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_GetAllMerchandise]  
As  
Select * from tblmerchandise m left join tblmerchandisetype mt on m.merchandisetypeid = mt.merchandisetypeid where (IsArchive =0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMerchandiseByMerchandise]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_GetMerchandiseByMerchandise]   
    
@MerchandiseId int   
    
As    
    
    
Select * from tblmerchandise  where Merchandiseid = @MerchandiseId 
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMerchandise]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

Create Proc [dbo].[usp_DeleteMerchandise] 
  
@MerchandiseId int  
  
As   
  Update tblMerchandise set IsArchive = 1  where merchandiseid= @MerchandiseId
   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerAllPositionList]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerAllPositionList]  
  
	@SportID int
	
AS  
         
 SELECT PlayerTypeID,PlayerTypeName
 FROM tblPlayerType
 WHERE SportID = @SportID
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportByPlayerID]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSportByPlayerID]

	@PlayerID int
AS

  
  SELECT tm.SportId FROM tblTeam AS tm        
				INNER JOIN tblPlayer AS pl ON pl.TeamId = tm.TeamId 
				WHERE pl.PlayerID = @PlayerID


GO

/****** Object:  StoredProcedure [dbo].[usp_GetTransferPlayerToOtherTeam]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

-- EXEC usp_GetTransferPlayerToOtherTeam 8
-- SELECT * FROM tblTeam WHERE SportId = 1

CREATE PROC [dbo].[usp_GetTransferPlayerToOtherTeam]      
  
	@PlayerID int      
   
AS      
  
  DECLARE @spoid int
  SET @spoid = (SELECT tm.SportId FROM tblTeam AS tm        
				INNER JOIN tblPlayer AS pl ON pl.TeamId = tm.TeamId 
				WHERE pl.PlayerID = @PlayerID)
				
  SELECT TeamId,TeamName 
  FROM tblTeam       
  WHERE TeamID NOT IN (SELECT TeamID FROM tblPlayer WHERE PlayerID = @PlayerID)      
        AND SportId = @spoid ORDER BY TeamName				
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMerchandise]    Script Date: 03/02/2016 12:54:57 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

Create Proc [dbo].[usp_UpdateMerchandise]
@MerchandiseId int, 
@MerchandiseTypeId int, 
@MerchandiseTitle Nvarchar(300),
@MerchandiseDesc nvarchar(300),
@MerchandisePrice int,
@ActiveFlagId int,
@ShowFlagId int,
@PortalID int,
@ModifiedById nvarchar(50)

As

Update tblMerchandise Set 
MerchandiseTypeId = @MerchandiseTypeId, 
MerchandiseTitle = @MerchandiseTitle,
MerchandiseDesc=@MerchandiseDesc,
MerchandisePrice=@MerchandisePrice,
ActiveFlagId=@ActiveFlagId,
showFlagId=@ShowFlagId,
PortalID=@PortalID, 
ModifiedById= @ModifiedById,
ModifiedDate = getdate() where merchandiseid=@MerchandiseId

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMerchandise]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

Create Proc [dbo].[usp_InsertMerchandise]
@MerchandiseTypeId int, 
@MerchandiseTitle Nvarchar(300),
@MerchandiseDesc nvarchar(300),
@MerchandisePrice int,
@ActiveFlagId int,
@ShowFlagId int,
@PortalID int,
@CreatedById nvarchar(50)

As

Insert Into tblMerchandise(MerchandiseTypeId, 
MerchandiseTitle,
MerchandiseDesc,
MerchandisePrice,
ActiveFlagId,
showFlagId,
PortalID, 
CreatedById) Values
(@MerchandiseTypeId, 
@MerchandiseTitle,
@MerchandiseDesc,
@MerchandisePrice,
@ActiveFlagId,
@ShowFlagId, 
@PortalID,
@CreatedById)

GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerNameByPlayerID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerNameByPlayerID]  
  
	@PlayerID int  
 
AS  
  
 SELECT FirstName + ' ' + LastName AS PlayerName   
 FROM tblUsers AS us
 INNER JOIN tblRegistration AS re on re.UserId = us.UserId
 INNER JOIN tblPlayer AS pl ON pl.RegistrationId = re.RegistrationId   
 WHERE pl.PlayerId = @PlayerID
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMerchandiseType]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

Create Proc [dbo].[usp_DeleteMerchandiseType]

@MerchandiseTypeId int

As 

	Delete tblMerchandiseType where MerchandiseTypeId = @MerchandiseTypeId
	

GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMerchandiseType]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[usp_GetAllMerchandiseType]

As

Select * from tblMerchandiseType  


GO

/****** Object:  StoredProcedure [dbo].[usp_GetMerchandiseTypeByMerchandiseTypeId]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[usp_GetMerchandiseTypeByMerchandiseTypeId]

@MerchandiseTypeId int

As

Select * from tblmerchandiseType where MerchandiseTypeid = @MerchandiseTypeId


GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTransferPlayerToMatchPlayerPerformance]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteTransferPlayerToMatchPlayerPerformance]                
    
 @PlayerID int                
     
AS                 
               
          
Delete           
from tblMatchPlayerPerfomance where MatchPlayerPerfomanceID in              
 (              
SELECT  mp.MatchPlayerPerfomanceID FROM tblMatchPlayerPerfomance MP               
INNER JOIN tblMatch M ON m.MatchID = mp.MatchID              
where mp.PlayerID = @PlayerID and cast(m.EndDateTime as DATE) > GETDATE()              
and mp.MatchPlayerPerfomanceID not in (              
SELECT  mp.MatchPlayerPerfomanceID              
FROM  tblMatch M              
INNER JOIN tblMatchResult MR ON m.MatchID = mr.MatchID               
INNER JOIN tblMatchPlayerPerfomance MP ON m.MatchID = mp.MatchID              
where mp.PlayerID = @PlayerID )              
          
)              

GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetition]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

    
CREATE PROC [dbo].[usp_UpdateCompetition]    
    
	@CompetitionId int,    
	@SeasonId int,    
	@CompetitionLeagueId int,    
	@SportId int,    
	@CompetitionTypeId int,    
	@DivisionId int,    
	@CompetitionFormatId int,    
	@CompetitionName varchar(100),    
	@CompetitionAbbr varchar(5),    
	@CompetitionDesc varchar(200),    
	@CompetitionLogoName varchar(200),    
	@CompetitionLogoFile varchar(200),    
	@StartDate datetime,    
	@EndDate datetime,    
	@NumberofGroups int,    
	@NumberofTeams int,    
	@ActiveFlagId int,    
	@ShowFlagId int,    
	@PortalID int,    
	@ModifiedById varchar(100),  
	@WinPoint int,  
	@LossPoint int,  
	@DrawPoint int,  
	@NoShowGoalPoint int    
      
AS       
    
    DECLARE @OldSeasonId int,@OldCompetitionLeagueId int,@OldSportId int,@OldCompetitionTypeId int,
			@OldDivisionId int,@OldCompetitionFormatId int,@OldCompetitionName varchar(100),@OldCompetitionAbbr varchar(5),
			@OldCompetitionDesc varchar(200),@OldCompetitionLogoName varchar(200),@OldCompetitionLogoFile varchar(200),
			@OldStartDate datetime,@OldEndDate datetime,@OldNumberofGroups int,@OldNumberofTeams int,
			@OldActiveFlagId int,@OldShowFlagId int,@OldPortalID int,@OldModifiedById varchar(100),@OldModifiedDate datetime,
			@OldIsArchive int,@OldWinPoint int,@OldLossPoint int,@OldDrawPoint int,@OldNoShowGoalPoint int
			
	SET @OldSeasonId = (select SeasonId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionLeagueId = (select CompetitionLeagueId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldSportId = (select SportId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionTypeId = (select CompetitionTypeId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldDivisionId = (select DivisionId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionFormatId = (select CompetitionFormatId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionName = (select CompetitionName from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionAbbr = (select CompetitionAbbr from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionDesc = (select CompetitionDesc from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionLogoName = (select CompetitionLogoName from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldCompetitionLogoFile = (select CompetitionLogoFile from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldStartDate = (select StartDate from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldEndDate = (select EndDate from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldNumberofGroups = (select NumberofGroups from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldNumberofTeams = (select NumberofTeams from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldActiveFlagId = (select ActiveFlagId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldShowFlagId = (select ShowFlagId from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldPortalID = (select PortalID from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldModifiedById = (select ModifiedById from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldModifiedDate = (select ModifiedDate from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldIsArchive = (select IsArchive from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldWinPoint = (select WinPoint from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldLossPoint = (select LossPoint from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldDrawPoint = (select DrawPoint from tblCompetition where CompetitionId = @CompetitionId)
	SET @OldNoShowGoalPoint = (select NoShowGoalPoint from tblCompetition where CompetitionId = @CompetitionId)
	
	-- Insert Data in CompetitionLog table 
	
	INSERT INTO tblCompetitionLog (CompetitionId,OldSeasonId,NewSeasonId,
								   OldCompetitionLeagueId,NewCompetitionLeagueId,
								   OldSportId,NewSportId,
								   OldCompetitionTypeId,NewCompetitionTypeId,
								   OldDivisionId,NewDivisionId,
								   OldCompetitionFormatId,NewCompetitionFormatId,
								   OldCompetitionName,NewCompetitionName,
								   OldCompetitionAbbr,NewCompetitionAbbr,
								   OldCompetitionDesc,NewCompetitionDesc,
								   OldCompetitionLogoName,NewCompetitionLogoName,
								   OldCompetitionLogoFile,NewCompetitionLogoFile,
								   OldStartDate,NewStartDate,
								   OldEndDate,NewEndDate,
								   OldNumberofGroups,NewNumberofGroups,
								   OldNumberofTeams,NewNumberofTeams,
								   OldActiveFlagId,NewActiveFlagId,
								   OldShowFlagId,NewShowFlagId,
								   OldPortalID,NewPortalID,
								   OldModifiedById,NewModifiedById,
								   OldModifiedDate,NewModifiedDate,
								   OldIsArchive,NewIsArchive,
								   OldWinPoint,NewWinPoint,
								   OldLossPoint,NewLossPoint,
								   OldDrawPoint,NewDrawPoint,
								   OldNoShowGoalPoint,NewNoShowGoalPoint)
	VALUES (@CompetitionId,@OldSeasonId,@SeasonId,
			@OldCompetitionLeagueId,@CompetitionLeagueId,
			@OldSportId,@SportId,
			@OldCompetitionTypeId,@CompetitionTypeId,
			@OldDivisionId,@DivisionId,
			@OldCompetitionFormatId,@CompetitionFormatId,
			@OldCompetitionName,@CompetitionName,
			@OldCompetitionAbbr,@CompetitionAbbr,
			@OldCompetitionDesc,@CompetitionDesc,
			@OldCompetitionLogoName,@CompetitionLogoName,
			@OldCompetitionLogoFile,@CompetitionLogoFile,
			@OldStartDate,@StartDate,
			@OldEndDate,@EndDate,
			@OldNumberofGroups,@NumberofGroups,
			@OldNumberofTeams,@NumberofTeams,
			@OldActiveFlagId,@ActiveFlagId,
			@OldShowFlagId,@ShowFlagId,
			@OldPortalID,@PortalID,
			@OldModifiedById,@ModifiedById,
			@OldModifiedDate,GETDATE(),
			@OldIsArchive,@OldIsArchive,
			@OldWinPoint,@WinPoint,
			@OldLossPoint,@LossPoint,
			@OldDrawPoint,@DrawPoint,
			@OldNoShowGoalPoint,@NoShowGoalPoint)
			
			
      
   -- Update Data in Competition Table    
	UPDATE tblCompetition SET SeasonId  = @SeasonId,CompetitionLeagueId = @CompetitionLeagueId,SportId = @SportId,    
						  CompetitionTypeId = @CompetitionTypeId,DivisionId = @DivisionId,CompetitionFormatId = @CompetitionFormatId,    
						  CompetitionName = @CompetitionName,CompetitionAbbr = @CompetitionAbbr,CompetitionDesc = @CompetitionDesc,    
						  CompetitionLogoName = @CompetitionLogoName,CompetitionLogoFile = @CompetitionLogoFile,    
						  StartDate = @StartDate,EndDate = @EndDate,NumberofGroups = @NumberofGroups,    
						  NumberofTeams = @NumberofTeams,    
						  ActiveFlagId = @ActiveFlagId,    
						  ShowFlagId = @ShowFlagId,    
						  PortalID = @PortalID,    
						  ModifiedById = @ModifiedById,    
						  ModifiedDate = GETDATE() ,  
						  WinPoint=@WinPoint,  
						  LossPoint= @LossPoint,  
						  DrawPoint=@DrawPoint,  
						  NoShowGoalPoint=@NoShowGoalPoint  
     WHERE CompetitionId = @CompetitionID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeam]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
    
CREATE PROC [dbo].[usp_UpdateTeam]    
  
	@TeamId int,  
	@ClubId int,  
	@SportId int,  
	@TeamName varchar(100),  
	@TeamAbbr varchar(5),  
	@TeamDesc varchar(200),  
	@TeamFamousName varchar(100),  
	@TeamLogoName varchar(100),  
	@TeamLogoFile varchar(100),  
	@TeamPhotoFile varchar(100),  
	@TeamEstablishedYear datetime,  
	@TeamAnthemAudioFile varchar(100),  
	@ActiveFlagId int,  
	@ShowFlagId int,  
	@PortalID int,  
	@ModifiedById varchar(100)   
      
AS      

 
    DECLARE @OldClubID int,@OldSportID int,@OldTeamName varchar(100),@OldTeamAbbr varchar(5),@OldTeamDesc varchar(200),
			@OldTeamFamousName varchar(100),@OldTeamLogoName varchar(100),@OldTeamLogoFile varchar(100),
			@OldTeamPhotoFile varchar(100),@OldTeamEstablishedYear datetime,@OldTeamAnthemAudioFile varchar(100),
			@OldActiveFlagId int,@OldShowFlagId int,@OldPortalID int,@OldModifiedById varchar(100),
			@OldModifiedDate datetime,@OldIsArchive int  
			
	SET @OldClubID = (SELECT ClubId FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldSportID = (SELECT SportId FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamName = (SELECT TeamName FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamAbbr = (SELECT TeamAbbr FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamDesc = (SELECT TeamDesc FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamFamousName = (SELECT TeamFamousName FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamLogoName = (SELECT TeamLogoName FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamLogoFile = (SELECT TeamLogoFile FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamPhotoFile = (SELECT TeamPhotoFile FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamEstablishedYear = (SELECT TeamEstablishedYear FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldTeamAnthemAudioFile = (SELECT TeamAnthemAudioFile FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldActiveFlagId = (SELECT ActiveFlagId FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldShowFlagId = (SELECT ShowFlagId FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldPortalID = (SELECT PortalID FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldModifiedById = (SELECT ModifiedById FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldModifiedDate = (SELECT ModifiedDate FROM tblTeam WHERE TeamID = @TeamID)
	SET @OldIsArchive = (SELECT IsArchive FROM tblTeam WHERE TeamID = @TeamID)
     
    -- Insert Date in TeamLog table    
    INSERT INTO tblTeamLog (TeamID,OldClubID,NewClubID,OldSportID,NewSportID,OldTeamName,NewTeamName,
							OldTeamAbbr,NewTeamAbbr,OldTeamDesc,NewTeamDesc,OldTeamFamousName,
							NewTeamFamousName,OldTeamLogoName,NewTeamLogoName,OldTeamLogoFile,
							NewTeamLogoFile,OldTeamPhotoFile,NewTeamPhotoFile,OldTeamEstablishedYear,
							NewTeamEstablishedYear,OldTeamAnthemAudioFile,NewTeamAnthemAudioFile,
							OldActiveFlagId,NewActiveFlagId,OldShowFlagId,NewShowFlagId,OldPortalID,
							NewPortalID,OldModifiedById,NewModifiedById,OldModifiedDate,NewModifiedDate,
							OldIsArchive,NewIsArchive)
	VALUES (@TeamId,@OldClubID,@ClubId,@OldSportID,@SportId,@OldTeamName,@TeamName,
							@OldTeamAbbr,@TeamAbbr,@OldTeamDesc,@TeamDesc,@OldTeamFamousName,
							@TeamFamousName,@OldTeamLogoName,@TeamLogoName,@OldTeamLogoFile,
							@TeamLogoFile,@OldTeamPhotoFile,@TeamPhotoFile,@OldTeamEstablishedYear,
							@TeamEstablishedYear,@OldTeamAnthemAudioFile,@TeamAnthemAudioFile,
							@OldActiveFlagId,@ActiveFlagId,@OldShowFlagId,@ShowFlagId,@OldPortalID,
							@PortalID,@OldModifiedById,@ModifiedById,@OldModifiedDate,GETDATE(),
							@OldIsArchive,@OldIsArchive)  
      
    -- Team Table update data 
    
	UPDATE tblTeam SET ClubId = @ClubId,  
					TeamName = @TeamName,  
					TeamAbbr = @TeamAbbr,  
					TeamDesc = @TeamDesc,  
					TeamFamousName = @TeamFamousName,  
					TeamLogoName = @TeamLogoName,  
					TeamLogoFile = @TeamLogoFile,  
					TeamPhotoFile = @TeamPhotoFile,  
					TeamEstablishedYear = @TeamEstablishedYear,  
					TeamAnthemAudioFile = @TeamAnthemAudioFile,  
					ActiveFlagId = @ActiveFlagId,    
					ShowFlagId = @ShowFlagId,    
					PortalID = @PortalID,    
					ModifiedById = @ModifiedById,    
					ModifiedDate = GETDATE() 
	WHERE TeamId = @TeamId
GO

/****** Object:  StoredProcedure [dbo].[usp_MatchWisePlayerPerformancePlayerEntryByCompetitionIdAndTeamID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_MatchWisePlayerPerformancePlayerEntryByCompetitionIdAndTeamID]            
   
	@TeamId int,
	@CompetitionID int        
  
AS            
        
SELECT  m.MatchID, m.CompetitionID, m.StartDateTime, m.EndDateTime,m.TeamAID, m.TeamBID, m.MatchStatusId,
		 m.IsFinalized        
FROM tblMatch m        
WHERE m.MatchID NOT IN (        
SELECT  m.MatchID        
FROM    tblMatch m        
INNER JOIN tblMatchResult mr ON m.MatchID = mr.MatchID        
WHERE (m.TeamAID = @TeamId OR m.TeamBID = @TeamId)        
)        
AND         
 (m.TeamAID = @TeamId OR m.TeamBID = @TeamId        
 )        
 AND m.CompetitionID = @CompetitionID
AND CAST(m.EndDateTime AS DATE) > GETDATE()        
         
-- declare @UserID int        
-- set @UserID = 149        
            
--select * from tblMatch where TeamAID IN (select TeamID from tblTeamPlayerCoach             
--where TeamID IN(select TeamID from tblTeams             
--where TeamMasterID IN(select TeamMasterID             
--from tblTeamMasterPlayerCoach))) or TeamBID in (select TeamID from tblTeamPlayerCoach             
--where TeamID IN(select TeamID from tblTeams             
--where TeamMasterID IN(select TeamMasterID             
--from tblTeamMasterPlayerCoach)))             
--And CompetitionID In (select Comp_RegID from tblCompetition               
--where Comp_StartDate <= GETDATE()) And MatchStatus = 0 And MatchID Not In (select MatchID from tblMatchResult)    
        
--select * from tblMatch where MatchID in (3365,3368,3370,3395,3397)    
        
--update tblMatch set StartDate = '2015-01-11 14:32:00.000',EndDate = '2015-01-11 15:50:00.000' where MatchID = 3395    
--update tblMatch set StartDate = '2015-01-12 14:32:00.000',EndDate = '2015-01-12 15:50:00.000' where MatchID = 3397
GO

/****** Object:  StoredProcedure [dbo].[usp_MatchWisePlayerPerformancePlayerEntry]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_MatchWisePlayerPerformancePlayerEntry]            
   
	@TeamMasterId int            
  
AS            
        
--Declare @TeamMasterId int        
--Declare @TeamId int        
--set @TeamMasterId = 44        
--select TeamID from tblTeams where TeamMasterID = @TeamMasterId        
        
SELECT  m.MatchID, m.CompetitionID, m.StartDateTime, m.EndDateTime,m.TeamAID, m.TeamBID, m.MatchStatusId,
		 m.IsFinalized        
FROM tblMatch m        
WHERE m.MatchID NOT IN (        
SELECT  m.MatchID        
FROM    tblMatch m        
INNER JOIN tblMatchResult mr ON m.MatchID = mr.MatchID        
WHERE (m.TeamAID = @TeamMasterId OR m.TeamBID = @TeamMasterId)        
)        
AND         
 (m.TeamAID = @TeamMasterId OR m.TeamBID = @TeamMasterId        
 )        
AND CAST(m.EndDateTime AS DATE) > GETDATE()        
         
-- declare @UserID int        
-- set @UserID = 149        
            
--select * from tblMatch where TeamAID IN (select TeamID from tblTeamPlayerCoach             
--where TeamID IN(select TeamID from tblTeams             
--where TeamMasterID IN(select TeamMasterID             
--from tblTeamMasterPlayerCoach))) or TeamBID in (select TeamID from tblTeamPlayerCoach             
--where TeamID IN(select TeamID from tblTeams             
--where TeamMasterID IN(select TeamMasterID             
--from tblTeamMasterPlayerCoach)))             
--And CompetitionID In (select Comp_RegID from tblCompetition               
--where Comp_StartDate <= GETDATE()) And MatchStatus = 0 And MatchID Not In (select MatchID from tblMatchResult)    
        
--select * from tblMatch where MatchID in (3365,3368,3370,3395,3397)    
        
--update tblMatch set StartDate = '2015-01-11 14:32:00.000',EndDate = '2015-01-11 15:50:00.000' where MatchID = 3395    
--update tblMatch set StartDate = '2015-01-12 14:32:00.000',EndDate = '2015-01-12 15:50:00.000' where MatchID = 3397
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionBySportID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

 CREATE PROC [dbo].[usp_GetCompetitionBySportID]  
  
 @SportID int  
AS  
  
 SELECT * FROM tblCompetition WHERE SportId = @SportID  and EndDate > GETDATE()
   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestPlayerID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestPlayerID]  
  
AS  
  
 SELECT Top 1 PlayerID FROM tblPlayer ORDER BY PlayerId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchResultPlayerPerformance]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_UpdateMatchResultPlayerPerformance]      
 @MatchPlayerPerformanceID int,      
 @CompetitionID int,      
 @MatchID int,      
 @PlayerID int,      
 @Goal int,      
 @Assist int ,      
 @PortalID int,      
 @CreatedBy nvarchar(255),      
 @ModifyBy nvarchar(255),      
 @Yellow int,      
 @Red bit,      
 @OwnGoal int,  
 @TeamID int      
AS      
      
 update tblMatchPlayerPerfomance set MatchID = @MatchID,      
      CompetitionID = @CompetitionID,      
      PlayerID = @PlayerID,       
      Goal = @Goal,      
      PortalID = @PortalID,      
      CreatedBy = @CreatedBy,      
      assist = @Assist,      
      ModifyBy = @ModifyBy,      
      Yellow = @Yellow,      
      Red = @Red,      
      OwnGoal=@OwnGoal,    
      ModifiedDate = GETDATE(),  
      TeamID = @TeamID       
      where MatchPlayerPerfomanceID = @MatchPlayerPerformanceID 
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchResult]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create Proc [dbo].[usp_UpdateMatchResult]
  
 @MatchResultID int,  
 @MatchID int,   
 @TeamATotal int,  
 @TeamBTotal int,  
 @Descr nvarchar(500),  
 @PortalID int,  
 @CreatedBy nvarchar(255),  
 @WinningteamID int,  
 @losingteamId int,  
 @drawmatch int ,  
 @ModifyBy nvarchar(255),  
 @ispanlty bit,  
 @teamApanlty int,  
 @teamBpanlty int,  
 @IsNoShow bit,  
 @TossWinningTeam INT,
 @NoShowPenaltyPoint int  
AS  
  
 update tblMatchResult set MatchID = @MatchID,  
      TeamATotal = @TeamATotal,  
      TeamBTotal = @TeamBTotal,   
      Descr = @Descr,  
      PortalID = @PortalID ,  
      CreatedById = @CreatedBy,  
      ModifiedById = @ModifyBy,  
      WinningTeam = @WinningteamID,  
      LosingTeam = @losingteamId,  
      DrawTeam=@drawmatch,  
      Ispanlty =@ispanlty,  
      TeamApanlty=@teamApanlty,  
      TeamBpanlty=@teamBpanlty,  
      IsNoShow=@IsNoShow,  
      TossWinningTeam=@TossWinningTeam,
      NoShowPanltyPoint = @NoShowPenaltyPoint  
      where MatchResultID = @MatchResultID  
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchResult]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

--create proc usp_UpdateMatchResult

create proc [dbo].[usp_InsertMatchResult]    
  
 @MatchID int,    
  
 @TeamATotal int,    
  
 @TeamBTotal int,    
  
 @Descr nvarchar(500),    
  
 @PortalID int,    
  
 @CreatedBy nvarchar(255),    
  
 @ModifyBy nvarchar(255),   
  
 @WinningteamID int,    
  
 @losingteamId int,    
  
 @drawmatch int ,  
  
  @ispanlty bit,  
  
 @teamApanlty int,  
  
 @teamBpanlty int,  
  
  @IsNoShow bit,  
  
 @TossWinningTeam INT,
 
 @NoShowPenaltyPoint int  
  
AS    
  
    
  
 insert into tblMatchResult     
  
  (MatchID,TeamATotal,TeamBTotal,Descr,PortalID,CreatedById,ModifiedById,WinningTeam ,LosingTeam ,DrawTeam,Ispanlty,TeamApanlty,TeamBpanlty,IsNoShow,TossWinningTeam,NoShowPanltyPoint)     
  
     values    
  
     (@MatchID,@TeamATotal,@TeamBTotal,@Descr,@PortalID,@CreatedBy,@ModifyBy,@WinningteamID,@losingteamId,@drawmatch,@ispanlty,@teamApanlty,@teamBpanlty,@IsNoShow,@TossWinningTeam,@NoShowPenaltyPoint)  
  
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSuspendedFlag]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

 CREATE PROC [dbo].[usp_UpdateSuspendedFlag]  
   
 @IsSuspended int,  
 @MatchID int,  
 @PlayerID int  
AS  
  
 UPDATE tblMatchPlayerPerfomance SET PlayerSuspended = @IsSuspended   
          Where MatchID = @MatchID AND PlayerID = @PlayerID
   
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSuspendedCount]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_UpdateSuspendedCount]  
 @PlayerId int,  
 @CompetitionID int,  
 @PlayerSuspended int  
   
 As  
   
 Update tblCompetitionPlayerPerfomance   
 set Suspended= @PlayerSuspended   
 Where PlayerID = @PlayerId   
   and CompetitionID =@CompetitionID  
   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionPlayerPerfomanceData]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionPlayerPerfomanceData]  
 @CompetitionID int,  
 @PlayerID int  
AS  
  
 SELECT * FROM tblCompetitionPlayerPerfomance WHERE PlayerID = @PlayerID AND CompetitionID = @CompetitionID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateIsPlayedForMatch]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

create proc [dbo].[usp_UpdateIsPlayedForMatch]

@MatchId int,
@IsPlayed int 

as
	update tblMatch set  IsPlayed= @IsPlayed where MatchID = @MatchId

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPlayerCardDetail]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



Create Proc [dbo].[usp_InsertPlayerCardDetail]
@MatchPlayerPerfomanceID int,
@CardName  nvarchar(300),
@Remark nvarchar(300)
As
	Insert Into tblPlayerCardDetail (MatchPlayerPerformanecID,
				CardName,
				Remark)Values 
				(@MatchPlayerPerfomanceID,
				@CardName,
				@Remark)

GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchResult]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

 create proc [dbo].[usp_DeleteMatchResult]
 
 @MatchId int 
 as
 Delete From tblMatchResult 
 Where MatchID = @MatchId	 

GO

/****** Object:  StoredProcedure [dbo].[usp_getYelloowRed]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_getYelloowRed]  
   
 @CompetitionID int,  
 @MatchID int,  
 @PlayerID int  
   
AS  
  
 SELECT Yellow,Red   
 FROM tblMatchPlayerPerfomance   
 WHERE CompetitionID = @CompetitionID AND MatchID = @MatchID AND PlayerID = @PlayerID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerGoalByMatchPlayerID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_GetPlayerGoalByMatchPlayerID]  
 @CompetitionID int,  
 @MatchID int,  
 @PlayerID int  
as  
 select * from tblMatchPlayerPerfomance   
 where CompetitionID = @CompetitionID and MatchID = @MatchID and PlayerID = @PlayerID  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCountMatchID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCountMatchID]  
  
 @MatchID int  
   
AS  
  
 SELECT IsNull(Count(MatchID),0) AS MatchID   
 FROM tblMatchResult   
 WHERE MatchID = @MatchID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamGoalTotalMatchID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamGoalTotalMatchID]  
  
 @MatchID int  
   
AS  
  
 SELECT MatchResultID,TeamATotal,TeamBTotal,Descr,WinningTeam,LosingTeam,  
   DrawTeam,Ispanlty,TeamApanlty,TeamBpanlty,IsNoShow,TossWinningTeam,  
   NoShowPanltyPoint   
 FROM tblMatchResult   
 WHERE MatchID = @MatchID  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchPlayerExists]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

 CREATE PROC [dbo].[usp_GetMatchPlayerExists]  
 @MatchID int,      
 @PlayerID int   
AS  
  
 SELECT *       
 FROM tblMatchPlayerPerfomance        
 WHERE MatchID = @MatchID AND PlayerID = @PlayerID    
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamByCompetitionIdAndMatchID]    Script Date: 03/02/2016 12:54:58 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



-- DNN-4287: optimize paging
create PROCEDURE [dbo].[usp_GetTeamByCompetitionIdAndMatchID]
    @CompetitionID   Int ,
   
    @MatchID int   
AS

 select * from tblMatch where CompetitionID = @CompetitionID and MatchID =@MatchID



GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePlayerPerformanceFlag]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



-- DNN-4287: optimize paging
CREATE PROCEDURE [dbo].[usp_UpdatePlayerPerformanceFlag]
    @MatchPlayerPerfomanceID   Int ,
   
    @Flag int   
AS

 Update tblMatchPlayerPerfomance set IsPlayed = @Flag where MatchPlayerPerfomanceID = @MatchPlayerPerfomanceID 



GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePlayerPerformance]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



-- DNN-4287: optimize paging
create PROCEDURE [dbo].[usp_UpdatePlayerPerformance]
   @MatchPlayerPerfomanceID int,
        @CompetitionID int,
        @MatchId int,
       @TeamID int,
        @PlayerID int ,
        @Goal int,
        @Assist int ,
        @Red int ,
        @Yellow int ,
        @IsPlayed int ,
        @OwnGoal int ,
        @PlayerSuspended int ,
        --@CreatedById nvarchar(100),
       @ModifiedById nvarchar(100),
     @PortalID int 
AS

 Update tblMatchPlayerPerfomance set 
 CompetitionID = @CompetitionID,
 MatchID = @MatchID,
 TeamID = @TeamID,
 PlayerID = @PlayerID,
 Goal = @Goal,
 Assist = @Assist,
 Red = @Red,
 Yellow = @Yellow,
 IsPlayed = @IsPlayed,
  OwnGoal = @OwnGoal,
   PlayerSuspended = @PlayerSuspended,
    ModifyBy = @ModifiedById,
     PortalID = @PortalID
 where MatchPlayerPerfomanceID = @MatchPlayerPerfomanceID 



GO

/****** Object:  StoredProcedure [dbo].[usp_GetSuspendedFlag]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



-- DNN-4287: optimize paging
create PROCEDURE [dbo].[usp_GetSuspendedFlag]
    @CompetitionID   Int ,
    @PlayerID   Int   
AS


select * from tblMatchPlayerPerfomance mp where mp.CompetitionID = @CompetitionID and mp.PlayerID= @PlayerID




GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionAndTeamDetaibyMatchID]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_GetCompetitionAndTeamDetaibyMatchID]
	
	@MatchID int
	
AS

	select *,
		  t1.TeamName as TeamAName ,
		  t2.TeamName as TeamBName ,
		  c.NoShowGoalPoint as NoShowGoal,
		  c.CompetitionId from tblMatch M 
		join tblCompetition c on m.CompetitionID= c.CompetitionId 
		join tblTeam t1 on m.TeamAId =t1.TeamId 
		join tblTeam t2 on m.TeamBId = t2.TeamId 
		where m.MatchID= @MatchID

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetition]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
  
CREATE PROC [dbo].[usp_InsertCompetition]  
  
@SeasonId int,  
@CompeitionLeagueId int,  
@SportId int,  
@CompetitionTypeId int,  
@DivisionId int,  
@CompetitionFormatId int,  
@CompetitionName varchar(100),  
@CompetitionAbbr varchar(5),  
@CompetitionDesc varchar(200),  
@CompetitionLogoName varchar(200),  
@CompetitionLogoFile varchar(200),  
@StartDate datetime,  
@EndDate datetime,  
@NumberofGroups int,  
@NumberofTeams int,  
@ActiveFlagId int,  
@ShowFlagId int,  
@PortalID int,  
@CreatedById varchar(100),  
@ModifiedById varchar(100),
@WinPoint int,
@LossPoint int,
@DrawPoint int,
@NoShowGoalPoint int  
  
  
AS     
    
 INSERT INTO tblCompetition  
 (SeasonId,  
CompetitionLeagueId,  
SportId,  
CompetitionTypeId,  
DivisionId,  
CompetitionFormatId,  
CompetitionName,  
CompetitionAbbr,  
CompetitionDesc,  
CompetitionLogoName,  
CompetitionLogoFile,  
StartDate,  
EndDate,  
NumberofGroups,  
NumberofTeams,  
ActiveFlagId,  
ShowFlagId,  
PortalID,  
CreatedById,  
ModifiedById,
WinPoint,
LossPoint,
DrawPoint,
NoShowGoalPoint)   
    
 VALUES   
   
 (@SeasonId,  
@CompeitionLeagueId,  
@SportId,  
@CompetitionTypeId,  
@DivisionId,  
@CompetitionFormatId,  
@CompetitionName,  
@CompetitionAbbr,  
@CompetitionDesc,  
@CompetitionLogoName,  
@CompetitionLogoFile,  
@StartDate,  
@EndDate,  
@NumberofGroups,  
@NumberofTeams,  
@ActiveFlagId,  
@ShowFlagId,  
@PortalID,  
@CreatedById,  
@ModifiedById,@WinPoint,@LossPoint,@DrawPoint,@NoShowGoalPoint) 

SELECT SCOPE_IDENTITY()
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMasterTeamsNotInCompetitionTeam]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

      
CREATE PROCEDURE [dbo].[usp_GetMasterTeamsNotInCompetitionTeam]      
      
@CompetitionId smallint    
      
      
AS         
        
 Select * from tblTeam where      
 TeamId not in (Select TeamId from tblCompetitionTeams Where CompetitionId = @CompetitionId)    
 and( IsArchive = 0 or IsArchive is null)  
     
     
        
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchPlayerPerformance]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_DeleteMatchPlayerPerformance]

@MatchID int,  
 @PlayerID int  
   
AS  
  
 DELETE FROM tblMatchPlayerPerfomance   
 WHERE MatchID = @MatchID AND PlayerID = @PlayerID 

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchPlayerPerfomance]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_InsertMatchPlayerPerfomance]

		--@MatchPlayerPerfomanceID int,
		@CompetitionID int,
		@MatchID int,
		@TeamID int,
		@PlayerID int,
		@Goal int,
		@Assist int,
		@Red int, 
		@Yellow int,
		@IsPlayed int,
		@OwnGoal int,
		@PlayerSuspended int,
		@PortalID int,
		@CreatedBy nvarchar(100),
		@ModifyBy nvarchar(100)


AS

	INSERT INTO tblMatchPlayerPerfomance 
	(
	CompetitionID,
	MatchID,
	TeamID,
	PlayerID,
	Goal,
	Assist,
	Red,
	Yellow,
	IsPlayed,
	OwnGoal,
	PlayerSuspended,
	PortalID,
	CreatedBy,
	ModifyBy)
	VALUES (
		@CompetitionID,
		@MatchID ,
		@TeamID ,
		@PlayerID,
		@Goal,
		@Assist,
		@Red, 
		@Yellow,
		@IsPlayed,
		@OwnGoal,
		@PlayerSuspended,
		@PortalID,
		@CreatedBy,
		@ModifyBy)

GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionMatchByCompetitionIDAndTeamID]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO




CREATE proc [dbo].[usp_GetCompetitionMatchByCompetitionIDAndTeamID]      

 @CompetitionID Int,
 @TeamID Int
    
 
    
AS      
 
 select * ,@TeamID as Team_ID from tblMatch  where (TeamAId = @TeamID or TeamBId= @TeamID )and 
 CompetitionID = @CompetitionID
     

GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateMatchRating]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO




CREATE proc [dbo].[usp_UpdateMatchRating]      

 @MatchRatingID Int,
 @MatchID Int,
 @TeamARating Int,
 @TeamBRating Int,
 @TeamAID Int,
 @TeamBID Int,
 @Description nvarchar(300),
 @PortalId Int,
 @ModifiedById varchar(100)      
 
    
AS      
 
 Update tblMatchRating set 
		 MatchID=@MatchID,
		 TeamARating = @TeamARating,
		 TeamBRating= @TeamBRating,
		 TeamAID= @TeamAID,
		 TeamBID = @TeamBID,
		 MatchRatingDesc= @Description,
		 PortalID=@PortalId,
		 ModifyBy=@ModifiedById,
		 ModifiedDate= GETDATE()
		 Where MatchRatingID= @MatchRatingID
     



GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchRatingByMatchRatingId]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



CREATE proc [dbo].[usp_GetMatchRatingByMatchRatingId]      

 @MatchRatingId int
    
AS      
      
 Select * from tblMatchRating where MatchRatingID= @MatchRatingId
 
     


GO

/****** Object:  StoredProcedure [dbo].[usp_InsertMatchRating]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



CREATE proc [dbo].[usp_InsertMatchRating]      

 @MatchID Int,
 @TeamARating Int,
 @TeamBRating Int,
 @TeamAID Int,
 @TeamBID Int,
 @Description nvarchar(300),
 @PortalId Int,
 @CreatedBy varchar(100)      
 
    
AS      

     INSERT INTO [tblMatchRating]
           ([MatchID]
           ,[TeamARating]
           ,[TeamBRating]
           ,[MatchRatingDesc]
           ,[PortalID]
           ,[CreatedBy]
           ,[CreatedDate],
           TeamAID,
           TeamBID
           )
     VALUES
           (@MatchID
           ,@TeamARating
           ,@TeamBRating
           ,@Description
           ,@PortalID
           ,@CreatedBy
           ,GETDATE(),@TeamAID,@TeamBID
           )


GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsDetailByMatchId]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


-- DNN-4287: optimize paging
CREATE PROCEDURE [dbo].[usp_GetTeamsDetailByMatchId]
    @MatchID   Int    
AS

	select m.MatchID,
	t.TeamName as TeamNameA,
	m.TeamAId,m.TeamBId ,
	T1.TeamName As TeamNameB 
	from tblMatch m Join 
		 tblTeam t on m.TeamAId = t.TeamId join 
		 tblTeam T1 on m.TeamBId = t1.TeamId 
		 where MatchID = @MatchID


GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllMatchRatingByMatchId]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



CREATE proc [dbo].[usp_GetAllMatchRatingByMatchId]      

 @MatchId int
    
AS      
      
 Select * from [tblMatchRating] where MatchId= @MatchId
 
     


GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionMatchList]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_GetCompetitionMatchList]    
      
   @CompetitionID Int
      
AS      
    
SELECT  m.MatchID,c.CompetitionId,c.CompetitionName,    
 lo.Loc_LocationID,lo.Loc_LocationName,    
 m.StartDateTime,m.EndDateTime,    
 te.TeamName,te.TeamID,tem.TeamID,tem.TeamName  
 ,m.IsFinalized FROM tblMatch  m 
join tblCompetition c on m.CompetitionID=c.CompetitionId
 join tblLocation lo    
 on m.LocationID = lo.Loc_LocationID     
 join tblTeam te    
 on m.TeamAID = te.TeamID     
 join tblTeam tem    
 on m.TeamBID = tem.TeamID  
 where m.CompetitionID= @CompetitionID
 

GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllLocation]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

 --exec usp_GetAllLocation  'host','Location1','0'
        
CREATE PROCEDURE [dbo].[usp_GetAllLocation]            
  
 @current_user varchar(100),
 @LocationName varchar(100),
 @SearchCountryID  varchar(10)          
   
AS               
  
 DECLARE @query nvarchar(MAX)            
      
BEGIN             
             
 SET @query = 'SELECT l.*,s.* FROM tblLocation l Inner Join tblSport s on s.SportID = l.SportID Where 1 = 1 '          
 
 IF @SearchCountryID != '0' And @SearchCountryID != ''
 BEGIN
	SET @query = @query + ' And l.Loc_Country = ' + CONVERT(nvarchar(max),@SearchCountryID)
 END
 
 IF @LocationName != ''            
BEGIN            
    SET @query = @query + ' And l.Loc_LocationName like ''%' + CONVERT(nvarchar(MAX),@LocationName + '%''')            
 END            
             
 IF @current_user = 'clubadmin'            
             
BEGIN            
    SET @query = @query + ' l.CreatedById like ''%' + CONVERT(nvarchar(MAX),@current_user + '%''')            
                
 END            
    SET @query = @query + ' ORDER BY l.Loc_LocationName'      
             
 execute sp_executesql @query            
 print @query            
  END            
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionMatch]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



CREATE PROC [dbo].[usp_UpdateCompetitionMatch]
@MatchId int,
@CompetitionId int,
@LocationId int,
@StartDate datetime,
@EndDate datetime,
@TeamIdA int,
@TeamIdB int,
@MatchStatusId int,
@MatchTypeId int,
@IsFinalized int,
@PortalId int,
 @ModifiedById varchar(100)


AS   
  
Update tblMatch set
CompetitionId = @CompetitionId,
LocationId=@LocationId,
StartDateTime=@StartDate,
EndDateTime=@EndDate,
TeamAId=@TeamIdA,
TeamBId=@TeamIdB,
MatchStatusId=@MatchStatusId,
MatchTypeId=@MatchTypeId,
IsFinalized=@IsFinalized,
PortalId=@PortalId
,ModifiedById= @ModifiedById,
ModifiedDate=GETDATE()
Where MatchID= @MatchID


GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionMatchDetailByMatchID]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_GetCompetitionMatchDetailByMatchID]
  
 @MatchId int
  
AS  

 SELECT * FROM tblMatch where MatchID = @MatchId

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionMatch]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



CREATE PROC [dbo].[usp_InsertCompetitionMatch]

@CompetitionId int,
@LocationId int,
@StartDate datetime,
@EndDate datetime,
@TeamIdA int,
@TeamIdB int,
@MatchStatusId int,
@MatchTypeId int,
@IsFinalized int,
@PortalId int,
@CreatedById varchar(100),
@ModifiedById varchar(100)

AS   
  
 INSERT INTO tblMatch
 (CompetitionId,
LocationId,
StartDateTime,
EndDateTime,
TeamAId,
TeamBId,
MatchStatusId,
MatchTypeId,
IsFinalized,
PortalId,
CreatedById,ModifiedById)
  
 VALUES 
 
 (@CompetitionId,
@LocationId,
@StartDate,
@EndDate,
@TeamIdA,
@TeamIdB,
@MatchStatusId,
@MatchTypeId,
@IsFinalized,
@PortalId,
@CreatedById,@ModifiedById) 

GO

/****** Object:  StoredProcedure [dbo].[usp_GetDivisionTeamsByUser]    Script Date: 03/02/2016 12:54:59 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  -- exec usp_GetDivisionTeamsByUser '',0,0  
CREATE PROCEDURE [dbo].[usp_GetDivisionTeamsByUser]                                          
  
     @current_user varchar(100),    
     @DivisionId int,    
     @TeamId int    
                                          
AS                                         
   DECLARE @query nvarchar(MAX)                                      
                            
                             
 SET @query =       
     
 'Select dt.*,dv.*,t.*,  
  (dv.DivisionName + ''>>'' +     t.TeamName)                            
 as TeamFullName                                           
 from tblDivisionTeam dt Inner Join tblTeam t on t.TeamId = dt.TeamId  
 Inner Join tblDivision dv on dv.DivisionId = dt.DivisionId  
 Where (t.IsArchive =0 or t.IsArchive is null)    
 And (dv.IsArchive =0 or dv.IsArchive is null)'    
                 
                          
IF @current_user = 'clubadmin'                                      
BEGIN                                      
    SET @query = @query + ' And t.CreatedById like ''%' + CONVERT(nvarchar(MAX),@current_user + '%''')                                      
END          
    
IF @TeamId !=0    
BEGIN    
 SET @query = @query + ' And t.TeamId =' + CONVERT(nvarchar(MAX),@TeamId)    
END    
    
IF @DivisionId != 0    
BEGIN    
 SET @query = @query + ' And dv.DivisionId = ' + CONVERT(nvarchar(MAX),@DivisionId)    
END    
                            
SET @query = @query + ' order by t.TeamName ASC'                          
                              
execute sp_executesql @query                                      
                            
print @query                                      
    
    
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchType]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE proc [dbo].[usp_DeleteMatchType]      

 @MatchTypeId int
    
AS      
      
 --Delete from tblMatchStatus where MatchStatusId= @MatchStatusId
     
     if exists (select* from tblmatchtype with(nolock)where Matchtypeid =@MatchTypeId)
		 begin
				 update tblmatchtype set IsArchive = 1 where Matchtypeid = @MatchTypeId
		 end

GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchTypeByMatchTypeId]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE proc [dbo].[usp_GetMatchTypeByMatchTypeId]      

 @MatchTypeId int
    
AS      
      
 Select * from tblMatchType where MatchTypeId= @MatchTypeId
 
     

GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteEvent]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteEvent]
	
	@EventID int
    
AS    
  
 --Delete from tblCompetition where CompetitionId = @CompetitionID
 
			if exists (select* from tblEvent with(nolock)where EventID =@EventID)
			 begin
					 update tblEvent set IsArchive = 1 where EventID = @EventID
			 end
 --- set IsAchive video
		 if exists (select* from tblvideolinks with(nolock)where EventId =@EventID)
			 begin
					-- update tblVideoLinks set IsArchive = 1 where CompetitionId = @SponsorID
					 
					  update tblVideos set IsArchive =1 where VideoId in (select VideoId from tblvideolinks with(nolock)where EventId =@EventID)
			 end
			 -- archive picture
		 if exists (select* from tblPictureLinks with(nolock)where EventId =@EventID)
			 begin
					-- update tblPictureLinks set IsArchive = 1 where CompetitionId = @SponsorID
					 
					  update tblPictures set IsArchive =1 where PictureId in (select PictureId from tblPictureLinks with(nolock)where EventId =@EventID)
			 end	 
			 
			  -- archive news
			 
		if exists (select* from tblNewsLinks with(nolock)where EventId =@EventID)
			 begin
					-- update tblNewsLinks set IsArchive = 1 where CompetitionId = @SponsorID
					 
					  update tblNews set IsArchive =1 where NewsId in (select NewsId from tblNewsLinks with(nolock)where EventId =@EventID)
			 end	
				 
		 if exists (select* from tblRefSportsSponsor with(nolock)where EventId =@EventID)
		 begin
				-- update tblNewsLinks set IsArchive = 1 where CompetitionId = @SponsorID
				 
				  update tblSponsor set IsArchive =1 where SponsorId in (select SponsorId from tblRefSportsSponsor with(nolock)where EventId =@EventID)
		 end	 
		 
		 


GO

/****** Object:  StoredProcedure [dbo].[usp_GetEventIDAndEventName]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetEventIDAndEventName]

AS

	SELECT EventID,EventName FROM tblEvent where (IsArchive = 0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_FillComptitionIDAndCompetitionName]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillComptitionIDAndCompetitionName]

AS

	SELECT CompetitionId,CompetitionName FROM tblCompetition where (IsArchive = 0 or IsArchive is null )
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateLocationName]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateLocationName]  
  
 @LcoationID int,  
 @LocationName varchar(10)  
   
AS  
  
 UPDATE tblLocation SET Loc_LocationName = @LocationName   
     WHERE Loc_LocationID =  @LcoationID
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteMatchStatus]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_DeleteMatchStatus]      

 @MatchStatusId int
    
AS      
      
 Delete from tblMatchStatus where MatchStatusId= @MatchStatusId
 
     
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMatchStatusByMatchStatusId]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_GetMatchStatusByMatchStatusId]      

 @MatchStatusId int
    
AS      
      
 Select * from tblMatchStatus where MatchStatusId= @MatchStatusId
 
     
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLocationByID]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_GetLocationByID]      
  
 @Loc_LocationID int      
   
AS      
  
 Select l.*,s.*  from tblLocation l
 Inner Join tblSport s on s.SportID = l.SportID     
 where l.Loc_LocationID = @Loc_LocationID 
 
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataEvent]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataEvent]  
  
AS  
  
 SELECT EventID,EventName,EventDetail,convert(nvarchar(10),EventStartDateTime,101) AS EventStartDateTime,
		CONVERT(nvarchar(10),EventEndDateTime,101) AS EventEndDateTime,
		EventPriority FROM tblEvent where IsArchive = 0 or IsArchive is null
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_IsEventHasOtherData]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO




CREATE PROC [dbo].[usp_IsEventHasOtherData]
	
	@EventID int,
	@Ref varchar(50) output
    
AS    
set @Ref= ''

		 if exists (select* from tblvideolinks with(nolock)where EventId =@EventID)
			 begin
					set @Ref =+ 'Video '
			 end
		 if exists (select* from tblPictureLinks with(nolock)where EventId =@EventID)
			 begin
					set @Ref =+ 'Picture '
			 end	 
			 
		if exists (select* from tblNewsLinks with(nolock)where EventId =@EventID)
			 begin
				 
					set @Ref =+ 'News'
			 end
			 
		if exists (select* from tblRefSportsSponsor with(nolock)where EventId =@EventID)
		 begin
			 
				set @Ref =+ 'Sponsor'
		 end
			 
	select @Ref as RefData
		 
		 



GO

/****** Object:  StoredProcedure [dbo].[usp_GetCountryByID]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

    
--exec usp_GetCountryByID  
    
CREATE Proc [dbo].[usp_GetCountryByID]    
  @CountryID int  
as    
    
select CountryID,CountryName  from tblCountry
where CountryID = @CountryID
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteCompetition]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteCompetition]
	
	@CompetitionID int
    
AS    
  
 --Delete from tblCompetition where CompetitionId = @CompetitionID
 
			if exists (select* from tblCompetition with(nolock)where CompetitionId =@CompetitionID)
			 begin
					 update tblCompetition set IsArchive = 1 where CompetitionId = @CompetitionID
			 end
		-- Archive Video 
		 if exists (select* from tblvideolinks with(nolock)where CompetitionId =@CompetitionID)
			 begin
					 update tblVideoLinks set IsArchive = 1 where CompetitionId = @CompetitionID
					 
					  update tblVideos set IsArchive =1 where VideoId in (select VideoId from tblvideolinks with(nolock)where CompetitionId =@CompetitionID)
			 end
		-- Archive picture 	 
		 if exists (select* from tblPictureLinks with(nolock)where CompetitionId =@CompetitionID)
			 begin
					 update tblPictureLinks set IsArchive = 1 where CompetitionId = @CompetitionID
					 
					  update tblPictures set IsArchive =1 where PictureId in (select PictureId from tblPictureLinks with(nolock)where CompetitionId =@CompetitionID)
			 end	 
			 
		-- Archive News 
		if exists (select* from tblNewsLinks with(nolock)where CompetitionId =@CompetitionID)
			 begin
					 update tblNewsLinks set IsArchive = 1 where CompetitionId = @CompetitionID
					 
					  update tblNews set IsArchive =1 where NewsId in (select NewsId from tblNewsLinks with(nolock)where CompetitionId =@CompetitionID)
			 end
			 	
		-- Archive sponsor 
		 if exists (select* from tblRefSportsEvent with(nolock)where CompetitionId =@CompetitionID)
		 begin
				
				 
				  update tblSponsor set IsArchive =1 where SponsorId in (select SponsorId from tblRefSportsEvent with(nolock)where CompetitionId =@CompetitionID)
		 end	
		 
		 -- Archive Event 
		 if exists (select* from tblRefSportsEvent with(nolock)where CompetitionId =@CompetitionID)
		 begin	 
				  update tblEvent set IsArchive =1 where EventID in (select EventID from tblRefSportsEvent with(nolock)where CompetitionId =@CompetitionID)
		 end		 
			 
		 
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteSponsor]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_DeleteSponsor]
	
	@SponsorID int
    
AS    
  
 --Delete from tblCompetition where CompetitionId = @CompetitionID
 
			if exists (select* from tblSponsor with(nolock)where SponsorId =@SponsorID)
			 begin
					 update tblSponsor set IsArchive = 1 where SponsorId = @SponsorID
			 end
 --- set IsAchive video
		 if exists (select* from tblvideolinks with(nolock)where SponsorId =@SponsorID)
			 begin
					-- update tblVideoLinks set IsArchive = 1 where CompetitionId = @SponsorID
					 
					  update tblVideos set IsArchive =1 where VideoId in (select VideoId from tblvideolinks with(nolock)where SponsorId =@SponsorID)
			 end
			 -- archive picture
		 if exists (select* from tblPictureLinks with(nolock)where SponsorId =@SponsorID)
			 begin
					-- update tblPictureLinks set IsArchive = 1 where CompetitionId = @SponsorID
					 
					  update tblPictures set IsArchive =1 where PictureId in (select PictureId from tblPictureLinks with(nolock)where SponsorId =@SponsorID)
			 end	 
			 
			  -- archive news
			 
		if exists (select* from tblNewsLinks with(nolock)where SponsorId =@SponsorID)
			 begin
					-- update tblNewsLinks set IsArchive = 1 where CompetitionId = @SponsorID
					 
					  update tblNews set IsArchive =1 where NewsId in (select NewsId from tblNewsLinks with(nolock)where SponsorId =@SponsorID)
			 end	
				 
		 if exists (select* from tblRefSportsEvent with(nolock)where SponsorId =@SponsorID)
		 begin
				-- update tblNewsLinks set IsArchive = 1 where CompetitionId = @SponsorID
				 
				  update tblEvent set IsArchive =1 where EventID in (select EventID from tblRefSportsEvent with(nolock)where SponsorId =@SponsorID)
		 end	 
		 
		 

GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorIDAndSponsorName]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorIDAndSponsorName]  
  
AS  
  
 SELECT SponsorId,SponsorName FROM tblSponsor where (IsArchive= 0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataSponsor]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataSponsor]

AS

	SELECT sp.SponsorId,sp.SponsorName,st.SponsorTypeValue,sl.SponsorLevelValue,
			convert(nvarchar(10),sp.SponsorStartDate,101) AS SponsorStartDate, 
			CONVERT(nvarchar(10),sp.SponsorEndDate,101) as SponsorEndDate,
			sp.SponsorAmt 
	FROM tblSponsor AS sp
	INNER JOIN tblSponsorLevel AS sl ON sp.SponsorLevelId = sl.SponsorLevelId
	INNER JOIN tblSponsorType AS st ON sp.SponsorTypeId = st.SponsorTypeId where( sp.IsArchive=0 or sp.IsArchive is null)
	--INNER JOIN tblRefSportsSponsor as sr ON sp.SponsorId = sr.SponsorId 
	--left join  tblTeam as t on sr.TeamId = t.TeamId 
	-- where( t.IsArchive =0 or t.IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteLocation]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE Proc [dbo].[usp_DeleteLocation]  

 @Loc_LocationID int  
 
as  
 Delete from tblLocation where Loc_LocationID = @Loc_LocationID  
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateLocation]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_UpdateLocation]    

 @Loc_LocationID int,    
 @Loc_LocationName varchar(100),    
 @Loc_LocationAddress varchar(200),  
 @Loc_City varchar(30),            
 @Loc_State varchar(30),            
 @Loc_ZipCode varchar(15),            
 @Loc_Country varchar(30),    
 @PortalID int,    
 @SportID int,
 @CreatedById varchar(100),    
 @ModifyById varchar(100)    
AS    
 Update tblLocation set 
	Loc_LocationName = @Loc_LocationName,    
	Loc_LocationAddress = @Loc_LocationAddress,   
	Loc_City = @Loc_City,  
	Loc_State = @Loc_State,  
	Loc_ZipCode= @Loc_ZipCode,  
	Loc_Country = @Loc_Country,   
    PortalID = @PortalID,
    SportID = @SportID,
    CreatedById = @CreatedById,
    ModifiedById = @ModifyById
    where Loc_LocationID = @Loc_LocationID 
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertLocation]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE proc [dbo].[usp_InsertLocation]    
 @Loc_LocationName nvarchar(100),    
 @Loc_LocationAddress varchar(200),    
 @Loc_City varchar(30),            
 @Loc_State varchar(30),            
 @Loc_ZipCode varchar(15),            
 @Loc_Country varchar(30),    
 @PortalID int,    
 @SportID int,
 @CreatedById varchar(100),    
 @ModifiedById varchar(100)    
AS    
    
 insert into tblLocation    
 (Loc_LocationName,  
 Loc_LocationAddress,  
 Loc_City,  
 Loc_State,  
 Loc_ZipCode,  
 Loc_Country,  
 PortalID,  
 SportID,
 CreatedById,  
 ModifiedById)     
     values(@Loc_LocationName,  
     @Loc_LocationAddress,  
     @Loc_City,  
     @Loc_State,  
     @Loc_ZipCode,  
     @Loc_Country,  
     @PortalID,  
     @SportID,
     @CreatedById,  
     @ModifiedById) 
GO

/****** Object:  StoredProcedure [dbo].[usp_IsSponsorHasOtherData]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



CREATE PROC [dbo].[usp_IsSponsorHasOtherData]
	
	@SponsorID int,
	@Ref varchar(50) output
    
AS    
set @Ref= ''

		 if exists (select* from tblvideolinks with(nolock)where SponsorId =@SponsorID)
			 begin
					set @Ref =+ 'Video '
			 end
		 if exists (select* from tblPictureLinks with(nolock)where SponsorId =@SponsorID)
			 begin
					set @Ref =+ 'Picture '
			 end	 
			 
		if exists (select* from tblNewsLinks with(nolock)where SponsorId =@SponsorID)
			 begin
				 
					set @Ref =+ 'News'
			 end
			 
		if exists (select* from tblRefSportsEvent with(nolock)where SponsorId =@SponsorID)
		 begin
			 
				set @Ref =+ 'Events'
		 end
			 
	select @Ref as RefData
		 
		 


GO

/****** Object:  StoredProcedure [dbo].[usp_IsCompetitionHasOtherData]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_IsCompetitionHasOtherData]
	
	@CompetitionID int,
	@Ref varchar(50) output
    
AS    
set @Ref= ''

		 if exists (select* from tblvideolinks with(nolock)where CompetitionId =@CompetitionID)
			 begin
					set @Ref =+ 'Video'
			 end
		 if exists (select* from tblPictureLinks with(nolock)where CompetitionId =@CompetitionID)
			 begin
					set @Ref =+ 'Picture'
			 end	 
			 
		if exists (select* from tblNewsLinks with(nolock)where CompetitionId =@CompetitionID)
			 begin
				 
					set @Ref =+ 'News'
			 end
			 
		 if exists (select* from tblRefSportsSponsor with(nolock)where CompetitionId =@CompetitionID)
		 begin
			 
				set @Ref =+ 'Sponser'
		 end
		 
		 if exists (select* from tblRefSportsEvent with(nolock)where CompetitionId =@CompetitionID)
		 begin
			 
				set @Ref =+ 'Events'
		 end
		
			 
	select @Ref as RefData
		 
		 

GO

/****** Object:  StoredProcedure [dbo].[usp_GetMasterTeamsNotInDivisionTeam]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

      
CREATE PROCEDURE [dbo].[usp_GetMasterTeamsNotInDivisionTeam]      
      
@DivisionId smallint    
      
      
AS         
        
 Select * from tblTeam where      
 TeamId not in (Select TeamId from tblDivisionTeam Where DivisionId = @DivisionId)    
 and (IsArchive = 0 And IsArchive is null)  
     
     
        
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamDetailByTeamID]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROC [dbo].[usp_GetTeamDetailByTeamID]      
        
      @TeamId int  
        
AS        
      
 SELECT t.*,s.SportName,c.ClubName,dt.DivisionId FROM tblTeam t   
 Inner join tblSport s on s.SportID = t.SportId  
 Inner Join tblClub c on c.ClubId = t.ClubId  
 Inner Join tblDivisionTeam dt on dt.TeamId = t.TeamId
 Where t.TeamId = @TeamId
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeam]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_InsertTeam]  
  
@ClubId int,  
@SportId int,  
@TeamName varchar(100),  
@TeamAbbr varchar(5),  
@TeamDesc varchar(200),  
@TeamFamousName varchar(100),  
@TeamLogoName varchar(100),  
@TeamLogoFile varchar(100),  
@TeamPhotoFile varchar(100),  
@TeamEstablishedYear datetime,  
@TeamAnthemAudioFile varchar(100),  
@ActiveFlagId int,  
@ShowFlagId int,  
@PortalID int,  
@CreatedById varchar(100),  
@ModifiedById varchar(100)  
  
  
AS     
    
 INSERT INTO tblTeam  
 (ClubId,  
SportId,  
TeamName,  
TeamAbbr,  
TeamDesc,  
TeamFamousName,  
TeamLogoName,  
TeamLogoFile,  
TeamPhotoFile,  
TeamEstablishedYear,  
TeamAnthemAudioFile,  
ActiveFlagId,  
ShowFlagId,  
PortalID,  
CreatedById,  
ModifiedById)   
    
 VALUES   
   
 (@ClubId,  
@SportId,  
@TeamName,  
@TeamAbbr,  
@TeamDesc,  
@TeamFamousName,  
@TeamLogoName,  
@TeamLogoFile,  
@TeamPhotoFile,  
@TeamEstablishedYear,  
@TeamAnthemAudioFile,  
@ActiveFlagId,  
@ShowFlagId,  
@PortalID,  
@CreatedById,  
@ModifiedById) 

SELECT SCOPE_IDENTITY() 
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteDivision]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteDivision]  
   
 @DivisionID int  
AS      
    
 Update tblDivision set IsArchive = 1 where DivisionId = @DivisionID  
   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsByDivisionID]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_GetTeamsByDivisionID]  

@DivisionId int

AS     
    
Select dt.*,t.* from tblDivisionTeam dt 
Inner Join tblTeam t on t.TeamId = dt.TeamId
Where t.IsArchive = 0 And t.IsArchive is not null
 
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteDivisionTeam]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_DeleteDivisionTeam]  

@DivisionTeamDetailId int

AS     
    
Delete from tblDivisionTeam 
Where DivisionTeamDetailId = @DivisionTeamDetailId   
 
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDivisionTeam]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_UpdateDivisionTeam]  
@DivisionTeamDetailId int,
@DivisionId int,  
@TeamId int,
@ConfirmFlag int,
@ModifiedById varchar(100)  
  
  
AS     
    
Update tblDivisionTeam set
DivisionId = @DivisionId,
TeamId = @TeamId,  
ConfirmFlag = @ConfirmFlag,  
ModifiedById = @ModifiedById,
ModifiedDate = GETDATE()

Where DivisionTeamDetailId = @DivisionTeamDetailId   
 
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDivisionTeam]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_InsertDivisionTeam]  

@DivisionId int,  
@TeamId int,
@ConfirmFlag int,
@CreatedById varchar(100),  
@ModifiedById varchar(100)  
  
  
AS     
    
 INSERT INTO tblDivisionTeam  
 (DivisionId,
TeamId,  
ConfirmFlag,  
CreatedById,  
ModifiedById)   
    
 VALUES   
   
 (@DivisionId,
@TeamId,  
@ConfirmFlag,  
@CreatedById,  
@ModifiedById) 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionList]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionList]    
      
AS      
    
 SELECT c.*,cl.CompetitionLeagueName,s.SeasonName,t.CompetitionTypeName,'' as DivisionName,f.CompetitionFormatName,sp.SportName FROM tblCompetition c   
 Inner Join tblCompetitionLeague cl on c.CompetitionLeagueId = cl.CompetitionLeagueId  
 Inner Join tblSeason s on c.SeasonId = s.SeasonID  
 Inner Join tblCompetitionType t on c.CompetitionTypeId = t.CompetitionTypeId  
 Inner Join tblSport sp on sp.SportID = c.SportId  
 Inner Join tblCompetitionFormat f on c.CompetitionFormatId = f.CompetitionFormatId  
 Where c.DivisionId = 0  and (c.IsArchive= 0 or c.IsArchive is null)
   
   
 Union   
   
 SELECT c.*,cl.CompetitionLeagueName,s.SeasonName,t.CompetitionTypeName,d.DivisionName,f.CompetitionFormatName,sp.SportName FROM tblCompetition c   
 Inner Join tblCompetitionLeague cl on c.CompetitionLeagueId = cl.CompetitionLeagueId  
 Inner Join tblSeason s on c.SeasonId = s.SeasonID  
 Inner Join tblCompetitionType t on c.CompetitionTypeId = t.CompetitionTypeId  
 Inner Join tblDivision d on d.DivisionId =c.DivisionId  
 Inner Join tblSport sp on sp.SportID = c.SportId  
 Inner Join tblCompetitionFormat f on c.CompetitionFormatId = f.CompetitionFormatId  
   where   (c.IsArchive= 0 or c.IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertVideo]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertVideo]

	@VideoLevelId nvarchar(5),
    @VideoTitle nvarchar(100),
    @VideoDesc nvarchar(300),
    @VideoDate DateTime,
    @VideoType int,
    @VideoYouTubeFile nvarchar(100),
    @VideoOtherFile nvarchar(100),
    @ActiveFlagId int,
    @ShowFlagId int,
    @PortalId int,
    @CreatedById nvarchar(100),
    @ModifiedById nvarchar(100)
    
AS

INSERT INTO tblVideos (VideoLevelId,VideoTitle,VideoDesc,VideoDate,VideoType,VideoYouTubeFile,VideoOtherFile,ActiveFlagId,ShowFlagId,PortalId,CreatedById,ModifiedById)
     VALUES (@VideoLevelId,@VideoTitle,@VideoDesc,@VideoDate,@VideoType,@VideoYouTubeFile,@VideoOtherFile,@ActiveFlagId,@ShowFlagId,@PortalId,@CreatedById,@ModifiedById)
   



GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataPicture]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataPicture]

AS

	--SELECT PictureId,PictureTitle,convert(nvarchar(10),PictureDate,101) AS PictureDate,PictureLevelId
	--FROM tblPictures where (IsArchive = 0  or IsArchive is null)
	
	
	 SELECT p.PictureId,p.PictureTitle,convert(nvarchar(10),PictureDate,101) AS PictureDate,PictureLevelId
	FROM tblPictures p inner join tblPictureLinks pl on p.PictureId = pl.PictureId
	where (p.IsArchive = 0  or p.IsArchive is null) and (pl.TeamId not in (select TeamId from tblTeam where IsArchive =1))
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataVideo]    Script Date: 03/02/2016 12:55:00 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataVideo]  
  
AS  
  
SELECT v.VideoId, VideoLevelId,VideoTitle,Convert(nvarchar(10),VideoDate,101) AS VideoDate,VideoType
 FROM tblVideos V INNER JOIN tblVideoLinks AS se ON se.VideoId = v.VideoId
 ---  inner join tblteam  as t on se.TeamId = t.teamid       
 where (v.IsArchive = 0  or v.IsArchive is null) and se.TeamId not in (select TeamId from tblTeam where IsArchive = 1)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataNews]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataNews]

AS

	--SELECT NewsId,NewsTitle,Convert(nvarchar(10),NewsDate,101) AS NewsDate,NewsLevelId
	--FROM tblNews where (IsArchive = 0  or IsArchive is null)
	

	
	
	SELECT n.NewsId,NewsTitle,Convert(nvarchar(10),NewsDate,101) AS NewsDate,NewsLevelId
	FROM tblNews n inner join tblNewsLinks nl on n.NewsId = nl.NewsId
	where (n.IsArchive = 0  or n.IsArchive is null) and nl.TeamId not in (select TeamId from tblTeam where IsArchive =1)
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamsByCompetitionID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


  
CREATE PROCEDURE [dbo].[usp_GetTeamsByCompetitionID]  
  
@CompetitionId smallint
  
  
AS     
    
 Select ct.*,t.TeamName,t.TeamId from tblCompetitionTeams ct 
 Inner Join tblTeam t on ct.TeamId = t.TeamId
 
 Where CompetitionId = @CompetitionId 
 and (IsArchive = 0 or IsArchive is null)
 
 order By t.TeamName
 
 
    
 

GO

/****** Object:  StoredProcedure [dbo].[usp_FillTeamIDAndTeamName]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillTeamIDAndTeamName]

AS

	SELECT TeamId,TeamName FROM tblTeam where (IsArchive = 0 or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteTeam]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_DeleteTeam]    
      
      @TeamId int
      
AS      
    
 --Delete From tblTeam where TeamId = @TeamId
 if exists (select* from tblTeam with(nolock)where TeamId = @TeamId)
			 begin
					 update tblTeam set IsArchive = 1 where TeamId = @TeamId
			 end
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteCompetitionTeam]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_DeleteCompetitionTeam]  
  
@CompetitionTeamId smallint
  
  
AS     
    
 Delete from tblCompetitionTeams 
 
 Where CompetitionTeamId = @CompetitionTeamId
 
    
 

GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionTeam]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_UpdateCompetitionTeam]  
  
@CompetitionTeamId smallint,  
@CompetitionId smallint,
@CompetitionGroupId smallint,
@TeamId smallint,
@ModifiedById varchar(100)  
  
  
AS     
    
 Update tblCompetitionTeams set
 CompetitionId = @CompetitionId,
 CompetitionGroupId = @CompetitionGroupId,
 TeamId = @TeamId,
 ModifiedById = @ModifiedById,
 ModifiedDate = GETDATE()
 
 Where CompetitionTeamId = @CompetitionTeamId
 
    
 

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionTeam]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

  
CREATE PROCEDURE [dbo].[usp_InsertCompetitionTeam]  
  
@CompetitionId smallint,
@CompetitionGroupId smallint,
@TeamId smallint,
@CreatedById varchar(100),  
@ModifiedById varchar(100)  
  
  
AS     
    
 INSERT INTO tblCompetitionTeams  
 (CompetitionId,CompetitionGroupId,TeamId,CreatedById,ModifiedById)
    
 VALUES   
   
 (@CompetitionId,@CompetitionGroupId,@TeamId,@CreatedById,@ModifiedById)

GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionIDAndCompetitionName]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionIDAndCompetitionName]  
  
  @SportID int
  
AS  
  
 SELECT CompetitionId,CompetitionName 
 FROM tblCompetition
 WHERE SportId = @SportID and (IsArchive = 0 Or IsArchive is null)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamIDAndTeamName]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamIDAndTeamName]

	@SportID int,
	@ClubID int
	
AS

	IF @ClubID = 0
	BEGIN
		SELECT * FROM tblTeam WHERE SportId = @SportID and (IsArchive = 0 Or IsArchive is null)
	END
	ELSE
	BEGIN
		SELECT * FROM tblTeam WHERE SportId = @SportID AND ClubId = @ClubID and (IsArchive = 0 Or IsArchive is null)
	END
GO

/****** Object:  StoredProcedure [dbo].[usp_GetVideoDataByVideoID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetVideoDataByVideoID]                
                
 @VideoID int                
                 
AS                
                 
 SELECT * FROM tblVideos AS ev              
   INNER JOIN tblVideoLinks AS se ON se.VideoId = ev.VideoId               
 WHERE ev.VideoId = @VideoID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateVideoLinks]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateVideoLinks]

@VideoId int,
@SportId int,
@CountryId int,
@SeasonId int,
@CompetitionId int,
@ClubId int,
@ClubOwnersId int,
@ClubMemberId int,
@TeamId int,
@TeamMemberId int,
@SponsorId int,
@EventId int,
@PlayerId int

AS

UPDATE tblVideoLinks
   SET SportId = @SportId,
       CountryId = @CountryId,
       SeasonId = @SeasonId,
       CompetitionId = @CompetitionId,
       ClubId = @ClubId,
       ClubOwnersId = @ClubOwnersId,
       ClubMemberId = @ClubMemberId,
       TeamId = @TeamId,
       TeamMemberId = @TeamMemberId,
       SponsorId = @SponsorId,
       EventId = @EventId,
       PlayerId = @PlayerId WHERE VideoId = @VideoId



GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateVideo]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateVideo]

	@VideoId int,
	@VideoLevelId nvarchar(5),
    @VideoTitle nvarchar(100),
    @VideoDesc nvarchar(300),
    @VideoDate datetime,
    @VideoType int,
    @VideoYouTubeFile nvarchar(100),
    @VideoOtherFile nvarchar(100),
    @ActiveFlagId int,
    @ShowFlagId int,
    @PortalId int,
    @ModifiedById nvarchar(100)    
 
AS

UPDATE tblVideos
   SET [VideoLevelId] = @VideoLevelId
      ,[VideoTitle] = @VideoTitle
      ,[VideoDesc] = @VideoDesc
      ,[VideoDate] = @VideoDate
      ,[VideoType] = @VideoType
      ,[VideoYouTubeFile] = @VideoYouTubeFile      ,[VideoOtherFile] = @VideoOtherFile
      ,[ActiveFlagId] = @ActiveFlagId
      ,[ShowFlagId] = @ShowFlagId
      ,[PortalId] = @PortalId
      ,[ModifiedById] =@ModifiedById
      ,[ModifiedDate] = GETDATE()
 WHERE VideoId = @VideoId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetOtherVideoPathByVideoID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetOtherVideoPathByVideoID]  
  
 @VideoID int  
   
AS  
   
 SELECT VideoOtherFile FROM tblVideos   
 WHERE VideoId = @VideoID  
   
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestVideoID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestVideoID]        
        
AS        
        
 SELECT Top 1 * FROM tblVideos ORDER BY VideoId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertVideoLinks]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertVideoLinks]

	@VideoId int,
    @SportId int,
    @CountryId int,
    @SeasonId int,
    @CompetitionId int,
    @ClubId int,
    @ClubOwnersId int,
    @ClubMemberId int,
    @TeamId int,
    @TeamMemberId int,
    @SponsorId int,
    @EventId int,
    @PlayerId int
    
AS


INSERT INTO tblVideoLinks
           (VideoId
           ,SportId
           ,CountryId
           ,SeasonId
           ,CompetitionId
           ,ClubId
           ,ClubOwnersId
           ,ClubMemberId
           ,TeamId
           ,TeamMemberId
           ,SponsorId
           ,EventId
           ,PlayerId)
     VALUES
           (@VideoId,
            @SportId,
			@CountryId,
			@SeasonId,
			@CompetitionId,
			@ClubId,
			@ClubOwnersId,
			@ClubMemberId,
			@TeamId,
			@TeamMemberId,
			@SponsorId,
			@EventId,
			@PlayerId)



GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePicture]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdatePicture]    
    
@PictureId int,    
@PictureLevelId nvarchar(5),    
@PictureTitle nvarchar(100),    
@PictureDesc nvarchar(300),    
@PictureDate DateTime,    
@PictureFile nvarchar(100),    
@ActiveFlagId int,    
@ShowFlagId int,    
@PortalID int,    
@ModifiedById nvarchar(100)    
    
    
AS    
    
 UPDATE tblPictures SET PictureLevelId = @PictureLevelId,    
      PictureTitle = @PictureTitle,    
      PictureDesc = @PictureDesc,    
      PictureDate = @PictureDate,    
      PictureFile = @PictureFile,    
      ActiveFlagId = @ActiveFlagId,    
      ShowFlagId = @ShowFlagId,    
      PortalID = @PortalID,    
      ModifiedById = @ModifiedById,    
      ModifiedDate = GETDATE()     
 WHERE PictureId = @PictureId    
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPictureDataByPictureID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPictureDataByPictureID]            
            
 @PictureID int            
             
AS            
             
 SELECT * FROM tblPictures AS ev          
   INNER JOIN tblPictureLinks AS se ON se.PictureId = ev.PictureId           
 WHERE ev.PictureId = @PictureID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPictureLinks]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertPictureLinks]    
    
	@PictureId int,    
	@SportId int,    
	@CountryId int,    
	@SeasonId int,    
	@CompetitionId int,    
	@ClubId int,    
	@ClubOwnersId int,    
	@ClubMemberId int,    
	@TeamId int,    
	@TeamMemberId int,    
	@SponsorId int,    
	@EventId int,    
	@PlayerId int    
    
AS    
    
 INSERT INTO tblPictureLinks (PictureId,SportId,CountryId,SeasonId,CompetitionId,ClubId,ClubOwnersId,ClubMemberId,    
							  TeamId,TeamMemberId,SponsorId,EventId,PlayerId)  
 VALUES (@PictureId,@SportId,@CountryId,@SeasonId,@CompetitionId,@ClubId,@ClubOwnersId,@ClubMemberId,@TeamId,    
         @TeamMemberId,@SponsorId,@EventId,@PlayerId)
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePictureLinks]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdatePictureLinks]

@PictureId int,  
@SportId int,  
@CountryId int,  
@SeasonId int,  
@CompetitionId int,  
@ClubId int,  
@ClubOwnersId int,  
@ClubMemberId int,  
@TeamId int,  
@TeamMemberId int,  
@SponsorId int,  
@EventId int,  
@PlayerId int  
  
AS  
  
 UPDATE tblPictureLinks SET SportId = @SportId,  
CountryId = @CountryId,  
SeasonId = @SeasonId,  
CompetitionId = @CompetitionId,  
ClubId = @ClubId,  
ClubOwnersId = @ClubOwnersId,  
ClubMemberId = @ClubMemberId,  
TeamId = @TeamId,  
TeamMemberId = @TeamMemberId,  
SponsorId = @SponsorId,  
EventId = @EventId,  
PlayerId = @PlayerId  
  
 WHERE PictureId = @PictureId  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPictureLogoByPictureID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPictureLogoByPictureID]

	@Pictures int
AS

	SELECT * FROM tblPictures WHERE PictureId = @Pictures
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestPictureID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestPictureID]      
      
AS      
      
 SELECT Top 1 * FROM tblPictures ORDER BY PictureId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPicture]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertPicture]

@PictureLevelId nvarchar(5), 
@PictureTitle nvarchar(100),
@PictureDesc nvarchar(300),
@PictureDate DateTime,
@PictureFile nvarchar(100),
@ActiveFlagId int,
@ShowFlagId int,
@PortalID int,
@CreatedById nvarchar(100),
@ModifiedById nvarchar(100)

AS

	INSERT INTO tblPictures (PictureLevelId,PictureTitle,PictureDesc,PictureDate,PictureFile,ActiveFlagId,
							 ShowFlagId,PortalID,CreatedById,ModifiedById)
	VALUES (@PictureLevelId,@PictureTitle,@PictureDesc,@PictureDate,@PictureFile,@ActiveFlagId,@ShowFlagId,
			@PortalID,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateNews]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateNews]  
  
  @NewsId int,   
  @NewsLevelId nvarchar(5),  
  @NewsTitle nvarchar(100),  
  @NewsDesc nvarchar(300),  
  @NewsText nvarchar(200),  
  @NewsDate DateTime,  
  @NewsPicture nvarchar(100),  
  @NewsVideo nvarchar(100),  
  @ActiveFlagId int,  
  @ShowFlagId int,  
  @PortalID int,  
  @ModifiedById nvarchar(100),  
  @NewsOtherVideoPath nvarchar(100),  
  @VideoType int   
    
AS  
  
 UPDATE tblNews SET  NewsLevelId = @NewsLevelId,  
      NewsTitle = @NewsTitle,  
      NewsDesc = @NewsDesc,  
      NewsText = @NewsText,  
      NewsDate = @NewsDate,  
      NewsPicture = @NewsPicture,  
      NewsVideo = @NewsVideo,  
      ActiveFlagId = @ActiveFlagId,  
      ShowFlagId = @ShowFlagId,  
      PortalID = @PortalID,  
      ModifiedById = @ModifiedById,  
      NewsOtherVideoPath = @NewsOtherVideoPath,  
      VideoType = @VideoType,   
      ModifiedDate = GetDate()  
 WHERE  NewsId = @NewsId  
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertNews]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertNews]  
  
  @NewsLevelId nvarchar(5),  
  @NewsTitle nvarchar(100),  
  @NewsDesc nvarchar(300),  
  @NewsText nvarchar(200),  
  @NewsDate DateTime,  
  @NewsPicture nvarchar(100),  
  @NewsVideo nvarchar(100),  
  @ActiveFlagId int,  
  @ShowFlagId int,  
  @PortalID int,  
  @CreatedById nvarchar(100),  
  @ModifiedById nvarchar(100),  
  @NewsOtherVideoPath nvarchar(100),  
  @VideoType int   
    
AS  
  
 INSERT INTO tblNews (NewsLevelId,NewsTitle,NewsDesc,NewsText,NewsDate,NewsPicture,NewsVideo,  
       ActiveFlagId,ShowFlagId,PortalID,CreatedById,ModifiedById,NewsOtherVideoPath,  
       VideoType)  
 VALUES (@NewsLevelId,@NewsTitle,@NewsDesc,@NewsText,@NewsDate,@NewsPicture,@NewsVideo,@ActiveFlagId,  
   @ShowFlagId,@PortalID,@CreatedById,@ModifiedById,@NewsOtherVideoPath,@VideoType)  
  
GO

/****** Object:  StoredProcedure [dbo].[usp_FillCountryIDAndCountryName]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillCountryIDAndCountryName]

AS

	SELECT CountryID,CountryName FROM tblCountry
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateNewsLinks]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateNewsLinks]

	@NewsId int,
	@SportId int,
	@CountryId int,
	@SeasonId int,
	@CompetitionId int,
	@ClubId int,
	@ClubOwnersId int,
	@ClubMemberId int,
	@TeamId int,
	@TeamMemberId int,
	@SponsorId int,
	@EventId int,
	@PlayerId int
	
AS

	UPDATE tblNewsLinks SET SportId = @SportId,
							CountryId = @CountryId,
							SeasonId = @SeasonId,
							CompetitionId = @CompetitionId,
							ClubId = @ClubId,
							ClubOwnersId = @ClubOwnersId,
							ClubMemberId = @ClubMemberId,
							TeamId = @TeamId,
							TeamMemberId = @TeamMemberId,
							SponsorId = @SponsorId,
							EventId = @EventId,
							PlayerId = @PlayerId
	WHERE NewsId = @NewsId

GO

/****** Object:  StoredProcedure [dbo].[usp_GetOtherVideoPathByNewsID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetOtherVideoPathByNewsID]

	@NewsID int
	
AS
	
	SELECT NewsOtherVideoPath FROM tblNews 
	WHERE NewsId = @NewsID
	
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetNewsLogoByNewsID]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetNewsLogoByNewsID]  
  
 @NewsID int  
 
AS  
   
 SELECT NewsPicture   
 FROM tblNews  
 WHERE NewsId = @NewsID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertNewsLinks]    Script Date: 03/02/2016 12:55:01 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertNewsLinks]

	@NewsId int,
	@SportId int,
	@CountryId int,
	@SeasonId int,
	@CompetitionId int,
	@ClubId int,
	@ClubOwnersId int,
	@ClubMemberId int,
	@TeamId int,
	@TeamMemberId int,
	@SponsorId int,
	@EventId int,
	@PlayerId int

AS

	INSERT INTO tblNewsLinks (NewsId,SportId,CountryId,SeasonId,CompetitionId,ClubId,ClubOwnersId,
							  ClubMemberId,TeamId,TeamMemberId,SponsorId,EventId,PlayerId)
	VALUES (@NewsId,@SportId,@CountryId,@SeasonId,@CompetitionId,@ClubId,@ClubOwnersId,@ClubMemberId,
			@TeamId,@TeamMemberId,@SponsorId,@EventId,@PlayerId)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestNewsID]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestNewsID]    
    
AS    
    
 SELECT Top 1 * FROM tblNews ORDER BY NewsId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorTypeIDAndSponsorTypeName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorTypeIDAndSponsorTypeName]

AS

	SELECT SponsorTypeId, SponsorTypeValue FROM tblSponsorType
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLevelIDAndSponsorLevelName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorLevelIDAndSponsorLevelName]

AS

	SELECT SponsorLevelId,SponsorLevelValue FROM tblSponsorLevel
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorDataBySponsorID]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorDataBySponsorID]    
    
	@SponsorID int    
     
AS    
     
	SELECT * FROM tblSponsor AS ev  
			INNER JOIN tblRefSportsSponsor AS se ON se.SponsorId = ev.SponsorId   
	WHERE ev.SponsorId = @SponsorID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetEventDataByEventID]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetEventDataByEventID]    
    
	@EventID int    
     
AS    
     
	SELECT * FROM tblEvent AS ev  
			INNER JOIN tblRefSportsEvent AS se ON se.EventId = ev.EventID   
	WHERE ev.EventID = @EventID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerIDAndPlayerNameByTeamID]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerIDAndPlayerNameByTeamID]

	@TeamID int
	
AS
	
	IF @TeamID > 0
	BEGIN
			SELECT re.RegistrationId, us.FirstName +' '+ us.LastName AS PlayerName FROM tblUsers AS us 
					INNER JOIN tblRegistration AS re ON re.UserId = us.UserId
					INNER JOIN tblPlayer AS pl ON re.RegistrationId = pl.RegistrationId
			WHERE  pl.TeamId = @TeamID
	END
	ELSE
	BEGIN
			SELECT re.RegistrationId, us.FirstName +' '+ us.LastName AS PlayerName FROM tblUsers AS us 
					INNER JOIN tblRegistration AS re ON re.UserId = us.UserId
			WHERE us.UserTypeId = 4
	END
		
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerIDAndPlayerName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerIDAndPlayerName]

AS

	SELECT re.RegistrationId, us.FirstName +' '+ us.LastName AS PlayerName FROM tblUsers AS us 
	INNER JOIN tblRegistration AS re ON re.UserId = us.UserId
	WHERE us.UserTypeId = 4
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsorSport]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateSponsorSport]

@SponsorId int,
@SportsId int,
@EventId int,
@SeasonId int,
@CompetitionId int,
@ClubId int,
@ClubOwnersId int,
@ClubMemberId int,
@TeamId int,
@TeamMemberId int,
@PlayerId int

AS

	UPDATE tblRefSportsSponsor SET SportsId = @SportsId,
								   EventId = @EventId,
								   SeasonId = @SeasonId,
									CompetitionId = @CompetitionId,
									ClubId = @ClubId,
									ClubOwnersId = @ClubOwnersId,
									ClubMemberId=@ClubMemberId,
									TeamId=@TeamId,
									TeamMemberId=@TeamMemberId,
									PlayerId=@PlayerId
	WHERE SponsorId=@SponsorId
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsor]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateSponsor]

@SponsorId int,
@SponsorLevelId int,
@SponsorTypeId int,
@SponsorName nvarchar(100),
@SponsorAbbr nvarchar(5),
@SponsorDesc nvarchar(300),
@SponsorLogoName nvarchar(100),
@SponsorLogoFile nvarchar(100),
@SponsorStartDate DateTime,
@SponsorEndDate DateTime,
@SponsorAmt int,
@ActiveFlagId int,
@ShowFlagId int,
@PortalID int,  
@ModifiedById nvarchar(100)

AS
	
	UPDATE tblSponsor SET SponsorLevelId = @SponsorLevelId,
						  SponsorTypeId = @SponsorTypeId,
							SponsorName= @SponsorName,
							SponsorAbbr =@SponsorAbbr,
							SponsorDesc=@SponsorDesc,
							SponsorLogoName=@SponsorLogoName,
							SponsorLogoFile=@SponsorLogoFile,
							SponsorStartDate=@SponsorStartDate,
							SponsorEndDate=@SponsorEndDate,
							SponsorAmt=@SponsorAmt,
							ActiveFlagId=@ActiveFlagId,
							ShowFlagId=@ShowFlagId,
							PortalID=@PortalID,  
							ModifiedById=@ModifiedById,
							ModifiedDate = GETDATE()
	WHERE SponsorId = @SponsorId
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLogoBySponsorID]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorLogoBySponsorID]

	@SponsorID int
AS
	
	SELECT SponsorLogoFile 
	FROM tblSponsor
	WHERE SponsorId = @SponsorID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsorSports]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertSponsorSports]

@SponsorId int,
@SportsId int,
@EventId int,
@SeasonId int,
@CompetitionId int,
@ClubId int,
@ClubOwnersId int,
@ClubMemberId int,
@TeamId int,
@TeamMemberId int,
@PlayerId int

AS

	INSERT INTO tblRefSportsSponsor (SponsorId,SportsId,EventId,SeasonId,CompetitionId,ClubId,ClubOwnersId,
									 ClubMemberId,TeamId,TeamMemberId,PlayerId)
	VALUES (@SponsorId,@SportsId,@EventId,@SeasonId,@CompetitionId,@ClubId,@ClubOwnersId,@ClubMemberId,
			@TeamId,@TeamMemberId,@PlayerId)


GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestSponsorID]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestSponsorID]  
  
AS  
  
 SELECT Top 1 * FROM tblSponsor ORDER BY SponsorId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsor]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertSponsor]

@SponsorLevelId int,
@SponsorTypeId int,
@SponsorName nvarchar(100),
@SponsorAbbr nvarchar(5),
@SponsorDesc nvarchar(300),
@SponsorLogoName nvarchar(100),
@SponsorLogoFile nvarchar(100),
@SponsorStartDate DateTime,
@SponsorEndDate DateTime,
@SponsorAmt int,
@ActiveFlagId int,
@ShowFlagId int,
@PortalID int,  
@CreatedById nvarchar(100),
@ModifiedById nvarchar(100)
	
AS

	INSERT INTO tblSponsor (SponsorLevelId,SponsorTypeId,SponsorName,SponsorAbbr,SponsorDesc,SponsorLogoName,
							SponsorLogoFile,SponsorStartDate,SponsorEndDate,SponsorAmt,ActiveFlagId,ShowFlagId,
							PortalID,CreatedById,ModifiedById)
	VALUES (@SponsorLevelId,@SponsorTypeId,@SponsorName,@SponsorAbbr,@SponsorDesc,@SponsorLogoName,@SponsorLogoFile,
			@SponsorStartDate,@SponsorEndDate,@SponsorAmt,@ActiveFlagId,@ShowFlagId,@PortalID,@CreatedById,@ModifiedById)

GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateEventSport]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateEventSport]

	@EventId int,
	@SportsId int,
	@SeasonId int,
	@CompetitionId int,
	@TeamId int,
	@TeamMemberId int,
	@ClubId int,
	@ClubMemberId int,
	@ClubOwnersId int,
	@SponsorId int
	
AS

	UPDATE tblRefSportsEvent SET SportsId = @SportsId,
								 SeasonId = @SeasonId,
								CompetitionId = @CompetitionId,
								TeamId = @TeamId,
								TeamMemberId = @TeamMemberId,
								ClubId = @ClubId,
								ClubMemberId = @ClubMemberId,
								ClubOwnersId = @ClubOwnersId,
								SponsorId = @SponsorId
	WHERE EventId = @EventId

	
GO

/****** Object:  StoredProcedure [dbo].[usp_FillClubMemberIDAndClubMemberName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillClubMemberIDAndClubMemberName]  
  
AS  
  
 SELECT co.ClubMemberId,us.FirstName +' '+ us.LastName AS ClubMemberName   
 FROM tblClubMember AS co  
 INNER JOIN tblRegistration AS re ON co.RegistrationId = re.RegistrationId  
 INNER JOIN tblUsers AS us ON re.UserId = us.UserId  
 GROUP BY co.ClubMemberId,us.FirstName,us.LastName
GO

/****** Object:  StoredProcedure [dbo].[usp_FillClubOwnerIDAndClubOwnerName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillClubOwnerIDAndClubOwnerName]

AS
	
	SELECT co.ClubOwnersId,us.FirstName +' '+ us.LastName AS ClubOwnerName FROM tblClubOwner AS co
	INNER JOIN tblRegistration AS re ON co.RegistrationId = re.RegistrationId
	INNER JOIN tblUsers AS us ON re.UserId = us.UserId
	GROUP BY co.ClubOwnersId,us.FirstName,us.LastName
	
GO

/****** Object:  StoredProcedure [dbo].[usp_FillTeamMemberIDAndTeamMemberName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillTeamMemberIDAndTeamMemberName]

AS

	SELECT tm.TeamMemberID, us.FirstName +' '+ us.LastName AS TeamMemberName 
	FROM tblTeamMember AS tm 
	INNER JOIN tblRegistration As re On re.RegistrationId = tm.RegistrationId
	INNER JOIN tblUsers AS us On us.UserId = re.UserId
	GROUP by tm.TeamMemberID, us.FirstName ,us.LastName
	
GO

/****** Object:  StoredProcedure [dbo].[usp_FillClubIDAndClubName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillClubIDAndClubName]

AS

	SELECT ClubId,ClubName FROM tblClub
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertEventSports]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertEventSports]

	@EventId int,
	@SportsId int,
	@SeasonId int,
	@CompetitionId int,
	@TeamId int,
	@TeamMemberId int,
	@ClubId int,
	@ClubMemberId int,
	@ClubOwnersId int,
	@SponsorId int

AS

INSERT INTO tblRefSportsEvent (EventId,SportsId,SeasonId,CompetitionId,TeamId,TeamMemberId,ClubId,ClubMemberId,ClubOwnersId,SponsorId)
VALUES (@EventId,@SportsId,@SeasonId,@CompetitionId,@TeamId,@TeamMemberId,@ClubId,@ClubMemberId,@ClubOwnersId,@SponsorId) 


GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestEventID]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestEventID]

AS

	SELECT Top 1 * FROM tblEvent ORDER BY EventID DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertEvent]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertEvent]    
    
@EventName nvarchar(100),    
@EventDetail nvarchar(300),    
@EventStartDateTime DateTime,    
@EventEndDateTime DateTime,    
@EventActive int,    
@EventPriority nvarchar(10),    
@PortalID int,    
@CreatedById nvarchar(100),    
@ModifiedById nvarchar(100)    
    
AS    
    
 INSERT INTO tblEvent(EventName,EventDetail,EventStartDateTime,EventEndDateTime,EventActive,EventPriority,    
       PortalID,CreatedById,ModifiedById)    
 VALUES (@EventName,@EventDetail,@EventStartDateTime,@EventEndDateTime,@EventActive,@EventPriority,@PortalID,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberIDAndTeamMemberName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberIDAndTeamMemberName]

	@TeamID int
	
AS

	SELECT tm.TeamMemberID,us.FirstName +' '+ us.LastName AS TeamMemberName FROM tblTeamMember AS tm 
	INNER JOIN tblRegistration AS re ON re.RegistrationId = tm.RegistrationId
	INNER JOIN tblUsers AS us ON us.UserId = re.UserId
	WHERE tm.TeamID = @TeamID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberIDAndClubMemberName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMemberIDAndClubMemberName]

	@ClubID int
AS
	
	SELECT co.ClubMemberId,us.FirstName +' '+ us.LastName AS ClubMemberName 
	FROM tblClubMember AS co
	INNER JOIN tblRegistration AS re ON re.RegistrationId = co.RegistrationId
	INNER JOIN tblUsers AS us ON us.UserId = re.UserId	
	WHERE co.ClubId = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerIDAndClubOwnerName]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubOwnerIDAndClubOwnerName]

	@ClubID int
	
AS

	SELECT co.ClubOwnersId,us.FirstName +' '+ us.LastName AS ClubOwnerName 
	FROM tblClubOwner AS co
	INNER JOIN tblRegistration AS re ON re.RegistrationId = co.RegistrationId
	INNER JOIN tblUsers AS us ON us.UserId = re.UserId	
	WHERE co.ClubId = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMember]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMember]

AS

 SELECT us.FirstName + ' '+ us.LastName AS ClubMemberName,re.RegistrationId     
 FROM tblUsers AS us      
 INNER JOIN tblRegistration AS re ON us.UserId = re.UserId  
 WHERE us.UserRoleId = 4 
 GROUP BY us.UserId,us.FirstName,us.LastName,re.RegistrationId   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberList]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMemberList]  
   
 @ClubID int  
   
AS  
  
   SELECT pl.ClubMemberId,pt.ClubMemberTypeValue,us.FirstName +' '+us.LastName AS ClubMemberName,pl.ClubMemberDesc     
 FROM tblUsers AS us    
 INNER JOIN tblRegistration AS re ON us.UserId = re.UserId    
 INNER JOIN tblClubMember AS pl ON pl.RegistrationId = re.RegistrationId    
 INNER JOIN tblClubMemberType AS pt ON pl.ClubMemberTypeId = pt.ClubMemberTypeId    
 WHERE pl.ClubID = @ClubID
 
 --SELECT cm.ClubMemberId,cmt.ClubMemberTypeValue,cm.ClubMemberTitle FROM tblClubMember as cm  
 --INNER JOIN tblClubMemberType as cmt on cm.ClubMemberTypeId = cmt.ClubMemberTypeId  
 --INNER JOIN tblClubSports as cs on cs.ClubSportsId = cm.ClubSportsId  
 --WHERE cs.ClubId = @ClubID
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubMember]    Script Date: 03/02/2016 12:55:02 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateClubMember]  
  
	@ClubMemberId int,
	@RegistrationId int,
	@ClubMemberTypeId int,
	@ClubId int,
	@ClubMemberDesc nvarchar(300),
	@PortalID int,
	@ModifiedById nvarchar(100)
    
AS  
  
 UPDATE tblClubMember SET RegistrationId = @RegistrationId,
						  ClubMemberTypeId = @ClubMemberTypeId,
						  ClubId = @ClubId,
						  ClubMemberDesc = @ClubMemberDesc,
						  PortalID = @PortalID,
						  ModifiedById = @ModifiedById,
							ModifiedDate = getdate()   
 WHERE ClubMemberId = @ClubMemberId 
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubMember]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertClubMember]

	@RegistrationId int,
	@ClubMemberTypeId int,
	@ClubId int,
	@ClubMemberDesc int,
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)

AS

	INSERT INTO tblClubMember (RegistrationId,ClubMemberTypeId,ClubId,ClubMemberDesc,PortalID,CreatedById,ModifiedById)
	VALUES (@RegistrationId,@ClubMemberTypeId,@ClubId,@ClubMemberDesc,@PortalID,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberTypeBySportID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMemberTypeBySportID]

	@SportID int
	
AS

	SELECT * FROM tblClubMemberType 
	WHERE SportID = @SportID
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberTypeList]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMemberTypeList]    
    
AS    
  
 SELECT cmt.ClubMemberTypeId,cmt.ClubMemberTypeValue,cmt.ClubMemberTypeDesc,sp.SportID,sp.SportName   
 FROM tblClubMemberType AS cmt  
 INNER JOIN tblSport AS sp ON cmt.SportID = sp.SportID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubMemberType]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertClubMemberType]  
  
 @ClubMemberTypeValue nvarchar(150),  
 @ClubMemberTypeDesc nvarchar(500),  
 @ActiveFlagId int,  
 @ShowFlagId int,  
 @PortalID int,  
 @CreatedById nvarchar(100),  
 @ModifiedById nvarchar(100),
 @SportID int  
  
AS  
  
 INSERT INTO tblClubMemberType (ClubMemberTypeValue,ClubMemberTypeDesc,ActiveFlagId,ShowFlagId,PortalID,CreatedById,ModifiedById,SportID)  
 VALUES (@ClubMemberTypeValue,@ClubMemberTypeDesc,@ActiveFlagId,@ShowFlagId,@PortalID,@CreatedById,@ModifiedById,@SportID)
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubMemberType]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateClubMemberType]  
  
 @ClubMemberTypeId int,  
 @ClubMemberTypeValue nvarchar(150),  
 @ClubMemberTypeDesc nvarchar(500),  
 @ActiveFlagId int,  
 @ShowFlagId int,  
 @PortalID int,  
 @ModifiedById nvarchar(100),
 @SportID int  
   
AS  
  
  
 UPDATE tblClubMemberType SET ClubMemberTypeValue = @ClubMemberTypeValue,  
         ClubMemberTypeDesc = @ClubMemberTypeDesc,  
         ActiveFlagId = @ActiveFlagId,  
         ShowFlagId = @ShowFlagId,  
         PortalID = @PortalID,  
         ModifiedById = @ModifiedById,  
         SportID = @SportID,
         ModifiedDate = GETDATE()   
 WHERE ClubMemberTypeId = @ClubMemberTypeId   
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerDetailByClubOwnerID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubOwnerDetailByClubOwnerID]    
    
 @ClubOwnerID int    
     
AS    
    
 SELECT * FROM tblClubOwner WHERE ClubOwnersId = @ClubOwnerID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClubOwner]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertClubOwner]      
      
 @ClubId int,      
 @RegistrationId int,  
 @OwnerDescription nvarchar(500),      
 @OwnerPercentage int,      
 @PortalID int,      
 @CreatedById nvarchar(100),      
 @ModifiedById nvarchar(100)      
        
AS      
      
 INSERT INTO tblClubOwner (ClubId,RegistrationId,OwnerDescription,OwnerPercentage,PortalID,CreatedById,ModifiedById)      
 VALUES (@ClubId,@RegistrationId,@OwnerDescription,@OwnerPercentage,@PortalID,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerList]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubOwnerList]    
    
 @ClubID int    
     
AS    
    
 SELECT co.ClubOwnersId,co.OwnerPercentage,us.FirstName +' '+ us.LastName AS OwnerName FROM tblClubOwner AS co
 INNER JOIN tblRegistration AS re ON co.RegistrationId = re.RegistrationId
 INNER JOIN tblUsers AS us ON re.UserId = us.UserId   
 WHERE ClubId = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubOwnerbyUserForm]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubOwnerbyUserForm]  
  
AS  
  
 SELECT us.FirstName +' '+ us.LastName AS OwnerName,re.RegistrationId   
 FROM tblUsers AS us  
 INNER JOIN tblRegistration AS re ON re.UserId = us.UserId  
 WHERE us.UserRoleId = 3
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubOwner]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateClubOwner]  
  
	@ClubOwnersId int,  
	@ClubId int,  
	@RegistrationId int,  
	@OwnerDescription nvarchar(500),  
	@OwnerPercentage int,  
	@PortalID int,  
	@ModifiedById nvarchar(100)  
    
AS  
  
	UPDATE tblClubOwner SET ClubId = @ClubId,  
							RegistrationId = @RegistrationId,  
							OwnerDescription = @OwnerDescription,  
							OwnerPercentage = @OwnerPercentage,  
							PortalID = @PortalID,  
							ModifiedById = @ModifiedById,  
							ModifiedDate = GETDATE()  
	WHERE ClubOwnersId = @ClubOwnersId   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberTypeBySportID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberTypeBySportID]  

	@SportID int
	  
AS  
  
 SELECT TeamMemberTypeId,TeamMemberTypeValue 
 FROM tblTeamMemberType AS tt 
 INNER JOIN tblSport AS so ON so.SportID = @SportID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerTypeBySportID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerTypeBySportID]  
  
  @SportID int
  
AS  
  
 SELECT * FROM tblPlayerType  
 WHERE SportID = @SportID 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberTypeDetailByTeamMemberTypeID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberTypeDetailByTeamMemberTypeID]  
  
 @TeamMemberTypeID int  
AS  
  
SELECT * FROM tblTeamMemberType WHERE TeamMemberTypeId = @TeamMemberTypeID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeamMemberType]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateTeamMemberType]  
  
 @TeamMemberTypeId int,  
 @TeamMemberTypeValue nvarchar(100),  
 @TeamMemberTypeDesc nvarchar(200),  
 @ActiveFlagId int,  
 @ShowFlagId int,  
 @PortalID int,  
 @ModifiedById nvarchar(100),
 @SportID int  
   
AS  
  
 UPDATE tblTeamMemberType SET TeamMemberTypeValue = @TeamMemberTypeValue,  
        TeamMemberTypeDesc = @TeamMemberTypeDesc,  
        ActiveFlagId = @ActiveFlagId,  
        ShowFlagId = @ShowFlagId,  
        PortalID = @PortalID,  
        ModifiedById = @ModifiedById,  
        SportID = @SportID,
        ModifiedDate = GetDAte()  
 WHERE TeamMemberTypeId = @TeamMemberTypeId  
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamMemberType]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertTeamMemberType]  
  
 @TeamMemberTypeValue nvarchar(100),  
 @TeamMemberTypeDesc nvarchar(200),  
 @ActiveFlagId int,  
 @ShowFlagId int,  
 @PortalID int,  
 @CreatedById nvarchar(100),  
 @ModifiedById nvarchar(100),
 @SportID int
  
AS  
   
 INSERT INTO tblTeamMemberType (TeamMemberTypeValue,TeamMemberTypeDesc,ActiveFlagId,ShowFlagId,PortalID,CreatedById,ModifiedById,SportID)  
 VALUES (@TeamMemberTypeValue,@TeamMemberTypeDesc,@ActiveFlagId,@ShowFlagId,@PortalID,@CreatedById,@ModifiedById,@SportID)   
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberTypeList]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberTypeList]  
  
AS  
  
SELECT tmt.TeamMemberTypeId,tmt.TeamMemberTypeValue,tmt.TeamMemberTypeDesc,
		so.SportID,so.SportName 
FROM tblTeamMemberType AS tmt
INNER JOIN tblSport AS so ON tmt.SportID = so.SportID


GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerTypeList]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerTypeList]  
  
AS  
  
 SELECT pt.PlayerTypeID,pt.PlayerTypeName,pt.PlayerTypeDesc,so.SportID,so.SportName FROM tblPlayerType AS pt
 INNER JOIN tblSport AS so ON pt.SportID = so.SportID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerTypeDetailByPlayerTypeID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerTypeDetailByPlayerTypeID]  
  
 @PlayerTypeID int  
   
AS  

 SELECT * FROM tblPlayerType WHERE PlayerTypeID = @PlayerTypeID
 
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdatePlayerType]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdatePlayerType]  
  
 @PlayerTypeID int,   
 @PlayerTypeName nvarchar(100),  
 @PlayerTypeDesc nvarchar(300),  
 @PortalID int,  
 @ModifiedById nvarchar(100),
 @sportID int   
   
AS  
  
 UPDATE tblPlayerType SET PlayerTypeName = @PlayerTypeName,  
 PlayerTypeDesc = @PlayerTypeDesc,  
 PortalID = @PortalID,  
 ModifiedById = @ModifiedById,  
 SportID = @sportID,
 ModifiedDate = GETDATE()  
 WHERE PlayerTypeID = @PlayerTypeID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertPlayerType]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertPlayerType]  
  
 @PlayerTypeName nvarchar(100),  
 @PlayerTypeDesc nvarchar(300),  
 @PortalID int,  
 @CreatedById nvarchar(100),   
 @ModifiedById nvarchar(100),
 @SportID int  
   
AS  
   
 INSERT INTO tblPlayerType (PlayerTypeName,PlayerTypeDesc,PortalID,CreatedById,ModifiedById,SportID)  
 VALUES (@PlayerTypeName,@PlayerTypeDesc,@PortalID,@CreatedById,@ModifiedById,@SportID)  
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberDetail]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberDetail]

AS

 SELECT us.UserId,us.FirstName + ' '+ us.LastName AS TeamMemberName,re.RegistrationId   
 FROM tblUsers AS us    
 INNER JOIN tblRegistration AS re ON us.UserId = re.UserId
 WHERE us.UserRoleId = 2
 GROUP BY us.UserId,us.FirstName,us.LastName,re.RegistrationId 
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberDetailByTeamMemberID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberDetailByTeamMemberID]  
  
 @TeamMemberID int  
   
AS  
  
 SELECT * FROM tblTeamMember WHERE TeamMemberID = @TeamMemberID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertTeamMember]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertTeamMember]  
  
 @TeamID int,  
 @RegistrationId int,  
 @TeamMemberTypeId int,  
 @TeamMemberJerseyNo int,  
 @TeamMemberJerseyName nvarchar(100),  
 @TeamMemberFamousName nvarchar(100),  
 @PortalId int,  
 @CreatedById nvarchar(100),  
 @ModifiedById nvarchar(100)  
  
AS  
  
 INSERT INTO tblTeamMember (TeamID,RegistrationId,TeamMemberTypeId,TeamMemberJerseyNo,TeamMemberJerseyName,TeamMemberFamousName,PortalId,CreatedById,ModifiedById)  
 VALUES (@TeamID,@RegistrationId,@TeamMemberTypeId,@TeamMemberJerseyNo,@TeamMemberJerseyName,@TeamMemberFamousName,@PortalId,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberListByTeamID]    Script Date: 03/02/2016 12:55:03 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberListByTeamID]  
   
 @TeamID int  
   
AS  
 SELECT pl.TeamMemberID,pt.TeamMemberTypeValue,us.FirstName +' '+us.LastName AS TeamMemberName,  
   pl.TeamMemberJerseyNo,pl.TeamMemberJerseyName,pl.TeamMemberFamousName   
 FROM tblUsers AS us  
 INNER JOIN tblRegistration AS re ON us.UserId = re.UserId  
 INNER JOIN tblTeamMember AS pl ON pl.RegistrationId = re.RegistrationId  
 INNER JOIN tblTeamMemberType AS pt ON pl.TeamMemberTypeId = pt.TeamMemberTypeId  
 WHERE pl.TeamId = @TeamID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateTeamMember]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateTeamMember]

@TeamMemberID int,
@TeamID int,
@RegistrationId int,
@TeamMemberTypeId int, 
@TeamMemberJerseyNo int,
@TeamMemberJerseyName nvarchar(100),
@TeamMemberFamousName nvarchar(100),
@PortalId int,
@ModifiedById nvarchar(100)

AS
	
	UPDATE tblTeamMember SET TeamID = @TeamID,
							 RegistrationId = @RegistrationId,
							TeamMemberTypeId = @TeamMemberTypeId, 
							TeamMemberJerseyNo = @TeamMemberJerseyNo,
							TeamMemberJerseyName = @TeamMemberJerseyName,
							TeamMemberFamousName = @TeamMemberFamousName,
							PortalId = @PortalId,
							ModifiedById = @ModifiedById,
							ModifiedDate = GetDate()
	WHERE TeamMemberID = @TeamMemberID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamMemberType]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamMemberType]

AS

	SELECT TeamMemberTypeId,TeamMemberTypeValue FROM tblTeamMemberType
GO

/****** Object:  StoredProcedure [dbo].[usp_GetAllPlayerList]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetAllPlayerList]

AS

	SELECT us.UserId,us.FirstName + ' '+ us.LastName AS PlayerName,re.RegistrationId FROM tblUsers AS us
	INNER JOIN tblRegistration AS re ON us.UserId = re.UserId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamNameByTeamID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamNameByTeamID]

	@TeamID int
		
AS
	
	SELECT TeamName FROM tblTeam WHERE TeamId = @TeamID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamPlayerType]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamPlayerType]  
  
AS  
  
 SELECT PlayerTypeID, PlayerTypeName FROM tblPlayerType
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestRegistrationID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestRegistrationID]    
    
AS    
    
 SELECT Top 1 RegistrationId FROM tblRegistration ORDER BY RegistrationId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserDetailsByUserID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserDetailsByUserID]  
  
 @UserID int  
   
AS  
  
 SELECT us.UserId,us.UserTypeId,us.UserPhotoName,us.UserPhotoFile,us.FirstName,us.MiddleName,  
   us.LastName,us.SuffixId,us.EmailId,us.TelephoneNumber,us.ActiveFlagId,us.ShowFlagId,  
   re.RegistrationId,re.Gender,re.AddressLine1,re.AddressLine2,re.City,re.State,re.ZipPostalCode,re.Country,  
   re.DateOfBirth,re.PlaceOfBirth,re.Height,re.Weight,us.UserRoleId  
 FROM tblUsers AS us  
 INNER JOIN tblRegistration AS re ON us.UserId = re.UserID  
 WHERE us.UserId = @UserID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateUser]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateUser]  
  
 @UserID int,  
 @UserTypeId int,  
 @UserPhotoName nvarchar(100),  
 @UserPhotoFile nvarchar(100),  
 @FirstName nvarchar(50),  
 @MiddleName nvarchar(50),  
 @LastName nvarchar(50),  
 @SuffixId int,  
 @EmailId nvarchar(100),  
 @TelephoneNumber nvarchar(100),  
 @ActiveFlagId int,  
 @ShowFlagId int,  
 @PortalID int,  
 @ModifiedById nvarchar(100),
 @UserRoleId int  
    
AS  
  
 UPDATE tblUsers SET UserTypeId = @UserTypeId,  
      UserPhotoName = @UserPhotoName,  
      UserPhotoFile = @UserPhotoFile,  
      FirstName = @FirstName,  
      MiddleName = @MiddleName,  
      LastName = @LastName,  
      SuffixId = @SuffixId,  
      EmailId = @EmailId,  
      TelephoneNumber = @TelephoneNumber,  
      ActiveFlagId = @ActiveFlagId,  
      ShowFlagId = @ShowFlagId,  
      PortalID = @PortalID,  
      ModifiedById = @ModifiedById,  
      ModifiedDate = GETDATE(),
      UserRoleId = @UserRoleId  
 WHERE UserId = @UserID  
 
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertUser]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertUser]  
  
 @UserTypeId int,  
 @UserName nvarchar(100),  
 @UserPassword nvarchar(100),  
 @UserPhotoName nvarchar(100),  
 @UserPhotoFile nvarchar(100),  
 @FirstName nvarchar(50),  
 @MiddleName nvarchar(50),  
 @LastName nvarchar(50),  
 @SuffixId int,  
 @EmailId nvarchar(100),  
 @TelephoneNumber nvarchar(20),  
 @ActiveFlagId int,  
 @ShowFlagId int,  
 @PortalID int,   
 @CreatedById nvarchar(100),  
 @ModifiedById nvarchar(100),
 @UserRoleId int
  
AS  
  
 INSERT INTO tblUsers (UserTypeId,UserName,UserPassword,UserPhotoName,UserPhotoFile,FirstName,MiddleName,  
        LastName,SuffixId,EmailId,TelephoneNumber,ActiveFlagId,ShowFlagId,PortalID,CreatedById,ModifiedById,UserRoleId)  
 VALUES(@UserTypeId,@UserName,@UserPassword,@UserPhotoName,@UserPhotoFile,@FirstName,@MiddleName,@LastName,  
     @SuffixId,@EmailId,@TelephoneNumber,@ActiveFlagId,@ShowFlagId,@PortalID,@CreatedById,@ModifiedById,@UserRoleId)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetTeamBySportID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetTeamBySportID]

	@SportID int
AS

	SELECT * FROM tblTeam WHERE SportId = @SportID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSport]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSport]

AS

	SELECT * FROM tblSport
GO

/****** Object:  StoredProcedure [dbo].[usp_GetPlayerType]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetPlayerType]

AS

	SELECT * FROM tblPlayerType 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserRole]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserRole]

AS

	SELECT * FROM tblUserRole
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertUserRole]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertUserRole]

	@UserRoleName nvarchar(100),
	@UserRoleAbbr nvarchar(5),
	@UserRoleDesc nvarchar(300),
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)
		
AS

	INSERT INTO tblUserRole (UserRoleName,UserRoleAbbr,UserRoleDesc,PortalID,CreatedById,ModifiedById) 
	VALUES (@UserRoleName,@UserRoleAbbr,@UserRoleDesc,@PortalID,@CreatedById,@ModifiedById)

GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserRoleDetailByUserRoleID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserRoleDetailByUserRoleID]

	@UserRoleID int
	
AS

	SELECT * FROM tblUserRole WHERE UserRoleId = @UserRoleID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserRoleList]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserRoleList]

AS

	SELECT * FROM tblUserRole
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateUserRole]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateUserRole]

	@UserRoleId int,
	@UserRoleName nvarchar(100),
	@UserRoleAbbr nvarchar(5),
	@UserRoleDesc nvarchar(300),
	@PortalID int,
	@ModifiedById nvarchar(100)
	
AS

	UPDATE tblUserRole SET UserRoleName = @UserRoleName,
	UserRoleAbbr = @UserRoleAbbr,
	UserRoleDesc = @UserRoleDesc,
	PortalID = @PortalID,
	ModifiedById = @ModifiedById,
	ModifiedDate = GetDate()
	WHERE UserRoleId = @UserRoleId
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateAdminIDForRegistrationForm]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateAdminIDForRegistrationForm]

	@RegistrationId int,
	@UserIdRelated int
	
AS

	DECLARE @UserID int
	 
	
	SET @UserID = (SELECT UserId FROM tblRegistration WHERE RegistrationId = @RegistrationId)
	
	UPDATE tblRegistration SET UserId_Admin = @UserID
	WHERE UserId = @UserIdRelated	
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonIDAndSeasonName]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSeasonIDAndSeasonName]

AS

	SELECT SeasonID, SeasonName FROM tblSeason
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportIDAndSportName]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSportIDAndSportName]

AS

	SELECT SportID,SportName FROM tblSport
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsorLevel]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertSponsorLevel]

	@SponsorLevelValue nvarchar(100),
	@SponsorLevelDesc nvarchar(300),
	@PortalID int,	
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)
		
AS
	INSERT INTO tblSponsorLevel (SponsorLevelValue,SponsorLevelDesc,PortalID,CreatedById,ModifiedById)
	VALUES (@SponsorLevelValue,@SponsorLevelDesc,@PortalID,@CreatedById,@ModifiedById)
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLevelDetailBySponsorLevelID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorLevelDetailBySponsorLevelID]

	@SponsorLevelID int
	
AS

	SELECT * FROM tblSponsorLevel WHERE SponsorLevelId = @SponsorLevelID
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorLevelList]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorLevelList]

AS

	SELECT * FROM tblSponsorLevel 
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsorLevel]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateSponsorLevel]

	@SponsorLevelId int,
	@SponsorLevelValue nvarchar(100),
	@SponsorLevelDesc nvarchar(300),
	@PortalID int,	
	@ModifiedById nvarchar(100)
	
AS

	UPDATE tblSponsorLevel SET SponsorLevelValue = @SponsorLevelValue,
							   SponsorLevelDesc = @SponsorLevelDesc,
							   PortalID = @PortalID,	
							   ModifiedById = @ModifiedById,
							   ModifiedDate = GETDATE()
	WHERE SponsorLevelId = @SponsorLevelId
	

GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorTypeDetailBySponsorTypeID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorTypeDetailBySponsorTypeID]

	@SponsorTypeID int
	
AS

	SELECT * FROM tblSponsorType WHERE SponsorTypeId = @SponsorTypeID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSponsorType]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertSponsorType]

	@SponsorTypeValue nvarchar(100),
	@SponsorTypeDesc nvarchar(500),
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)
	
AS

	INSERT INTO tblSponsorType (SponsorTypeValue,SponsorTypeDesc,PortalID,CreatedById,ModifiedById)
	VALUES (@SponsorTypeValue,@SponsorTypeDesc,@PortalID,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSponsorTypeList]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSponsorTypeList]

AS

	SELECT * FROM tblSponsorType
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSponsorType]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateSponsorType]

	@SponsorTypeId int,
	@SponsorTypeValue nvarchar(100),
	@SponsorTypeDesc nvarchar(500),
	@PortalID int,
	@ModifiedById nvarchar(100)
	
	
AS

	UPDATE tblSponsorType SET SponsorTypeValue = @SponsorTypeValue,
							  SponsorTypeDesc = @SponsorTypeDesc,
							  PortalID = @PortalID,
							  ModifiedById = @ModifiedById,
							  ModifiedDate = GETDATE()
	WHERE SponsorTypeId = @SponsorTypeId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserNameByRegistrantionID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserNameByRegistrantionID]

	@RegistrationId int
AS

	SELECT us.FirstName +' '+ us.LastName AS UserName 
	FROM tblUsers AS us
	INNER JOIN tblRegistration AS re ON re.UserId = us.UserId
	WHERE re.RegistrationId = @RegistrationId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistrationParentDetail]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetRegistrationParentDetail]

	@RegistrationId int
AS

	SELECT rur.RegisteredUserRelationId,rur.RegistrationId,rur.UserIdRelated,
		   u.FirstName +' '+ u.LastName AS ParentsName,rur.UserTypeID,ut.UserTypeName,
		   u.UserId 
	FROM tblRegisteredUserRelation AS rur
	INNER JOIN tblRegistration AS r on r.RegistrationId = rur.RegistrationId
	INNER JOIN tblUsers AS u on u.UserId = rur.UserIdRelated 
	INNER JOIN tblUserType AS ut on ut.UserTypeId = rur.UserTypeID
	WHERE rur.RegistrationId = @RegistrationId
	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistationParentsDetailsByParentID]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetRegistationParentsDetailsByParentID]

	@RegisteredUserRelationId int
	
AS

	SELECT * 
	FROM tblRegisteredUserRelation 
	WHERE RegisteredUserRelationId = @RegisteredUserRelationId
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateRegistrationParents]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateRegistrationParents]

	 @RegisteredUserRelationId int,
     @RegistrationId int,
     @UserIdRelated int,
     @UserTypeID int
     
AS

	UPDATE tblRegisteredUserRelation SET RegistrationId = @RegistrationId,
										 UserIdRelated = @UserIdRelated,
										 UserTypeID = @UserTypeID
     WHERE RegisteredUserRelationId = @RegisteredUserRelationId 
      


GO

/****** Object:  StoredProcedure [dbo].[usp_InsertRegistrationParents]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertRegistrationParents]

	@RegistrationId int,	
	@UserIdRelated int,	
	@UserTypeID int	

AS
	
	INSERT INTO tblRegisteredUserRelation (RegistrationId,UserIdRelated,UserTypeID)
	VALUES (@RegistrationId,@UserIdRelated,@UserTypeID)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistrationParentsDetails]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetRegistrationParentsDetails]

AS

	SELECT UserId AS ParentsID ,FirstName +' '+ LastName AS ParentsName  
	FROM tblUsers 
	WHERE UserTypeId != 4
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionGroupList]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionGroupList]    
      
   @CompetitionId int  
      
AS      
    
 SELECT * FROM tblCompetitionGroup where CompetitionId = @CompetitionId
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteCompetitionGroup]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteCompetitionGroup]
    
   @CompetitionGroupId int
    
AS    
  
 Delete FROM tblCompetitionGroup where CompetitionGroupId = @CompetitionGroupId
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateEvent]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateEvent]  
  
 @EventID int,  
 @EventName nvarchar(100),  
 @EventDetail nvarchar(300),  
 @EventStartDateTime DateTime,  
 @EventEndDateTime DateTime,  
 @EventActive int,  
 @EventPriority nvarchar(10),  
 @PortalID int,  
 @ModifiedById nvarchar(100)  
  
AS  
   
 UPDATE tblEvent SET EventName = @EventName,  
       EventDetail = @EventDetail,  
       EventStartDateTime = @EventStartDateTime,  
       EventEndDateTime = @EventEndDateTime,  
       EventActive = @EventActive,  
       EventPriority = @EventPriority,  
       PortalID = @PortalID,  
       ModifiedById = @ModifiedById,  
       ModifiedDate = GetDATE()  
 WHERE EventID = @EventID
GO

/****** Object:  StoredProcedure [dbo].[usp_DeleteDocReg]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_DeleteDocReg]

	@DocRegId int
	
AS

	DELETE FROM tblRegistrationDoc WHERE RegistrationDocId = @DocRegId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDocumentList]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDocumentList]  
  
AS  
  
 SELECT rd.RegistrationDocId,(SELECT Top 1 rdt.RegistrationDocName 
							  FROM tblRegistrationDocType as rdt
							  WHERE rdt.RegistrationDocTypeId = rd.RegistrationDocTypeId) AS RegistrationDocName,
 rd.RegistrationDocNumber,rd.RegistrationDocCountryOfIssue,  
   rd.RegistrationDocDateOfIssue,rd.RegistrationDocDateOfExpiry,rd.RegistrationDocFile   
 FROM tblRegistrationDoc AS rd
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionFormat]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateCompetitionFormat]

@CompetitionFormatId int,
@CompetitionFormatName varchar(100),
@CompetitionFormatDesc varchar(200),
@PortalID int

AS

Update tblCompetitionFormat set

CompetitionFormatName = @CompetitionFormatName,
CompetitionFormatDesc = @CompetitionFormatDesc,
PortalID = @PortalID

Where CompetitionFormatId = @CompetitionFormatId
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionFormat]    Script Date: 03/02/2016 12:55:04 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertCompetitionFormat]

@CompetitionFormatName varchar(100),
@CompetitionFormatDesc varchar(200),
@PortalID int

AS

Insert Into tblCompetitionFormat 

(CompetitionFormatName,CompetitionFormatDesc,PortalID)

Values

(@CompetitionFormatName,@CompetitionFormatDesc,@PortalID)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDivisionByDivisionID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDivisionByDivisionID]
	
	@DivisionID int
	
AS    
  
 Select * from tblDivision where DivisionId = @DivisionID
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionFormatDetailByCompetitionFormatID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionFormatDetailByCompetitionFormatID]
	
	@CompetitionForamtID int
AS    
  
 Select * from tblCompetitionFormat where CompetitionFormatId = @CompetitionForamtID
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionFormatList]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionFormatList]
	
	
    
AS    
  
 Select * from tblCompetitionFormat 
 
 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegDocDetailByRegDocumentID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetRegDocDetailByRegDocumentID]

	@DocumentID int
	
AS
	SELECT * FROM tblRegistrationDoc WHERE RegistrationDocId = @DocumentID
	
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDocument]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertDocument]

	@RegistrationId int,
    @RegistrationDocTypeId int,
    @RegistrationDocNumber nvarchar(10),
    @RegistrationDocCountryOfIssue nvarchar(300),
    @RegistrationDocDateOfIssue DaTeTime,
    @RegistrationDocDateOfExpiry DateTime,
    @RegistrationDocFile nvarchar(100),
    @PortaID int,
	@CreatedById nvarchar(100),
    @ModifiedById nvarchar(100)
    
AS

	INSERT INTO tblRegistrationDoc (RegistrationId,RegistrationDocTypeId,RegistrationDocNumber,RegistrationDocCountryOfIssue,
									RegistrationDocDateOfIssue,RegistrationDocDateOfExpiry,RegistrationDocFile,PortaID,
									CreatedById,ModifiedById)
	VALUES (@RegistrationId,@RegistrationDocTypeId,@RegistrationDocNumber,@RegistrationDocCountryOfIssue,
			@RegistrationDocDateOfIssue,@RegistrationDocDateOfExpiry,@RegistrationDocFile,@PortaID,@CreatedById,@ModifiedById)


GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDocument]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateDocument]

	@RegistrationDocId int,
	@RegistrationId int,
    @RegistrationDocTypeId int,
    @RegistrationDocNumber nvarchar(10),
    @RegistrationDocCountryOfIssue nvarchar(300),
    @RegistrationDocDateOfIssue DaTeTime,
    @RegistrationDocDateOfExpiry DateTime,
    @RegistrationDocFile nvarchar(100),
    @PortaID int,
    @ModifiedById nvarchar(100)
    
AS

	UPDATE tblRegistrationDoc SET RegistrationId = @RegistrationId,
								  RegistrationDocTypeId = @RegistrationDocTypeId,
								  RegistrationDocNumber = @RegistrationDocNumber,
								  RegistrationDocCountryOfIssue = @RegistrationDocCountryOfIssue,
								  RegistrationDocDateOfIssue = @RegistrationDocDateOfIssue,
								  RegistrationDocDateOfExpiry = @RegistrationDocDateOfExpiry,
								  RegistrationDocFile = @RegistrationDocFile,
								  PortaID = @PortaID,
								  ModifiedById = @ModifiedById,
								  ModifiedDate = GETDATE()
	WHERE RegistrationDocId = @RegistrationDocId

GO

/****** Object:  StoredProcedure [dbo].[usp_FillDropDownDocumentType]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillDropDownDocumentType]

	
AS

	SELECT RegistrationDocTypeId, RegistrationDocName FROM tblRegistrationDocType
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionLegaue]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO




CREATE PROC [dbo].[usp_UpdateCompetitionLegaue]

@CompetitionLeagueId int,
@CompetitionLeagueName varchar(100),
@CompetitionLeagueAbbr varchar(5),
@CompetitionLeagueDesc varchar(200),
@CompetitionLeagueLogoName varchar(200),
@CompetitionLeagueLogoFile varchar(200),
@ActiveFlagId int,
@ShowFlagId int,
@PortalID int,
@ModifiedById varchar(100)


AS   
  
 Update tblCompetitionLeague set
CompetitionLeagueName = @CompetitionLeagueName,
CompetitionLeagueAbbr = @CompetitionLeagueAbbr,
CompetitionLeagueDesc = @CompetitionLeagueDesc,
CompetitionLeagueLogoName = @CompetitionLeagueName,
CompetitionLeagueLogoFile = @CompetitionLeagueLogoFile,
ActiveFlagId = @ActiveFlagId,
ShowFlagId = @ShowFlagId,
PortalID = @PortalID,
ModifiedById = @ModifiedById,
ModifiedDate = GETDATE()


  Where CompetitionLeagueId = @CompetitionLeagueId

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionLegaue]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO



CREATE PROC [dbo].[usp_InsertCompetitionLegaue]


@CompetitionLeagueName varchar(100),
@CompetitionLeagueAbbr varchar(5),
@CompetitionLeagueDesc varchar(200),
@CompetitionLeagueLogoName varchar(200),
@CompetitionLeagueLogoFile varchar(200),
@ActiveFlagId int,
@ShowFlagId int,
@PortalID int,
@CreatedById varchar(100),
@ModifiedById varchar(100)


AS   
  
 INSERT INTO tblCompetitionLeague
 (CompetitionLeagueName,
CompetitionLeagueAbbr,
CompetitionLeagueDesc,
CompetitionLeagueLogoName,
CompetitionLeagueLogoFile,
ActiveFlagId,
ShowFlagId,
PortalID,
CreatedById,
ModifiedById)

  
 VALUES 
 
 (@CompetitionLeagueName,
@CompetitionLeagueAbbr,
@CompetitionLeagueDesc,
@CompetitionLeagueLogoName,
@CompetitionLeagueLogoFile,
@ActiveFlagId,
@ShowFlagId,
@PortalID,
@CreatedById,
@ModifiedById) 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionLeagueDetailByCompetitionLeagueID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionLeagueDetailByCompetitionLeagueID]  
    
  @CompetitionLeagueId int  
    
AS    
  
 SELECT * FROM tblCompetitionLeague where CompetitionLeagueId = @CompetitionLeagueId
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionGroup]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_UpdateCompetitionGroup]
@CompetitionGroupId int,
@CompetitionId int,
@CompetitionGroupName varchar(100),
@CompetitionGroupAbbr varchar(5),
@NumberofTeams int,
@ConfirmFlag int,
@ModifiedById varchar(100)


AS   
  
Update tblCompetitionGroup set
CompetitionId = @CompetitionId,
CompetitionGroupName = @CompetitionGroupName,
CompetitionGroupAbbr = @CompetitionGroupAbbr,
NumberofTeams = @NumberofTeams,
ConfirmFlag = @ConfirmFlag,
ModifiedById = @ModifiedById,
ModifiedDate = GETDATE()


  Where CompetitionGroupId = @CompetitionGroupId

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionGroup]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_InsertCompetitionGroup]

@CompetitionId int,
@CompetitionGroupName varchar(100),
@CompetitionGroupAbbr varchar(5),
@NumberofTeams int,
@ConfirmFlag int,
@CreatedById varchar(100),
@ModifiedById varchar(100)



AS   
  
 INSERT INTO tblCompetitionGroup
 (CompetitionId,
CompetitionGroupName,
CompetitionGroupAbbr,
NumberofTeams,
ConfirmFlag,
CreatedById,
ModifiedById)
  
 VALUES 
 
 (@CompetitionId,
@CompetitionGroupName,
@CompetitionGroupAbbr,
@NumberofTeams,
@ConfirmFlag,
@CreatedById,
@ModifiedById) 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetRegistrationIDByUserID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetRegistrationIDByUserID]

	@UserID int
	
AS 

	SELECT RegistrationId FROM tblRegistration WHERE UserId = @UserID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertDocumentType]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertDocumentType]

	@RegistrationDocName nvarchar(100),
	@RegistrationDocDesc nvarchar(300),
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)
	
AS

	INSERT INTO tblRegistrationDocType (RegistrationDocName,RegistrationDocDesc,PortalID,CreatedById,ModifiedById)
	VALUES (@RegistrationDocName,@RegistrationDocDesc,@PortalID,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDocumentTypeByDocumentTypeID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDocumentTypeByDocumentTypeID]

	@DocumentTypeID int
	
AS

	SELECT RegistrationDocName,RegistrationDocDesc FROM tblRegistrationDocType 
	WHERE RegistrationDocTypeId = @DocumentTypeID

GO

/****** Object:  StoredProcedure [dbo].[usp_GetDocumentTypeList]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDocumentTypeList]

AS

	SELECT * FROM tblRegistrationDocType
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateDocumentType]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateDocumentType]

	@RegistrationDocTypeId int,
	@RegistrationDocName nvarchar(100),
	@RegistrationDocDesc nvarchar(300),
	@PortalID int,
	@ModifiedById nvarchar(100)
	
AS

	UPDATE tblRegistrationDocType SET RegistrationDocName = @RegistrationDocName,
			RegistrationDocDesc = @RegistrationDocDesc,
				PortalID = @PortalID,
				ModifiedById = @ModifiedById,
				ModifiedDate = GetDATE()
	WHERE RegistrationDocTypeId = @RegistrationDocTypeId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionGroupDetailByCompetitionGroupID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionGroupDetailByCompetitionGroupID]
  
 @CompetitionGroupId int
  
AS  

 SELECT * FROM tblCompetitionGroup where CompetitionGroupId = @CompetitionGroupId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionLeagueList]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionLeagueList]
  
 
  
AS  

 SELECT * FROM tblCompetitionLeague 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserAndRegistrationDetailByUserID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserAndRegistrationDetailByUserID]

	
AS

	SELECT us.UserId,us.FirstName +' '+ us.LastName AS UserName,us.EmailId,Convert(nvarchar(10),re.DateOfBirth,101) AS DateOfBirth,
	us.TelephoneNumber  
	FROM tblUsers AS us  
	INNER JOIN tblRegistration AS re ON us.UserId = re.UserID  
 
 --select * from tblUsers
 --select * from tblRegistration
 --delete from tblUsers where UserId = 3
 --delete from tblRegistration where RegistrationId = 3
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionDetailByCompetitionID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionDetailByCompetitionID]
  
  @CompetitionId int
  
AS  

 SELECT * FROM tblCompetition where  CompetitionId = @CompetitionId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionTypeDetailByCompetitionTypeID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionTypeDetailByCompetitionTypeID]
  
  @CompetitionTypeId int
  
AS  

 SELECT * FROM tblCompetitionType where  CompetitionTypeId = @CompetitionTypeId
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCompetitionTypeList]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCompetitionTypeList]
  
AS  
 SELECT * FROM tblCompetitionType
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateRegistration]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateRegistration]

	@UserId int,
	@UserId_Admin int,
	@Gender nvarchar(6),
	@AddressLine1 nvarchar(255),
	@AddressLine2 nvarchar(255),
	@City nvarchar(50),
	@State nvarchar(50),
	@ZipPostalCode nvarchar(20),
	@Country int,
	@DateOfBirth DateTime,
	@PlaceOfBirth nvarchar(50),
	@Height nvarchar(5),
	@Weight nvarchar(5),
	@ActiveFlagId int,
	@ShowFlagId int,
	@PortalID int,
	@ModifiedById nvarchar(100)

AS
	UPDATE tblRegistration SET UserId_Admin = @UserId_Admin,
	Gender = @Gender,
	AddressLine1 = @AddressLine1,
	AddressLine2 = @AddressLine2,
	City = @City,
	State = @State,
	ZipPostalCode = @ZipPostalCode,
	Country = @Country,
	DateOfBirth = @DateOfBirth,
	PlaceOfBirth = @PlaceOfBirth,
	Height = @Height,
	Weight = @Weight,
	PortalID = @PortalID,
	ModifiedById = @ModifiedById,
	ModifiedDate = GetDate()
	
	WHERE UserId = @UserId
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateCompetitionType]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO


CREATE PROC [dbo].[usp_UpdateCompetitionType]
 @CompetitionTypeID int,  
 @CompetitionTypeName nvarchar(100),  
 @CompetitionTypeDesc nvarchar(200),  
 @ActiveflagId int,
 @ShowflagId int,
 @PortalID int,  
 @ModifiedById nvarchar(100) 
 
  
AS   
  
 Update tblCompetitionType set
 CompetitionTypeName = @CompetitionTypeName,
 CompetitionTypeDesc = @CompetitionTypeDesc,
 ActiveFlagId = @ActiveflagId,
 ShowFlagId = @ShowflagId,
 PortalID = @PortalID,
 ModifiedById = @ModifiedById,
 ModifiedDate = GETDATE() Where CompetitionTypeId = @CompetitionTypeID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertCompetitionType]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertCompetitionType]  
  
 @CompetitionTypeName nvarchar(100),  
 @CompetitionTypeDesc nvarchar(200),  
 @ActiveflagId int,
 @ShowflagId int,
 @PortalID int,  
 @CreatedById nvarchar(100),  
 @ModifiedById nvarchar(100)  
  
AS   
  
 INSERT INTO tblCompetitionType
 (CompetitionTypeName,
 CompetitionTypeDesc,
 ActiveFlagId,
 ShowFlagId,
 PortalID,
 CreatedById,
 ModifiedById) 
  
 VALUES 
 (@CompetitionTypeName,
 @CompetitionTypeDesc,
 @ActiveflagId,
 @ShowflagId,
 @PortalID,
 @CreatedById,
 @ModifiedById)  
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserPhotoByUserID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserPhotoByUserID]

	@UserID int
	
AS

	SELECT UserPhotoFile FROM tblUsers WHERE UserId = @UserID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetLatestUserID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetLatestUserID]

AS

	SELECT Top 1 UserId FROM tblUsers ORDER BY UserId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertRegistration]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertRegistration]

	@UserId int,
	@UserId_Admin int,
	@Gender nvarchar(6),
	@AddressLine1 nvarchar(255),
	@AddressLine2 nvarchar(255),
	@City nvarchar(50),
	@State nvarchar(50),
	@ZipPostalCode nvarchar(20),
	@Country int,
	@DateOfBirth DateTime,
	@PlaceOfBirth nvarchar(50),
	@Height nvarchar(5),
	@Weight nvarchar(5),
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)

AS

	INSERT INTO tblRegistration (UserId,UserId_Admin,Gender,AddressLine1,AddressLine2,City,State,ZipPostalCode,Country,DateOfBirth,
								 PlaceOfBirth,Height,Weight,PortalID,CreatedById,ModifiedById)
	VALUES (@UserId,@UserId_Admin,@Gender,@AddressLine1,@AddressLine2,@City,@State,@ZipPostalCode,@Country,@DateOfBirth,
			@PlaceOfBirth,@Height,@Weight,@PortalID,@CreatedById,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_GetCountryList]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetCountryList]

AS

	SELECT CountryID,CountryName from tblCountry
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserType]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserType]

AS

	SELECT * FROM tblUserType
GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserTypeDetailByUserTypeID]    Script Date: 03/02/2016 12:55:05 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserTypeDetailByUserTypeID]

	@UserTypeID int
	
AS

	SELECT * FROM tblUserType WHERE UserTypeId = @UserTypeID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertUserType]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertUserType]

	@UserTypeName nvarchar(100),
	@UserTypeAbbr nvarchar(255),
	@UserTypeDesc nvarchar(255),
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)

AS	

	INSERT INTO tblUserType (UserTypeName,UserTypeAbbr,UserTypeDesc,PortalID,CreatedById,ModifiedById)
	VALUES (@UserTypeName,@UserTypeAbbr,@UserTypeDesc,@PortalID,@CreatedById,@ModifiedById)

GO

/****** Object:  StoredProcedure [dbo].[usp_GetUserTypeList]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetUserTypeList]

AS
	SELECT * FROM tblUserType
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateUserType]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateUserType]

	@UserTypeId int,
	@UserTypeName nvarchar(100),
	@UserTypeAbbr nvarchar(255),
	@UserTypeDesc nvarchar(255),
	@PortalID int, 
	@ModifiedById nvarchar(100)

AS

	UPDATE tblUserType SET UserTypeName = @UserTypeName,
						   UserTypeAbbr = @UserTypeAbbr,
						   UserTypeDesc = @UserTypeDesc,
						   PortalID = @PortalID, 
							ModifiedById = @ModifiedById, 
							ModifiedDate = GETDATE()
	WHERE UserTypeId = @UserTypeId	
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberTypeDetailByClubMemberTypeID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMemberTypeDetailByClubMemberTypeID]

	@ClubMemberTypeID int
	
AS

	SELECT * FROM tblClubMemberType WHERE ClubMemberTypeId = @ClubMemberTypeID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberDetailByClubMemberID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMemberDetailByClubMemberID]

	@ClubMemberID int
	
AS

	SELECT * FROM tblClubMember WHERE ClubMemberId = @ClubMemberID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubSportIDByClubID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubSportIDByClubID]

	@ClubID int
	
AS

	SELECT ClubSportsId FROM tblClubSports WHERE ClubId = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubMemberType]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubMemberType]

AS

	SELECT ClubMemberTypeId, ClubMemberTypeValue FROM tblClubMemberType
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubNameByClubID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubNameByClubID]

	@ClubID int
	
AS

	SELECT ClubName FROM tblClub WHERE ClubId = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportSmallImageBySportID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSportSmallImageBySportID]

	@SportID int
	
AS

	SELECT SportSmallImageFile FROM tblSport WHERE SportID = @SportID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportLogoImageBySportID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSportLogoImageBySportID]

	@SportID int
	
AS

	SELECT SportLogoImageFile FROM tblSport WHERE SportID = @SportID 

GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportMainImageBySportID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSportMainImageBySportID]

	@SportID int
	
AS

	SELECT SportMainImageFile FROM tblSport WHERE SportID = @SportID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonLogoBySeasonID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSeasonLogoBySeasonID]
	
	@SeasonID int
	
AS

	SELECT SeasonLogoFile FROM tblSeason WHERE SeasonID = @SeasonID
GO

/****** Object:  StoredProcedure [dbo].[usp_ClubPhoto]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_ClubPhoto]

	@ClubID int
	
AS

	SELECT ClubPhotoFile FROM tblClub WHERE ClubId = @ClubID

GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubLogo]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubLogo]

	@ClubID int
	
AS

	SELECT ClubLogoFile FROM tblClub WHERE ClubId = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClubSports]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateClubSports]

	@ClubID int,
	@SportID int
	
AS

	UPDATE tblClubSports SET SportID = @SportID
					WHERE ClubID = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportIDByClubID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSportIDByClubID]
	
	@ClubID int
	
AS

	SELECT SportID FROM tblClubSports WHERE ClubID = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataClub]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataClub]  
  
AS  
  
 SELECT ClubId,ClubName,ClubAbbr,ClubDesc,ClubFamousName,ClubLogoName,
		Convert(nvarchar(10),ClubEstablishedYear,101) as ClubEstablishedYear
 FROM tblClub
GO

/****** Object:  StoredProcedure [dbo].[usp_GetMaxValue]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetMaxValue]

AS

	SELECT ClubId FROM tblClub ORDER BY ClubId DESC
GO

/****** Object:  StoredProcedure [dbo].[usp_GetClubDataByClubID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetClubDataByClubID]

	@ClubID int
	
AS
	
	SELECT * FROM tblClub WHERE ClubId = @ClubID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateClub]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateClub]

	@ClubId int,
	@ClubName nvarchar(255),
	@ClubAbbr nvarchar(300),
	@ClubDesc nvarchar(500),
	@ClubFamousName nvarchar(255),
	@ClubLogoName nvarchar(100),
	@ClubLogoFile nvarchar(100),
	@ClubPhotoFile nvarchar(100),
	@ClubEstablishedYear DateTime,
	@ActiveFlagId int,
	@ShowFlagId int,
	@PortalID int,
	@ModifiedById nvarchar(100)
	
AS

	UPDATE tblClub SET ClubName = @ClubName,
					   ClubAbbr = @ClubAbbr,
						ClubDesc = @ClubDesc,
						ClubFamousName = @ClubFamousName,
						ClubLogoName = @ClubLogoName,
						ClubLogoFile = @ClubLogoFile,
						ClubPhotoFile = @ClubPhotoFile,
						ClubEstablishedYear = @ClubEstablishedYear,
						ActiveFlagId = @ActiveFlagId,
						ShowFlagId = @ShowFlagId,
						PortalID = @PortalID,
						ModifiedById = @ModifiedById,
						ModifiedDate = GETDATE()
WHERE ClubId = @ClubId 

GO

/****** Object:  StoredProcedure [dbo].[usp_InsertClub]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertClub]

	@ClubName nvarchar(255),
	@ClubAbbr nvarchar(300),
	@ClubDesc nvarchar(500),
	@ClubFamousName nvarchar(255),
	@ClubLogoName nvarchar(100),
	@ClubLogoFile nvarchar(100),
	@ClubPhotoFile nvarchar(100),
	@ClubEstablishedYear DateTime,
	@ActiveFlagId int,
	@ShowFlagId int,
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)
	
AS

	INSERT INTO tblClub (ClubName,ClubAbbr,ClubDesc,ClubFamousName,ClubLogoName,ClubLogoFile,ClubPhotoFile,
							ClubEstablishedYear,ActiveFlagId,ShowFlagId,PortalID,CreatedById,ModifiedById)
			VALUES (@ClubName,@ClubAbbr,@ClubDesc,@ClubFamousName,@ClubLogoName,@ClubLogoFile,@ClubPhotoFile,
					@ClubEstablishedYear,@ActiveFlagId,@ShowFlagId,@PortalID,@CreatedById,@ModifiedById)				
							
GO

/****** Object:  StoredProcedure [dbo].[usp_FillSportDropdown]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillSportDropdown]

AS

	SELECT SportID,SportName FROM tblSport
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataSeason]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataSeason]  
  
AS  
 
 SELECT SeasonID,CountryID,SeasonName,SeasonDesc,Convert(nvarchar(10),StartDate,101) as StartDate,
		Convert(nvarchar(10),EndDate,101) as EndDate, 
		SeasonLogoName,SeasonLogoFile,ActiveFlagID,ShowFlagID
 FROM tblSeason
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSeasonDataBySeasonID]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSeasonDataBySeasonID]

	@SeasonID int
	
AS


	SELECT * FROM tblSeason WHERE SeasonID = @SeasonID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSeason]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateSeason]

	@SeasonID int, 
	@CountryID int,
	@SeasonName nvarchar(150),
	@SeasonDesc nvarchar(255),
	@StartDate nvarchar(12),
	@EndDate nvarchar(12),
	@SeasonLogoName nvarchar(100),
	@SeasonLogoFile nvarchar(100),
	@ActiveFlagID int,
	@ShowFlagID int,
	@PortalID int,
	@ModifiedById nvarchar(100)
		
AS


	UPDATE tblSeason SET CountryID = @CountryID,
						 SeasonName = @SeasonName,
					 	 SeasonDesc = @SeasonDesc,
						StartDate = @StartDate,
						EndDate = @EndDate,
						SeasonLogoName = @SeasonLogoName,
						SeasonLogoFile = @SeasonLogoFile,
						ActiveFlagID = @ActiveFlagID,
						ShowFlagID = @ShowFlagID,
						PortalID = @PortalID,
						ModifiedById = @ModifiedById, 
						ModifiedDate = getdate()
	WHERE SeasonID = @SeasonID
GO

/****** Object:  StoredProcedure [dbo].[usp_UpdateSport]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_UpdateSport]      
  
 @SportID int,  
 @SportName nvarchar(100),  
 @SportDesc nvarchar(255),  
 @SportMainImageFile nvarchar(150),  
 @SportMainImageDesc nvarchar(255),  
 @SportLogoImageFile nvarchar(150),  
 @SportLogoImageDesc nvarchar(255),  
 @SportSmallImageFile nvarchar(150),  
 @SportSmallImageDesc nvarchar(255),  
 @ActiveFlagId int,  
 @ShowFlagId int,  
 @PortalID int,  
 @ModifiedById nvarchar(100)  
   
AS  
  
 UPDATE tblSport SET SportName = @SportName,  
      SportDesc = @SportDesc,  
      SportMainImageFile = @SportMainImageFile,  
      SportMainImageDesc = @SportMainImageDesc,  
      SportLogoImageFile = @SportLogoImageFile,  
      SportLogoImageDesc = @SportLogoImageDesc,  
      SportSmallImageFile = @SportSmallImageFile,  
      SportSmallImageDesc = @SportSmallImageDesc,  
      ActiveFlagId = @ActiveFlagId,  
      ShowFlagId = @ShowFlagId,  
      PortalID = @PortalID,  
      ModifiedById = @ModifiedById,  
      ModifiedDate = getdate()
 WHERE SportID = @SportID
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSeason]    Script Date: 03/02/2016 12:55:06 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertSeason]

	@CountryID int,
	@SeasonName nvarchar(150),
	@SeasonDesc nvarchar(255),
	@StartDate nvarchar(12),
	@EndDate nvarchar(12),
	@SeasonLogoName nvarchar(100),
	@SeasonLogoFile nvarchar(100),
	@ActiveFlagID int,
	@ShowFlagID int,
	@PortalID int,
	@CreatedByID nvarchar(100),
	@ModifiedById nvarchar(100)
	
AS

	INSERT INTO tblSeason (CountryID,SeasonName,SeasonDesc,StartDate,EndDate,SeasonLogoName,SeasonLogoFile,ActiveFlagID,ShowFlagID,PortalID,CreatedByID,ModifiedById)
	VALUES (@CountryID,@SeasonName,@SeasonDesc,@StartDate,@EndDate,@SeasonLogoName,@SeasonLogoFile,@ActiveFlagID,@ShowFlagID,@PortalID,@CreatedByID,@ModifiedById)
GO

/****** Object:  StoredProcedure [dbo].[usp_FillCountryDropdown]    Script Date: 03/02/2016 12:55:07 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_FillCountryDropdown]

AS

	SELECT * FROM tblCountry 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetSportDetailBySportID]    Script Date: 03/02/2016 12:55:07 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetSportDetailBySportID]  
  
 @SportID int  
   
AS  
  
 SELECT * FROM tblSport WHERE SportID = @SportID 
GO

/****** Object:  StoredProcedure [dbo].[usp_GetDataSport]    Script Date: 03/02/2016 12:55:07 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_GetDataSport]  
   
AS  
  
 SELECT SportID,SportName,SportDesc,SportMainImageFile,SportLogoImageFile,SportSmallImageFile  
 FROM tblSport
GO

/****** Object:  StoredProcedure [dbo].[usp_InsertSport]    Script Date: 03/02/2016 12:55:07 ******/
SET ANSI_NULLS ON
GO

SET QUOTED_IDENTIFIER ON
GO

CREATE PROC [dbo].[usp_InsertSport]

	@SportName nvarchar(100),
	@SportDesc nvarchar(255),
	@SportMainImageFile nvarchar(150),
	@SportMainImageDesc nvarchar(255),
	@SportLogoImageFile nvarchar(150),
	@SportLogoImageDesc nvarchar(255),
	@SportSmallImageFile nvarchar(150),
	@SportSmallImageDesc nvarchar(255),
	@ActiveFlagId int,
	@ShowFlagId int,
	@PortalID int,
	@CreatedById nvarchar(100),
	@ModifiedById nvarchar(100)
                   
AS                  
           
 INSERT INTO tblSport (SportName,SportDesc,SportMainImageFile,SportMainImageDesc,SportLogoImageFile,
					   SportLogoImageDesc,SportSmallImageFile,SportSmallImageDesc,ActiveFlagId,ShowFlagId,
					   PortalID,CreatedById,ModifiedById)                   
				VALUES (@SportName,@SportDesc,@SportMainImageFile,@SportMainImageDesc,@SportLogoImageFile,
						@SportLogoImageDesc,@SportSmallImageFile,@SportSmallImageDesc,@ActiveFlagId,
						@ShowFlagId,@PortalID,@CreatedById,@ModifiedById)
GO


